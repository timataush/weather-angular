var XM=Object.defineProperty,eP=Object.defineProperties;var tP=Object.getOwnPropertyDescriptors;var Sw=Object.getOwnPropertySymbols;var nP=Object.prototype.hasOwnProperty,rP=Object.prototype.propertyIsEnumerable;var Aw=(t,e,n)=>e in t?XM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})nP.call(e,n)&&Aw(t,n,e[n]);if(Sw)for(var n of Sw(e))rP.call(e,n)&&Aw(t,n,e[n]);return t},re=(t,e)=>eP(t,tP(e));var S=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var Hp;function zp(){return Hp}function Xn(t){let e=Hp;return Hp=t,e}var iP=Symbol("NotFound"),Ju=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function bo(t){return t===iP||t?.name==="\u0275NotFound"}function nl(t,e){return Object.is(t,e)}var Je=null,Zu=!1,qp=1,oP=null,mt=Symbol("SIGNAL");function te(t){let e=Je;return Je=t,e}function rl(){return Je}var Ei={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Co(t){if(Zu)throw new Error("");if(Je===null)return;Je.consumerOnSignalRead(t);let e=Je.nextProducerIndex++;if(al(Je),e<Je.producerNode.length&&Je.producerNode[e]!==t&&Ta(Je)){let n=Je.producerNode[e];sl(n,Je.producerIndexOfThis[e])}Je.producerNode[e]!==t&&(Je.producerNode[e]=t,Je.producerIndexOfThis[e]=Ta(Je)?Nw(t,Je,e):0),Je.producerLastReadVersion[e]=t.version}function Rw(){qp++}function il(t){if(!(Ta(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===qp)){if(!t.producerMustRecompute(t)&&!Da(t)){tl(t);return}t.producerRecomputeValue(t),tl(t)}}function Gp(t){if(t.liveConsumerNode===void 0)return;let e=Zu;Zu=!0;try{for(let n of t.liveConsumerNode)n.dirty||sP(n)}finally{Zu=e}}function Wp(){return Je?.consumerAllowSignalWrites!==!1}function sP(t){t.dirty=!0,Gp(t),t.consumerMarkedDirty?.(t)}function tl(t){t.dirty=!1,t.lastCleanEpoch=qp}function Ii(t){return t&&(t.nextProducerIndex=0),te(t)}function So(t,e){if(te(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ta(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)sl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Da(t){al(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(il(n),r!==n.version))return!0}return!1}function ol(t){if(al(t),Ta(t))for(let e=0;e<t.producerNode.length;e++)sl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Nw(t,e,n){if(Mw(t),t.liveConsumerNode.length===0&&Pw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Nw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function sl(t,e){if(Mw(t),t.liveConsumerNode.length===1&&Pw(t))for(let r=0;r<t.producerNode.length;r++)sl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];al(i),i.producerIndexOfThis[r]=e}}function Ta(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function al(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Mw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Pw(t){return t.producerNode!==void 0}function cl(t){oP?.(t)}function ul(t,e){let n=Object.create(aP);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(il(n),Co(n),n.value===wa)throw n.error;return n.value};return r[mt]=n,cl(n),r}var Xu=Symbol("UNSET"),el=Symbol("COMPUTING"),wa=Symbol("ERRORED"),aP=re(O({},Ei),{value:Xu,dirty:!0,error:null,equal:nl,kind:"computed",producerMustRecompute(t){return t.value===Xu||t.value===el},producerRecomputeValue(t){if(t.value===el)throw new Error("");let e=t.value;t.value=el;let n=Ii(t),r,i=!1;try{r=t.computation(),te(null),i=e!==Xu&&e!==wa&&r!==wa&&t.equal(e,r)}catch(o){r=wa,t.error=o}finally{So(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function cP(){throw new Error}var xw=cP;function Ow(t){xw(t)}function Kp(t){xw=t}var uP=null;function Qp(t,e){let n=Object.create(ll);n.value=t,e!==void 0&&(n.equal=e);let r=()=>kw(n);return r[mt]=n,cl(n),[r,s=>Ao(n,s),s=>Yp(n,s)]}function kw(t){return Co(t),t.value}function Ao(t,e){Wp()||Ow(t),t.equal(t.value,e)||(t.value=e,lP(t))}function Yp(t,e){Wp()||Ow(t),Ao(t,e(t.value))}var ll=re(O({},Ei),{equal:nl,value:void 0,kind:"signal"});function lP(t){t.version++,Rw(),Gp(t),uP?.(t)}function Y(t){return typeof t=="function"}function Ro(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var dl=Ro(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function wi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){e=o instanceof dl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Fw(o)}catch(s){e=e??[],s instanceof dl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new dl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Fw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&wi(n,e)}remove(e){let{_finalizers:n}=this;n&&wi(n,e),e instanceof t&&e._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var Jp=Fe.EMPTY;function hl(t){return t instanceof Fe||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function Fw(t){Y(t)?t():t.unsubscribe()}var un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var No={setTimeout(t,e,...n){let{delegate:r}=No;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=No;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function fl(t){No.setTimeout(()=>{let{onUnhandledError:e}=un;if(e)e(t);else throw t})}function ba(){}var Lw=Zp("C",void 0,void 0);function Vw(t){return Zp("E",void 0,t)}function jw(t){return Zp("N",t,void 0)}function Zp(t,e,n){return{kind:t,value:e,error:n}}var Ti=null;function Mo(t){if(un.useDeprecatedSynchronousErrorHandling){let e=!Ti;if(e&&(Ti={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ti;if(Ti=null,n)throw r}}else t()}function Uw(t){un.useDeprecatedSynchronousErrorHandling&&Ti&&(Ti.errorThrown=!0,Ti.error=t)}var Di=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hl(e)&&e.add(this)):this.destination=fP}static create(e,n,r){return new er(e,n,r)}next(e){this.isStopped?eg(jw(e),this):this._next(e)}error(e){this.isStopped?eg(Vw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?eg(Lw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dP=Function.prototype.bind;function Xp(t,e){return dP.call(t,e)}var tg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){pl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){pl(r)}else pl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){pl(n)}}},er=class extends Di{constructor(e,n,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&un.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Xp(e.next,o),error:e.error&&Xp(e.error,o),complete:e.complete&&Xp(e.complete,o)}):i=e}this.destination=new tg(i)}};function pl(t){un.useDeprecatedSynchronousErrorHandling?Uw(t):fl(t)}function hP(t){throw t}function eg(t,e){let{onStoppedNotification:n}=un;n&&No.setTimeout(()=>n(t,e))}var fP={closed:!0,next:ba,error:hP,complete:ba};var Po=typeof Symbol=="function"&&Symbol.observable||"@@observable";function $t(t){return t}function gl(...t){return ng(t)}function ng(t){return t.length===0?$t:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=gP(n)?n:new er(n,r,i);return Mo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Bw(r),new r((i,o)=>{let s=new er({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Po](){return this}pipe(...n){return ng(n)(this)}toPromise(n){return n=Bw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Bw(t){var e;return(e=t??un.Promise)!==null&&e!==void 0?e:Promise}function pP(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function gP(t){return t&&t instanceof Di||pP(t)&&hl(t)}function rg(t){return Y(t?.lift)}function ae(t){return e=>{if(rg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,e,n,r,i){return new ig(t,e,n,r,i)}var ig=class extends Di{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xo(){return ae((t,e)=>{let n=null;t._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Oo=class extends G{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,rg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let n=this.getSubject();e.add(this.source.subscribe(ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return xo()(this)}};var $w=Ro(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ml(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $w}next(n){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Jp:(this.currentObservers=null,o.push(n),new Fe(()=>{this.currentObservers=null,wi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new ml(e,n),t})(),ml=class extends Ae{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Jp}};var ct=class extends Ae{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var og={now(){return(og.delegate||Date).now()},delegate:void 0};var yl=class extends Fe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ca={setInterval(t,e,...n){let{delegate:r}=Ca;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ca;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ko=class extends yl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ca.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ca.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,wi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Fo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Fo.now=og.now;var Lo=class extends Fo{constructor(e,n=Fo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Vo=new Lo(ko),sg=Vo;var vl=class extends ko{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var _l=class extends Lo{};var ag=new _l(vl);var Pt=new G(t=>t.complete());function El(t){return t&&Y(t.schedule)}function Hw(t){return t[t.length-1]}function Il(t){return Y(Hw(t))?t.pop():void 0}function Pr(t){return El(Hw(t))?t.pop():void 0}function cg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function zw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bi(t){return this instanceof bi?(this.v=t,this):new bi(t)}function Gw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function a(y,b){r[y]&&(i[y]=function(N){return new Promise(function(M,x){o.push([y,N,M,x])>1||u(y,N)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof bi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Ww(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof zw=="function"?zw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var wl=t=>t&&typeof t.length=="number"&&typeof t!="function";function Tl(t){return Y(t?.then)}function Dl(t){return Y(t[Po])}function bl(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function Cl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function mP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sl=mP();function Al(t){return Y(t?.[Sl])}function Rl(t){return Gw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield bi(n.read());if(i)return yield bi(void 0);yield yield bi(r)}}finally{n.releaseLock()}})}function Nl(t){return Y(t?.getReader)}function Pe(t){if(t instanceof G)return t;if(t!=null){if(Dl(t))return yP(t);if(wl(t))return vP(t);if(Tl(t))return _P(t);if(bl(t))return Kw(t);if(Al(t))return EP(t);if(Nl(t))return IP(t)}throw Cl(t)}function yP(t){return new G(e=>{let n=t[Po]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vP(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function _P(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,fl)})}function EP(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Kw(t){return new G(e=>{wP(t,e).catch(n=>e.error(n))})}function IP(t){return Kw(Rl(t))}function wP(t,e){var n,r,i,o;return qw(this,void 0,void 0,function*(){try{for(n=Ww(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function xt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function xr(t,e=0){return ae((n,r)=>{n.subscribe(ce(r,i=>xt(r,t,()=>r.next(i),e),()=>xt(r,t,()=>r.complete(),e),i=>xt(r,t,()=>r.error(i),e)))})}function Or(t,e=0){return ae((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Qw(t,e){return Pe(t).pipe(Or(e),xr(e))}function Yw(t,e){return Pe(t).pipe(Or(e),xr(e))}function Jw(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Zw(t,e){return new G(n=>{let r;return xt(n,e,()=>{r=t[Sl](),xt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Ml(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{xt(n,e,()=>{let r=t[Symbol.asyncIterator]();xt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Xw(t,e){return Ml(Rl(t),e)}function eT(t,e){if(t!=null){if(Dl(t))return Qw(t,e);if(wl(t))return Jw(t,e);if(Tl(t))return Yw(t,e);if(bl(t))return Ml(t,e);if(Al(t))return Zw(t,e);if(Nl(t))return Xw(t,e)}throw Cl(t)}function Re(t,e){return e?eT(t,e):Pe(t)}function K(...t){let e=Pr(t);return Re(t,e)}function kr(t,e){let n=Y(t)?t:()=>t,r=i=>i.error(n());return new G(e?i=>e.schedule(r,0,i):r)}function ug(t){return!!t&&(t instanceof G||Y(t.lift)&&Y(t.subscribe))}var tr=Ro(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function tT(t){return t instanceof Date&&!isNaN(t)}function H(t,e){return ae((n,r)=>{let i=0;n.subscribe(ce(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:TP}=Array;function DP(t,e){return TP(e)?t(...e):t(e)}function Pl(t){return H(e=>DP(t,e))}var{isArray:bP}=Array,{getPrototypeOf:CP,prototype:SP,keys:AP}=Object;function xl(t){if(t.length===1){let e=t[0];if(bP(e))return{args:e,keys:null};if(RP(e)){let n=AP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function RP(t){return t&&typeof t=="object"&&CP(t)===SP}function Ol(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function kl(...t){let e=Pr(t),n=Il(t),{args:r,keys:i}=xl(t);if(r.length===0)return Re([],e);let o=new G(NP(r,e,i?s=>Ol(i,s):$t));return n?o.pipe(Pl(n)):o}function NP(t,e,n=$t){return r=>{nT(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)nT(e,()=>{let l=Re(t[u],e),h=!1;l.subscribe(ce(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function nT(t,e,n){t?xt(n,t,e):e()}function rT(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?b(N):u.push(N),b=N=>{o&&e.next(N),l++;let M=!1;Pe(n(N,h++)).subscribe(ce(e,x=>{i?.(x),o?y(x):e.next(x)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let x=u.shift();s?xt(e,s,()=>b(x)):b(x)}m()}catch(x){e.error(x)}}))};return t.subscribe(ce(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ze(t,e,n=1/0){return Y(e)?Ze((r,i)=>H((o,s)=>e(r,o,i,s))(Pe(t(r,i))),n):(typeof e=="number"&&(n=e),ae((r,i)=>rT(r,i,t,n)))}function iT(t=1/0){return Ze($t,t)}function oT(){return iT(1)}function jo(...t){return oT()(Re(t,Pr(t)))}function Sa(t){return new G(e=>{Pe(t()).subscribe(e)})}function lg(...t){let e=Il(t),{args:n,keys:r}=xl(t),i=new G(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Pe(n[h]).subscribe(ce(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ol(r,a):a),o.complete())}))}});return e?i.pipe(Pl(e)):i}function sT(t=0,e,n=sg){let r=-1;return e!=null&&(El(e)?n=e:r=e),new G(i=>{let o=tT(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Sn(t=0,e=Vo){return t<0&&(t=0),sT(t,t,e)}function Tt(t,e){return ae((n,r)=>{let i=0;n.subscribe(ce(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ot(t){return ae((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ce(n,void 0,void 0,s=>{o=Pe(t(s,Ot(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function aT(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ce(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Fr(t,e){return Y(e)?Ze(t,e,1):Ze(t,1)}function Lr(t){return ae((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function nr(t){return t<=0?()=>Pt:ae((e,n)=>{let r=0;e.subscribe(ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Fl(t=MP){return ae((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function MP(){return new tr}function An(t){return ae((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function rr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,o)=>t(i,o,r)):$t,nr(1),n?Lr(e):Fl(()=>new tr))}function Uo(t){return t<=0?()=>Pt:ae((e,n)=>{let r=[];e.subscribe(ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function dg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,o)=>t(i,o,r)):$t,Uo(1),n?Lr(e):Fl(()=>new tr))}function Ll(t,e){return ae(aT(t,e,arguments.length>=2,!0))}function Aa(t={}){let{connector:e=()=>new Ae,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,l=0,h=!1,p=!1,m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),s=u=void 0,h=p=!1},b=()=>{let N=s;y(),N?.unsubscribe()};return ae((N,M)=>{l++,!p&&!h&&m();let x=u=u??e();M.add(()=>{l--,l===0&&!p&&!h&&(a=hg(b,i))}),x.subscribe(M),!s&&l>0&&(s=new er({next:z=>x.next(z),error:z=>{p=!0,m(),a=hg(y,n,z),x.error(z)},complete:()=>{h=!0,m(),a=hg(y,r),x.complete()}}),Pe(N).subscribe(s))})(o)}}function hg(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new er({next:()=>{r.unsubscribe(),t()}});return Pe(e(...n)).subscribe(r)}function Ht(...t){let e=Pr(t);return ae((n,r)=>{(e?jo(t,n,e):jo(t,n)).subscribe(r)})}function Xe(t,e){return ae((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ce(r,u=>{i?.unsubscribe();let l=0,h=o++;Pe(t(u,h)).subscribe(i=ce(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Vl(t){return ae((e,n)=>{Pe(t).subscribe(ce(n,()=>n.complete(),ba)),!n.closed&&e.subscribe(n)})}function Ve(t,e,n){let r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ce(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):$t}function cT(t){let e=te(null);try{return t()}finally{te(e)}}var Hl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,n){super(zl(e,n)),this.code=e}};function PP(t){return`NG0${Math.abs(t)}`}function zl(t,e){return`${PP(t)}${e?": "+e:""}`}var ln=globalThis;function Ne(t){for(let e in t)if(t[e]===Ne)return e;throw Error("")}function hT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function kt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(kt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function ql(t,e){return t?e?`${t} ${e}`:t:e||""}var xP=Ne({__forward_ref__:Ne});function Ni(t){return t.__forward_ref__=Ni,t.toString=function(){return kt(this())},t}function ut(t){return bg(t)?t():t}function bg(t){return typeof t=="function"&&t.hasOwnProperty(xP)&&t.__forward_ref__===Ni}function fT(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pa(t){return OP(t,Gl)}function Cg(t){return Pa(t)!==null}function OP(t,e){return t.hasOwnProperty(e)&&t[e]||null}function kP(t){let e=t?.[Gl]??null;return e||null}function pg(t){return t&&t.hasOwnProperty(Ul)?t[Ul]:null}var Gl=Ne({\u0275prov:Ne}),Ul=Ne({\u0275inj:Ne}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Sg(t){return t&&!!t.\u0275providers}var Ag=Ne({\u0275cmp:Ne}),Rg=Ne({\u0275dir:Ne}),Ng=Ne({\u0275pipe:Ne}),Mg=Ne({\u0275mod:Ne}),Na=Ne({\u0275fac:Ne}),Mi=Ne({__NG_ELEMENT_ID__:Ne}),uT=Ne({__NG_ENV_ID__:Ne});function Wl(t){return typeof t=="string"?t:t==null?"":String(t)}function pT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Wl(t)}function Pg(t,e){throw new V(-200,t)}function Kl(t,e){throw new V(-201,!1)}var gg;function gT(){return gg}function Dt(t){let e=gg;return gg=t,e}function xg(t,e,n){let r=Pa(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Kl(t,"Injector")}var FP={},Ci=FP,mg="__NG_DI_FLAG__",yg=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Si(n)||0;try{return this.injector.get(e,r&8?null:Ci,r)}catch(i){if(bo(i))return i;throw i}}},Bl="ngTempTokenPath",LP="ngTokenPath",VP=/\n/gm,jP="\u0275",lT="__source";function UP(t,e=0){let n=zp();if(n===void 0)throw new V(-203,!1);if(n===null)return xg(t,void 0,e);{let r=BP(e),i=n.retrieve(t,r);if(bo(i)){if(r.optional)return null;throw i}return i}}function q(t,e=0){return(gT()||UP)(ut(t),e)}function R(t,e){return q(t,Si(e))}function Si(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function BP(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function vg(t){let e=[];for(let n=0;n<t.length;n++){let r=ut(t[n]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=$P(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(q(i,o))}else e.push(q(r))}return e}function Og(t,e){return t[mg]=e,t.prototype[mg]=e,t}function $P(t){return t[mg]}function HP(t,e,n,r){let i=t[Bl];throw e[lT]&&i.unshift(e[lT]),t.message=zP(`
`+t.message,i,n,r),t[LP]=i,t[Bl]=null,t}function zP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==jP?t.slice(2):t;let i=kt(e);if(Array.isArray(e))i=e.map(kt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):kt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(VP,`
  `)}`}function Vr(t,e){let n=t.hasOwnProperty(Na);return n?t[Na]:null}function Ql(t,e){t.forEach(n=>Array.isArray(n)?Ql(n,e):e(n))}function kg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Yl(t,e,n){let r=$o(t,e);return r>=0?t[r|1]=n:(r=~r,mT(t,r,e,n)),r}function Jl(t,e){let n=$o(t,e);if(n>=0)return t[n|1]}function $o(t,e){return qP(t,e,1)}function qP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Br={},bt=[],$r=new U(""),Fg=new U("",-1),Lg=new U(""),Ma=class{get(e,n=Ci){if(n===Ci)throw new Ju(`NullInjectorError: No provider for ${kt(e)}!`);return n}};function Vg(t){return t[Mg]||null}function Hr(t){return t[Ag]||null}function jg(t){return t[Rg]||null}function yT(t){return t[Ng]||null}function Mn(t){return{\u0275providers:t}}function vT(...t){return{\u0275providers:Ug(!0,t),\u0275fromNgModule:!0}}function Ug(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ql(e,s=>{let a=s;$l(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&_T(i,o),n}function _T(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Bg(i,o=>{e(o,r)})}}function $l(t,e,n,r){if(t=ut(t),!t)return!1;let i=null,o=pg(t),s=!o&&Hr(t);if(!o&&!s){let u=t.ngModule;if(o=pg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)$l(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ql(o.imports,h=>{$l(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&_T(l,e)}if(!a){let l=Vr(i)||(()=>new i);e({provide:i,useFactory:l,deps:bt},i),e({provide:Lg,useValue:i,multi:!0},i),e({provide:$r,useValue:()=>q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Bg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Bg(t,e){for(let n of t)Sg(n)&&(n=n.\u0275providers),Array.isArray(n)?Bg(n,e):e(n)}var GP=Ne({provide:String,useValue:Ne});function ET(t){return t!==null&&typeof t=="object"&&GP in t}function WP(t){return!!(t&&t.useExisting)}function KP(t){return!!(t&&t.useFactory)}function Ai(t){return typeof t=="function"}function IT(t){return!!t.useClass}var Oa=new U(""),jl={},dT={},fg;function ka(){return fg===void 0&&(fg=new Ma),fg}var je=class{},Ri=class extends je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Eg(e,s=>this.processProvider(s)),this.records.set(Fg,Bo(void 0,this)),i.has("environment")&&this.records.set(je,Bo(void 0,this));let o=this.records.get(Oa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Lg,bt,{self:!0}))}retrieve(e,n){let r=Si(n)||0;try{return this.get(e,Ci,r)}catch(i){if(bo(i))return i;throw i}}destroy(){Ra(this),this._destroyed=!0;let e=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(e)}}onDestroy(e){return Ra(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ra(this);let n=Xn(this),r=Dt(void 0),i;try{return e()}finally{Xn(n),Dt(r)}}get(e,n=Ci,r){if(Ra(this),e.hasOwnProperty(uT))return e[uT](this);let i=Si(r),o,s=Xn(this),a=Dt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=XP(e)&&Pa(e);h&&this.injectableDefInScope(h)?l=Bo(_g(e),jl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let u=i&2?ka():this.parent;return n=i&8&&n===Ci?null:n,u.get(e,n)}catch(u){if(bo(u)){if((u[Bl]=u[Bl]||[]).unshift(kt(e)),s)throw u;return HP(u,e,"R3InjectorError",this.source)}else throw u}finally{Dt(a),Xn(s)}}resolveInjectorInitializers(){let e=te(null),n=Xn(this),r=Dt(void 0),i;try{let o=this.get($r,bt,{self:!0});for(let s of o)s()}finally{Xn(n),Dt(r),te(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(kt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ut(e);let n=Ai(e)?e:ut(e&&e.provide),r=YP(e);if(!Ai(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Bo(void 0,jl,!0),i.factory=()=>vg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=te(null);try{return n.value===dT?Pg(kt(e)):n.value===jl&&(n.value=dT,n.value=n.factory()),typeof n.value=="object"&&n.value&&ZP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{te(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ut(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function _g(t){let e=Pa(t),n=e!==null?e.factory:Vr(t);if(n!==null)return n;if(t instanceof U)throw new V(204,!1);if(t instanceof Function)return QP(t);throw new V(204,!1)}function QP(t){if(t.length>0)throw new V(204,!1);let n=kP(t);return n!==null?()=>n.factory(t):()=>new t}function YP(t){if(ET(t))return Bo(void 0,t.useValue);{let e=$g(t);return Bo(e,jl)}}function $g(t,e,n){let r;if(Ai(t)){let i=ut(t);return Vr(i)||_g(i)}else if(ET(t))r=()=>ut(t.useValue);else if(KP(t))r=()=>t.useFactory(...vg(t.deps||[]));else if(WP(t))r=()=>q(ut(t.useExisting));else{let i=ut(t&&(t.useClass||t.provide));if(JP(t))r=()=>new i(...vg(t.deps));else return Vr(i)||_g(i)}return r}function Ra(t){if(t.destroyed)throw new V(205,!1)}function Bo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function JP(t){return!!t.deps}function ZP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function XP(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Eg(t,e){for(let n of t)Array.isArray(n)?Eg(n,e):n&&Sg(n)?Eg(n.\u0275providers,e):e(n)}function et(t,e){let n;t instanceof Ri?(Ra(t),n=t):n=new yg(t);let r,i=Xn(n),o=Dt(void 0);try{return e()}finally{Xn(i),Dt(o)}}function wT(){return gT()!==void 0||zp()!=null}var dn=0,ie=1,J=2,lt=3,Yt=4,Jt=5,Fa=6,Ho=7,Ct=8,Pi=9,Pn=10,Ue=11,zo=12,Hg=13,xi=14,Zt=15,Oi=16,ki=17,Fi=18,La=19,zg=20,ir=21,Zl=22,Va=23,zt=24,Xl=25,St=26,TT=1;var zr=7,ja=8,Ua=9,Ft=10;function xn(t){return Array.isArray(t)&&typeof t[TT]=="object"}function hn(t){return Array.isArray(t)&&t[TT]===!0}function qg(t){return(t.flags&4)!==0}function qr(t){return t.componentOffset>-1}function ed(t){return(t.flags&1)===1}function On(t){return!!t.template}function qo(t){return(t[J]&512)!==0}function Li(t){return(t[J]&256)===256}var DT="svg",bT="math";function Xt(t){for(;Array.isArray(t);)t=t[dn];return t}function Gg(t,e){return Xt(e[t])}function kn(t,e){return Xt(e[t.index])}function td(t,e){return t.data[e]}function nd(t,e){return t[e]}function Wg(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function en(t,e){let n=e[t];return xn(n)?n:n[dn]}function rd(t){return(t[J]&128)===128}function CT(t){return hn(t[lt])}function Ba(t,e){return e==null?null:t[e]}function Kg(t){t[ki]=0}function Qg(t){t[J]&1024||(t[J]|=1024,rd(t)&&Ha(t))}function ST(t,e){for(;t>0;)e=e[xi],t--;return e}function $a(t){return!!(t[J]&9216||t[zt]?.dirty)}function id(t){t[Pn].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),$a(t)&&Ha(t)}function Ha(t){t[Pn].changeDetectionScheduler?.notify(0);let e=jr(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!rd(e)));)e=jr(e)}function Yg(t,e){if(Li(t))throw new V(911,!1);t[ir]===null&&(t[ir]=[]),t[ir].push(e)}function AT(t,e){if(t[ir]===null)return;let n=t[ir].indexOf(e);n!==-1&&t[ir].splice(n,1)}function jr(t){let e=t[lt];return hn(e)?e[lt]:e}function RT(t){return t[Ho]??=[]}function NT(t){return t.cleanup??=[]}var ue={lFrame:GT(null),bindingsEnabled:!0,skipHydrationRootTNode:null},za=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(za||{}),ex=0,Ig=!1;function MT(){return ue.lFrame.elementDepthCount}function PT(){ue.lFrame.elementDepthCount++}function xT(){ue.lFrame.elementDepthCount--}function Jg(){return ue.bindingsEnabled}function OT(){return ue.skipHydrationRootTNode!==null}function kT(t){return ue.skipHydrationRootTNode===t}function FT(){ue.skipHydrationRootTNode=null}function Ie(){return ue.lFrame.lView}function At(){return ue.lFrame.tView}function Lt(){let t=Zg();for(;t!==null&&t.type===64;)t=t.parent;return t}function Zg(){return ue.lFrame.currentTNode}function LT(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Go(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function Xg(){return ue.lFrame.isParent}function VT(){ue.lFrame.isParent=!1}function jT(){return ue.lFrame.contextLView}function em(t){fT("Must never be called in production mode"),ex=t}function tm(){return Ig}function nm(t){let e=Ig;return Ig=t,e}function rm(){let t=ue.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function UT(t){return ue.lFrame.bindingIndex=t}function od(){return ue.lFrame.bindingIndex++}function im(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function BT(){return ue.lFrame.inI18n}function $T(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,sd(e)}function HT(){return ue.lFrame.currentDirectiveIndex}function sd(t){ue.lFrame.currentDirectiveIndex=t}function zT(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function om(t){ue.lFrame.currentQueryIndex=t}function tx(t){let e=t[ie];return e.type===2?e.declTNode:e.type===1?t[Jt]:null}function sm(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=tx(o),i===null||(o=o[xi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ue.lFrame=qT();return r.currentTNode=e,r.lView=t,!0}function ad(t){let e=qT(),n=t[ie];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qT(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?GT(t):e}function GT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function WT(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var am=WT;function cd(){let t=WT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function KT(t){return(ue.lFrame.contextLView=ST(t,ue.lFrame.contextLView))[Ct]}function Gr(){return ue.lFrame.selectedIndex}function Wr(t){ue.lFrame.selectedIndex=t}function cm(){let t=ue.lFrame;return td(t.tView,t.selectedIndex)}function QT(){return ue.lFrame.currentNamespace}var YT=!0;function ud(){return YT}function ld(t){YT=t}function wg(t,e=null,n=null,r){let i=um(t,e,n,r);return i.resolveInjectorInitializers(),i}function um(t,e=null,n=null,r,i=new Set){let o=[n||bt,vT(t)];return r=r||(typeof t=="object"?void 0:kt(t)),new Ri(o,e||ka(),r||null,i)}var dt=class t{static THROW_IF_NOT_FOUND=Ci;static NULL=new Ma;static create(e,n){if(Array.isArray(e))return wg({name:""},n,e,"");{let r=e.name??"";return wg({name:r},e.parent,e.providers,r)}}static \u0275prov=L({token:t,providedIn:"any",factory:()=>q(Fg)});static __NG_ELEMENT_ID__=-1},tt=new U(""),Kr=(()=>{class t{static __NG_ELEMENT_ID__=nx;static __NG_ENV_ID__=n=>n}return t})(),Tg=class extends Kr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Li(this._lView)}onDestroy(e){let n=this._lView;return Yg(n,e),()=>AT(n,e)}};function nx(){return new Tg(Ie())}var Rn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Vt=new U("",{providedIn:"root",factory:()=>{let t=R(je),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Rn),e.handleError(n))}}}),JT={provide:$r,useValue:()=>void R(Rn),multi:!0};function lm(t){return typeof t=="function"&&t[mt]!==void 0}function Qr(t,e){let[n,r,i]=Qp(t,e?.equal),o=n,s=o[mt];return o.set=r,o.update=i,o.asReadonly=ZT.bind(o),o}function ZT(){let t=this[mt];if(t.readonlyFn===void 0){let e=()=>this();e[mt]=t,t.readonlyFn=e}return t.readonlyFn}function dm(t){return lm(t)&&typeof t.set=="function"}var Ur=class{},dd=new U("",{providedIn:"root",factory:()=>!1});var hm=new U(""),fm=new U("");var or=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ct(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new G(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=L({token:t,providedIn:"root",factory:()=>new t})}return t})(),Yr=(()=>{class t{internalPendingTasks=R(or);scheduler=R(Ur);errorHandler=R(Vt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=L({token:t,providedIn:"root",factory:()=>new t})}return t})();function qa(...t){}var pm=(()=>{class t{static \u0275prov=L({token:t,providedIn:"root",factory:()=>new Dg})}return t})(),Dg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Jo(t){return{toString:t}.toString()}var hd="__parameters__";function fx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function xD(t,e,n){return Jo(()=>{let r=fx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(hd)?u[hd]:Object.defineProperty(u,hd,{value:[]})[hd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Vn=Og(xD("Optional"),8);var OD=Og(xD("SkipSelf"),4);function px(t){return typeof t=="function"}var Ed=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function kD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Xr=(()=>{let t=()=>FD;return t.ngInherit=!0,t})();function FD(t){return t.type.prototype.ngOnChanges&&(t.setInput=mx),gx}function gx(){let t=VD(this),e=t?.current;if(e){let n=t.previous;if(n===Br)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mx(t,e,n,r,i){let o=this.declaredInputs[r],s=VD(t)||yx(t,{previous:Br,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ed(l&&l.currentValue,n,u===Br),kD(t,e,i,n)}var LD="__ngSimpleChanges__";function VD(t){return t[LD]||null}function yx(t,e){return t[LD]=e}var XT=[];var De=function(t,e=null,n){for(let r=0;r<XT.length;r++){let i=XT[r];i(t,e,n)}};function vx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=FD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function jD(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function yd(t,e,n){UD(t,e,3,n)}function vd(t,e,n,r){(t[J]&3)===n&&UD(t,e,n,r)}function gm(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function UD(t,e,n,r){let i=r!==void 0?t[ki]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ki]+=65536),(a<o||o==-1)&&(_x(t,n,e,u),t[ki]=(t[ki]&4294901760)+u+2),u++}function eD(t,e){De(4,t,e);let n=te(null);try{e.call(t)}finally{te(n),De(5,t,e)}}function _x(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[J]>>14<t[ki]>>16&&(t[J]&3)===e&&(t[J]+=16384,eD(a,o)):eD(a,o)}var Ko=-1,Ui=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function Ex(t){return(t.flags&8)!==0}function Ix(t){return(t.flags&16)!==0}function wx(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Dx(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Tx(t){return t===3||t===4||t===6}function Dx(t){return t.charCodeAt(0)===64}function Ka(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?tD(t,n,i,null,e[++r]):tD(t,n,i,null,null))}}return t}function tD(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function BD(t){return t!==Ko}function Id(t){return t&32767}function bx(t){return t>>16}function wd(t,e){let n=bx(t),r=e;for(;n>0;)r=r[xi],n--;return r}var Cm=!0;function Td(t){let e=Cm;return Cm=t,e}var Cx=256,$D=Cx-1,HD=5,Sx=0,Fn={};function Ax(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Mi)&&(r=n[Mi]),r==null&&(r=n[Mi]=Sx++);let i=r&$D,o=1<<i;e.data[t+(i>>HD)]|=o}function Dd(t,e){let n=zD(t,e);if(n!==-1)return n;let r=e[ie];r.firstCreatePass&&(t.injectorIndex=e.length,mm(r.data,t),mm(e,null),mm(r.blueprint,null));let i=Qm(t,e),o=t.injectorIndex;if(BD(i)){let s=Id(i),a=wd(i,e),u=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function mm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=QD(i),r===null)return Ko;if(n++,i=i[xi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ko}function Sm(t,e,n){Ax(t,e,n)}function qD(t,e,n){if(n&8||t!==void 0)return t;Kl(e,"NodeInjector")}function GD(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Pi],o=Dt(void 0);try{return i?i.get(e,r,n&8):xg(e,r,n&8)}finally{Dt(o)}}return qD(r,e,n)}function WD(t,e,n,r=0,i){if(t!==null){if(e[J]&2048&&!(r&2)){let s=xx(t,e,n,r,Fn);if(s!==Fn)return s}let o=KD(t,e,n,r,Fn);if(o!==Fn)return o}return GD(e,n,r,i)}function KD(t,e,n,r,i){let o=Mx(n);if(typeof o=="function"){if(!sm(e,t,r))return r&1?qD(i,n,r):GD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Kl(n);else return s}finally{am()}}else if(typeof o=="number"){let s=null,a=zD(t,e),u=Ko,l=r&1?e[Zt][Jt]:null;for((a===-1||r&4)&&(u=a===-1?Qm(t,e):e[a+8],u===Ko||!rD(r,!1)?a=-1:(s=e[ie],a=Id(u),e=wd(u,e)));a!==-1;){let h=e[ie];if(nD(o,a,h.data)){let p=Rx(a,e,n,s,r,l);if(p!==Fn)return p}u=e[a+8],u!==Ko&&rD(r,e[ie].data[a+8]===l)&&nD(o,a,e)?(s=h,a=Id(u),e=wd(u,e)):a=-1}}return i}function Rx(t,e,n,r,i,o){let s=e[ie],a=s.data[t+8],u=r==null?qr(a)&&Cm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=Nx(a,s,n,u,l);return h!==null?bd(e,s,h,a):Fn}function Nx(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let b=s[y];if(y<u&&n===b||y>=u&&b.type===n)return y}if(i){let y=s[u];if(y&&On(y)&&y.type===n)return u}return null}function bd(t,e,n,r){let i=t[n],o=e.data;if(i instanceof Ui){let s=i;s.resolving&&Pg(pT(o[n]));let a=Td(s.canSeeViewProviders);s.resolving=!0;let u=o[n].type||o[n],l,h=s.injectImpl?Dt(s.injectImpl):null,p=sm(t,r,0);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&vx(n,o[n],e)}finally{h!==null&&Dt(h),Td(a),s.resolving=!1,am()}}return i}function Mx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Mi)?t[Mi]:void 0;return typeof e=="number"?e>=0?e&$D:Px:e}function nD(t,e,n){let r=1<<t;return!!(n[e+(t>>HD)]&r)}function rD(t,e){return!(t&2)&&!(t&1&&e)}var ji=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return WD(this._tNode,this._lView,e,Si(r),n)}};function Px(){return new ji(Lt(),Ie())}function Zo(t){return Jo(()=>{let e=t.prototype.constructor,n=e[Na]||Am(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Na]||Am(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Am(t){return bg(t)?()=>{let e=Am(ut(t));return e&&e()}:Vr(t)}function xx(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!qo(s);){let a=KD(o,s,n,r|2,Fn);if(a!==Fn)return a;let u=o.parent;if(!u){let l=s[zg];if(l){let h=l.get(n,Fn,r);if(h!==Fn)return h}u=QD(s),s=s[xi]}o=u}return i}function QD(t){let e=t[ie],n=e.type;return n===2?e.declTNode:n===1?t[Jt]:null}function Ox(){return Fd(Lt(),Ie())}function Fd(t,e){return new Xo(kn(t,e))}var Xo=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Ox}return t})();function YD(t){return(t.flags&128)===128}var Ym=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ym||{}),JD=new Map,kx=0;function Fx(){return kx++}function Lx(t){JD.set(t[La],t)}function Rm(t){JD.delete(t[La])}var iD="__ngContext__";function Za(t,e){xn(e)?(t[iD]=e[La],Lx(e)):t[iD]=e}function ZD(t){return eb(t[zo])}function XD(t){return eb(t[Yt])}function eb(t){for(;t!==null&&!hn(t);)t=t[Yt];return t}var Nm;function Jm(t){Nm=t}function Zm(){if(Nm!==void 0)return Nm;if(typeof document<"u")return document;throw new V(210,!1)}var Ld=new U("",{providedIn:"root",factory:()=>Vx}),Vx="ng",Vd=new U(""),ei=new U("",{providedIn:"platform",factory:()=>"unknown"});var jd=new U("",{providedIn:"root",factory:()=>Zm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var jx="h",Ux="b";var tb=!1,nb=new U("",{providedIn:"root",factory:()=>tb});var Bx=(t,e,n,r)=>{};function $x(t,e,n,r){Bx(t,e,n,r)}var Hx=()=>null;function rb(t,e,n=!1){return Hx(t,e,n)}function ib(t,e){let n=t.contentQueries;if(n!==null){let r=te(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];om(o),a.contentQueries(2,e[s],s)}}}finally{te(r)}}}function Mm(t,e,n){om(0);let r=te(null);try{e(t,n)}finally{te(r)}}function ob(t,e,n){if(qg(e)){let r=te(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{te(r)}}}var sr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(sr||{}),fd;function zx(){if(fd===void 0&&(fd=null,ln.trustedTypes))try{fd=ln.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fd}function Ud(t){return zx()?.createHTML(t)||t}var pd;function qx(){if(pd===void 0&&(pd=null,ln.trustedTypes))try{pd=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pd}function oD(t){return qx()?.createHTML(t)||t}var Cd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Hl})`}};function Bd(t){return t instanceof Cd?t.changingThisBreaksApplicationSecurity:t}function sb(t,e){let n=ab(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Hl})`)}return n===e}function ab(t){return t instanceof Cd&&t.getTypeName()||null}function Gx(t){let e=new xm(t);return Wx()?new Pm(e):e}var Pm=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Ud(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},xm=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Ud(e),n}};function Wx(){try{return!!new window.DOMParser().parseFromString(Ud(""),"text/html")}catch{return!1}}var Kx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cb(t){return t=String(t),t.match(Kx)?t:"unsafe:"+t}function ar(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Xa(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var ub=ar("area,br,col,hr,img,wbr"),lb=ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),db=ar("rp,rt"),Qx=Xa(db,lb),Yx=Xa(lb,ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jx=Xa(db,ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sD=Xa(ub,Yx,Jx,Qx),hb=ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zx=ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xx=ar("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),eO=Xa(hb,Zx,Xx),tO=ar("script,style,template"),Om=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=iO(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=rO(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=aD(e).toLowerCase();if(!sD.hasOwnProperty(n))return this.sanitizedSomething=!0,!tO.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!eO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;hb[a]&&(u=cb(u)),this.buf.push(" ",s,'="',cD(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=aD(e).toLowerCase();sD.hasOwnProperty(n)&&!ub.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(cD(e))}};function nO(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function rO(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw fb(e);return e}function iO(t){let e=t.firstChild;if(e&&nO(t,e))throw fb(e);return e}function aD(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function fb(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var oO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sO=/([^\#-~ |!])/g;function cD(t){return t.replace(/&/g,"&amp;").replace(oO,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(sO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var gd;function pb(t,e){let n=null;try{gd=gd||Gx(t);let r=e?String(e):"";n=gd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=gd.getInertBodyElement(r)}while(r!==o);let a=new Om().sanitizeChildren(uD(n)||n);return Ud(a)}finally{if(n){let r=uD(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function uD(t){return"content"in t&&aO(t)?t.content:null}function aO(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Xm=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Xm||{});function ey(t){let e=cO();return e?oD(e.sanitize(Xm.HTML,t)||""):sb(t,"HTML")?oD(Bd(t)):pb(Zm(),Wl(t))}function cO(){let t=Ie();return t&&t[Pn].sanitizer}function gb(t){return t instanceof Function?t():t}function uO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var mb="ng-template";function lO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&uO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ty(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ty(t){return t.type===4&&t.value!==mb}function dO(t,e,n){let r=t.type===4&&!n?mb:t.value;return e===r}function hO(t,e,n){let r=4,i=t.attrs,o=i!==null?gO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!fn(r)&&!fn(u))return!1;if(s&&fn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!dO(t,u,n)||u===""&&e.length===1){if(fn(r))return!1;s=!0}}else if(r&8){if(i===null||!lO(t,i,u,n)){if(fn(r))return!1;s=!0}}else{let l=e[++a],h=fO(u,i,ty(t),n);if(h===-1){if(fn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(fn(r))return!1;s=!0}}}}return fn(r)||s}function fn(t){return(t&1)===0}function fO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return mO(e,t)}function pO(t,e,n=!1){for(let r=0;r<e.length;r++)if(hO(t,e[r],n))return!0;return!1}function gO(t){for(let e=0;e<t.length;e++){let n=t[e];if(Tx(n))return e}return t.length}function mO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function lD(t,e){return t?":not("+e.trim()+")":e}function yO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!fn(s)&&(e+=lD(o,i),i=""),r=s,o=o||!fn(r);n++}return i!==""&&(e+=lD(o,i)),e}function vO(t){return t.map(yO).join(",")}function _O(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!fn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var gn={};function EO(t,e){return t.createText(e)}function IO(t,e,n){t.setValue(e,n)}function yb(t,e,n){return t.createElement(e,n)}function Sd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function vb(t,e,n){t.appendChild(e,n)}function dD(t,e,n,r,i){r!==null?Sd(t,e,n,r,i):vb(t,e,n)}function wO(t,e,n){t.removeChild(null,e,n)}function TO(t,e,n){t.setAttribute(e,"style",n)}function DO(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _b(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&wx(t,e,r),i!==null&&DO(t,e,i),o!==null&&TO(t,e,o)}function ny(t,e,n,r,i,o,s,a,u,l,h){let p=St+r,m=p+i,y=bO(p,m),b=typeof l=="function"?l():l;return y[ie]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function bO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:gn);return n}function CO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ny(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ry(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[dn]=i,p[J]=r|4|128|8|64|1024,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),Kg(p),p[lt]=p[xi]=t,p[Ct]=n,p[Pn]=s||t&&t[Pn],p[Ue]=a||t&&t[Ue],p[Pi]=u||t&&t[Pi]||null,p[Jt]=o,p[La]=Fx(),p[Fa]=h,p[zg]=l,p[Zt]=e.type==2?t[Zt]:p,p}function SO(t,e,n){let r=kn(e,t),i=CO(n),o=t[Pn].rendererFactory,s=iy(t,ry(t,i,null,Eb(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function Eb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Ib(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function iy(t,e){return t[zo]?t[Hg][Yt]=e:t[zo]=e,t[Hg]=e,e}function Le(t=1){wb(At(),Ie(),Gr()+t,!1)}function wb(t,e,n,r){if(!r)if((e[J]&3)===3){let o=t.preOrderCheckHooks;o!==null&&yd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&vd(e,o,0,n)}Wr(n)}var $d=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}($d||{});function km(t,e,n,r){let i=te(null);try{let[o,s,a]=t.inputs[n],u=null;(s&$d.SignalBased)!==0&&(u=e[o][mt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):kD(e,u,o,r)}finally{te(i)}}function Tb(t,e,n,r,i){let o=Gr(),s=r&2;try{Wr(-1),s&&e.length>St&&wb(t,e,St,!1),De(s?2:0,i,n),n(r,i)}finally{Wr(o),De(s?3:1,i,n)}}function oy(t,e,n){OO(t,e,n),(n.flags&64)===64&&kO(t,e,n)}function Db(t,e,n=kn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function AO(t,e,n,r){let o=r.get(nb,tb)||n===sr.ShadowDom,s=t.selectRootElement(e,o);return RO(s),s}function RO(t){NO(t)}var NO=()=>null;function MO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function bb(t,e,n,r,i,o){let s=e[ie];if(sy(t,s,e,n,r)){qr(t)&&xO(e,t.index);return}PO(t,e,n,r,i,o)}function PO(t,e,n,r,i,o){if(t.type&3){let s=kn(t,e);n=MO(n),r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function xO(t,e){let n=en(e,t);n[J]&16||(n[J]|=64)}function OO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;qr(n)&&SO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Dd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=bd(e,t,s,n);if(Za(u,e),o!==null&&LO(e,s-r,u,a,n,o),On(a)){let l=en(n.index,e);l[Ct]=bd(e,t,s,n)}}}function kO(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=HT();try{Wr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];sd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&FO(u,l)}}finally{Wr(-1),sd(s)}}function FO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Cb(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];pO(e,o.selectors,!1)&&(r??=[],On(o)?r.unshift(o):r.push(o))}return r}function LO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];km(r,n,u,l)}}function VO(t,e){let n=t[Pi];if(!n)return;n.get(Vt,null)?.(e)}function sy(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];km(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];km(h,l,r,i),a=!0}return a}function jO(t,e){let n=en(e,t),r=n[ie];UO(r,n);let i=n[dn];i!==null&&n[Fa]===null&&(n[Fa]=rb(i,n[Pi])),De(18),ay(r,n,n[Ct]),De(19,n[Ct])}function UO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ay(t,e,n){ad(e);try{let r=t.viewQuery;r!==null&&Mm(1,r,n);let i=t.template;i!==null&&Tb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Fi]?.finishViewCreation(t),t.staticContentQueries&&ib(t,e),t.staticViewQueries&&Mm(2,t.viewQuery,n);let o=t.components;o!==null&&BO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,cd()}}function BO(t,e){for(let n=0;n<e.length;n++)jO(t,e[n])}function $O(t,e,n,r){let i=te(null);try{let o=e.tView,a=t[J]&4096?4096:16,u=ry(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Oi]=l;let h=t[Fi];return h!==null&&(u[Fi]=h.createEmbeddedView(o)),ay(o,u,n),u}finally{te(i)}}function hD(t,e){return!e||e.firstChild===null||YD(t)}var fD=!1,HO=new U(""),zO;function cy(t,e){return zO(t,e)}var Ln=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ln||{});function uy(t){return(t.flags&32)===32}function Wo(t,e,n,r,i){if(r!=null){let o,s=!1;hn(r)?o=r:xn(r)&&(s=!0,r=r[dn]);let a=Xt(r);t===0&&n!==null?i==null?vb(e,n,a):Sd(e,n,a,i||null,!0):t===1&&n!==null?Sd(e,n,a,i||null,!0):t===2?wO(e,a,s):t===3&&e.destroyNode(a),o!=null&&nk(e,t,o,n,i)}}function qO(t,e){Sb(t,e),e[dn]=null,e[Jt]=null}function GO(t,e,n,r,i,o){r[dn]=i,r[Jt]=e,Hd(t,r,n,1,i,o)}function Sb(t,e){e[Pn].changeDetectionScheduler?.notify(9),Hd(t,e,e[Ue],2,null,null)}function WO(t){let e=t[zo];if(!e)return ym(t[ie],t);for(;e;){let n=null;if(xn(e))n=e[zo];else{let r=e[Ft];r&&(n=r)}if(!n){for(;e&&!e[Yt]&&e!==t;)xn(e)&&ym(e[ie],e),e=e[lt];e===null&&(e=t),xn(e)&&ym(e[ie],e),n=e&&e[Yt]}e=n}}function ly(t,e){let n=t[Ua],r=n.indexOf(e);n.splice(r,1)}function Ab(t,e){if(Li(e))return;let n=e[Ue];n.destroyNode&&Hd(t,e,n,3,null,null),WO(e)}function ym(t,e){if(Li(e))return;let n=te(null);try{e[J]&=-129,e[J]|=256,e[zt]&&ol(e[zt]),QO(t,e),KO(t,e),e[ie].type===1&&e[Ue].destroy();let r=e[Oi];if(r!==null&&hn(e[lt])){r!==e[lt]&&ly(r,e);let i=e[Fi];i!==null&&i.detachView(t)}Rm(e)}finally{te(n)}}function KO(t,e){let n=t.cleanup,r=e[Ho];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Ho]=null);let i=e[ir];if(i!==null){e[ir]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Va];if(o!==null){e[Va]=null;for(let s of o)s.destroy()}}function QO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ui)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];De(4,a,u);try{u.call(a)}finally{De(5,a,u)}}else{De(4,i,o);try{o.call(i)}finally{De(5,i,o)}}}}}function YO(t,e,n){return JO(t,e.parent,n)}function JO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[dn];if(qr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===sr.None||i===sr.Emulated)return null}return kn(r,n)}function ZO(t,e,n){return ek(t,e,n)}function XO(t,e,n){return t.type&40?kn(t,n):null}var ek=XO,pD;function dy(t,e,n,r){let i=YO(t,r,e),o=e[Ue],s=r.parent||e[Jt],a=ZO(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)dD(o,i,n[u],a,!1);else dD(o,i,n,a,!1);pD!==void 0&&pD(o,r,e,n,i)}function Ga(t,e){if(e!==null){let n=e.type;if(n&3)return kn(e,t);if(n&4)return Fm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ga(t,r);{let i=t[e.index];return hn(i)?Fm(-1,i):Xt(i)}}else{if(n&128)return Ga(t,e.next);if(n&32)return cy(e,t)()||Xt(t[e.index]);{let r=Rb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=jr(t[Zt]);return Ga(i,r)}else return Ga(t,e.next)}}}return null}function Rb(t,e){if(e!==null){let r=t[Zt][Jt],i=e.projection;return r.projection[i]}return null}function Fm(t,e){let n=Ft+t+1;if(n<e.length){let r=e[n],i=r[ie].firstChild;if(i!==null)return Ga(r,i)}return e[zr]}function hy(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Za(Xt(a),r),n.flags|=2),!uy(n))if(u&8)hy(t,e,n.child,r,i,o,!1),Wo(e,t,i,a,o);else if(u&32){let l=cy(n,r),h;for(;h=l();)Wo(e,t,i,h,o);Wo(e,t,i,a,o)}else u&16?tk(t,e,r,n,i,o):Wo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Hd(t,e,n,r,i,o){hy(n,r,t.firstChild,e,i,o,!1)}function tk(t,e,n,r,i,o){let s=n[Zt],u=s[Jt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Wo(e,t,i,h,o)}else{let l=u,h=s[lt];YD(r)&&(l.flags|=128),hy(t,e,l,h,i,o,!0)}}function nk(t,e,n,r,i){let o=n[zr],s=Xt(n);o!==s&&Wo(e,t,r,o,i);for(let a=Ft;a<n.length;a++){let u=n[a];Hd(u[ie],u,t,e,r,o)}}function rk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ln.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ln.Important),t.setStyle(n,r,i,o))}}function Qa(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Xt(o)),hn(o)&&Nb(o,r);let s=n.type;if(s&8)Qa(t,e,n.child,r);else if(s&32){let a=cy(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Rb(e,n);if(Array.isArray(a))r.push(...a);else{let u=jr(e[Zt]);Qa(u[ie],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Nb(t,e){for(let n=Ft;n<t.length;n++){let r=t[n],i=r[ie].firstChild;i!==null&&Qa(r[ie],r,i,e)}t[zr]!==t[dn]&&e.push(t[zr])}function Mb(t){if(t[Xl]!==null){for(let e of t[Xl])e.impl.addSequence(e);t[Xl].length=0}}var Pb=[];function ik(t){return t[zt]??ok(t)}function ok(t){let e=Pb.pop()??Object.create(ak);return e.lView=t,e}function sk(t){t.lView[zt]!==t&&(t.lView=null,Pb.push(t))}var ak=re(O({},Ei),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ha(t.lView)},consumerOnSignalRead(){this.lView[zt]=this}});function ck(t){let e=t[zt]??Object.create(uk);return e.lView=t,e}var uk=re(O({},Ei),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=jr(t.lView);for(;e&&!xb(e[ie]);)e=jr(e);e&&Qg(e)},consumerOnSignalRead(){this.lView[zt]=this}});function xb(t){return t.type!==2}function Ob(t){if(t[Va]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Va])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[J]&8192)}}var lk=100;function fy(t,e=0){let r=t[Pn].rendererFactory,i=!1;i||r.begin?.();try{dk(t,e)}finally{i||r.end?.()}}function dk(t,e){let n=tm();try{nm(!0),Lm(t,e);let r=0;for(;$a(t);){if(r===lk)throw new V(103,!1);r++,Lm(t,1)}}finally{nm(n)}}function kb(t,e){em(e?za.Exhaustive:za.OnlyDirtyViews);try{fy(t)}finally{em(za.Off)}}function hk(t,e,n,r){if(Li(e))return;let i=e[J],o=!1,s=!1;ad(e);let a=!0,u=null,l=null;o||(xb(t)?(l=ik(e),u=Ii(l)):rl()===null?(a=!1,l=ck(e),u=Ii(l)):e[zt]&&(ol(e[zt]),e[zt]=null));try{Kg(e),UT(t.bindingStartIndex),n!==null&&Tb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&yd(e,y,null)}else{let y=t.preOrderHooks;y!==null&&vd(e,y,0,null),gm(e,0)}if(s||fk(e),Ob(e),Fb(e,0),t.contentQueries!==null&&ib(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&yd(e,y)}else{let y=t.contentHooks;y!==null&&vd(e,y,1),gm(e,1)}gk(t,e);let p=t.components;p!==null&&Vb(e,p,0);let m=t.viewQuery;if(m!==null&&Mm(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&yd(e,y)}else{let y=t.viewHooks;y!==null&&vd(e,y,2),gm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Zl]){for(let y of e[Zl])y();e[Zl]=null}o||(Mb(e),e[J]&=-73)}catch(h){throw o||Ha(e),h}finally{l!==null&&(So(l,u),a&&sk(l)),cd()}}function Fb(t,e){for(let n=ZD(t);n!==null;n=XD(n))for(let r=Ft;r<n.length;r++){let i=n[r];Lb(i,e)}}function fk(t){for(let e=ZD(t);e!==null;e=XD(e)){if(!(e[J]&2))continue;let n=e[Ua];for(let r=0;r<n.length;r++){let i=n[r];Qg(i)}}}function pk(t,e,n){De(18);let r=en(e,t);Lb(r,n),De(19,r[Ct])}function Lb(t,e){rd(t)&&Lm(t,e)}function Lm(t,e){let r=t[ie],i=t[J],o=t[zt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Da(o)),s||=!1,o&&(o.dirty=!1),t[J]&=-9217,s)hk(r,t,r.template,t[Ct]);else if(i&8192){let a=te(null);try{Ob(t),Fb(t,1);let u=r.components;u!==null&&Vb(t,u,1),Mb(t)}finally{te(a)}}}function Vb(t,e,n){for(let r=0;r<e.length;r++)pk(t,e[r],n)}function gk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Wr(~i);else{let o=i,s=n[++r],a=n[++r];$T(s,o);let u=e[o];De(24,u),a(2,u),De(25,u)}}}finally{Wr(-1)}}function py(t,e){let n=tm()?64:1088;for(t[Pn].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=jr(t);if(qo(t)&&!r)return t;t=r}return null}function jb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function mk(t,e,n,r=!0){let i=e[ie];if(yk(i,e,t,n),r){let s=Fm(n,t),a=e[Ue],u=a.parentNode(t[zr]);u!==null&&GO(i,t[Jt],a,e,u,s)}let o=e[Fa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Vm(t,e){if(t.length<=Ft)return;let n=Ft+e,r=t[n];if(r){let i=r[Oi];i!==null&&i!==t&&ly(i,r),e>0&&(t[n-1][Yt]=r[Yt]);let o=xa(t,Ft+e);qO(r[ie],r);let s=o[Fi];s!==null&&s.detachView(o[ie]),r[lt]=null,r[Yt]=null,r[J]&=-129}return r}function yk(t,e,n,r){let i=Ft+r,o=n.length;r>0&&(n[i-1][Yt]=e),r<o-Ft?(e[Yt]=n[i],kg(n,Ft+r,e)):(n.push(e),e[Yt]=null),e[lt]=n;let s=e[Oi];s!==null&&n!==s&&Ub(s,e);let a=e[Fi];a!==null&&a.insertView(t),id(e),e[J]|=128}function Ub(t,e){let n=t[Ua],r=e[lt];if(xn(r))t[J]|=2;else{let i=r[lt][Zt];e[Zt]!==i&&(t[J]|=2)}n===null?t[Ua]=[e]:n.push(e)}var Jr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[ie];return Qa(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Ct]}set context(e){this._lView[Ct]=e}get destroyed(){return Li(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(hn(e)){let n=e[ja],r=n?n.indexOf(this):-1;r>-1&&(Vm(e,r),xa(n,r))}this._attachedToViewContainer=!1}Ab(this._lView[ie],this._lView)}onDestroy(e){Yg(this._lView,e)}markForCheck(){py(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){id(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,fy(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Pi].get(HO,fD)}catch{this.exhaustive=fD}}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=qo(this._lView),n=this._lView[Oi];n!==null&&!e&&ly(n,this._lView),Sb(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let n=qo(this._lView),r=this._lView[Oi];r!==null&&!n&&Ub(r,this._lView),id(this._lView)}};var ec=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=vk;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=$O(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Jr(o)}}return t})();function vk(){return Bb(Lt(),Ie())}function Bb(t,e){return t.type&4?new ec(e,t,Fd(t,e)):null}function gy(t,e,n,r,i){let o=t.data[e];if(o===null)o=_k(t,e,n,r,i),BT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=LT();o.injectorIndex=s===null?-1:s.injectorIndex}return Go(o,!0),o}function _k(t,e,n,r,i){let o=Zg(),s=Xg(),a=s?o:o&&o.parent,u=t.data[e]=Ik(t,a,n,e,r,i);return Ek(t,u,o,s),u}function Ek(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Ik(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return OT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var k8=new RegExp(`^(\\d+)*(${Ux}|${jx})*(.*)`);var wk=()=>null;function gD(t,e){return wk(t,e)}var $b=class{},zd=class{},jm=class{resolveComponentFactory(e){throw new V(917,!1)}},tc=class{static NULL=new jm},Bi=class{},nc=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Tk()}return t})();function Tk(){let t=Ie(),e=Lt(),n=en(e.index,t);return(xn(n)?n:t)[Ue]}var Hb=(()=>{class t{static \u0275prov=L({token:t,providedIn:"root",factory:()=>null})}return t})();var _d={},Um=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,_d,r);return i!==_d||n===_d?i:this.parentInjector.get(e,n,r)}};function mD(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ql(i,a);else if(o==2){let u=a,l=e[++s];r=ql(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function le(t,e=0){let n=Ie();if(n===null)return q(t,e);let r=Lt();return WD(r,n,ut(t),e)}function zb(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}Ck(t,e,n,a,o,u,l)}o!==null&&r!==null&&Dk(n,r,o)}function Dk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function bk(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ck(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&On(y)&&(u=!0,bk(t,n,m)),Sm(Dd(n,e),t,y.type)}Pk(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=Ib(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=Ka(n.mergedAttrs,y.hostAttrs),Ak(t,n,e,p,y),Mk(p,y,i),s!==null&&s.has(y)){let[N,M]=s.get(y);n.directiveToIndex.set(y.type,[p,N+n.directiveStart,M+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(b.ngOnChanges||b.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}Sk(t,n,o)}function Sk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))yD(0,e,i,r),yD(1,e,i,r),_D(e,r,!1);else{let o=n.get(i);vD(0,e,o,r),vD(1,e,o,r),_D(e,r,!0)}}}function yD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),qb(e,o)}}function vD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),qb(e,s)}}function qb(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function _D(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||ty(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Ak(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Vr(i.type,!0)),s=new Ui(o,On(i),le);t.blueprint[r]=s,n[r]=s,Rk(t,e,r,Ib(t,n,i.hostVars,gn),i)}function Rk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Nk(s)!=a&&s.push(a),s.push(n,r,o)}}function Nk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Mk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;On(e)&&(n[""]=t)}}function Pk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Gb(t,e,n,r,i,o,s,a){let u=e.consts,l=Ba(u,s),h=gy(e,t,2,r,l);return o&&zb(e,n,h,Ba(u,a),i),h.mergedAttrs=Ka(h.mergedAttrs,h.attrs),h.attrs!==null&&mD(h,h.attrs,!1),h.mergedAttrs!==null&&mD(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function Wb(t,e){jD(t,e),qg(e)&&t.queries.elementEnd(e)}function my(t){return Qb(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Kb(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Qb(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Yb(t,e,n){return t[e]=n}function Zr(t,e,n){if(n===gn)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function xk(t,e,n,r){let i=Zr(t,e,n);return Zr(t,e+1,r)||i}function vm(t,e,n){return function r(i){let o=qr(t)?en(t.index,e):e;py(o,5);let s=e[Ct],a=ED(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=ED(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function ED(t,e,n,r){let i=te(null);try{return De(6,e,n),n(r)!==!1}catch(o){return VO(t,o),!1}finally{De(7,e,n),te(i)}}function Ok(t,e,n,r,i,o,s,a){let u=ed(t),l=!1,h=null;if(!r&&u&&(h=kk(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=kn(t,n),m=r?r(p):p;$x(n,m,o,a);let y=i.listen(m,o,a),b=r?N=>r(Xt(N[t.index])):t.index;Jb(b,e,n,o,a,y,!1)}return l}function kk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ho],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Jb(t,e,n,r,i,o,s){let a=e.firstCreatePass?NT(e):null,u=RT(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function ID(t,e,n,r,i,o){let s=e[n],a=e[ie],l=a.data[n].outputs[r],p=s[l].subscribe(o);Jb(t.index,a,e,i,o,p,!0)}var Bm=Symbol("BINDING");var Ad=class extends tc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Hr(e);return new Qo(n,this.ngModule)}};function Fk(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&$d.SignalBased)!==0};return i&&(o.transform=i),o})}function Lk(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Vk(t,e,n){let r=e instanceof je?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Um(n,r):n}function jk(t){let e=t.get(Bi,null);if(e===null)throw new V(407,!1);let n=t.get(Hb,null),r=t.get(Ur,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Uk(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return yb(e,n,n==="svg"?DT:n==="math"?bT:null)}var Qo=class extends zd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Fk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Lk(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=vO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){De(22);let a=te(null);try{let u=this.componentDef,l=Bk(r,u,s,o),h=Vk(u,i||this.ngModule,e),p=jk(h),m=p.rendererFactory.createRenderer(null,u),y=r?AO(m,r,u.encapsulation,h):Uk(u,m),b=s?.some(wD)||o?.some(x=>typeof x!="function"&&x.bindings.some(wD)),N=ry(null,l,null,512|Eb(u),null,null,p,m,h,null,rb(y,h,!0));N[St]=y,ad(N);let M=null;try{let x=Gb(St,l,N,"#host",()=>l.directiveRegistry,!0,0);y&&(_b(m,y,x),Za(y,N)),oy(l,N,x),ob(l,x,N),Wb(l,x),n!==void 0&&Hk(x,this.ngContentSelectors,n),M=en(x.index,N),N[Ct]=M[Ct],ay(l,N,null)}catch(x){throw M!==null&&Rm(M),Rm(N),x}finally{De(23),cd()}return new Rd(this.componentType,N,!!b)}finally{te(a)}}};function Bk(t,e,n,r){let i=t?["ng-version","20.0.5"]:_O(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[Bm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Bm].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=jg(p);u.push(m)}return ny(0,null,$k(o,s),1,a,u,null,null,null,[i],null)}function $k(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function wD(t){let e=t[Bm].kind;return e==="input"||e==="twoWay"}var Rd=class extends $b{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=td(n[ie],St),this.location=Fd(this._tNode,n),this.instance=en(this._tNode.index,n)[Ct],this.hostView=this.changeDetectorRef=new Jr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=sy(r,i[ie],i,e,n);this.previousInputValues.set(e,n);let s=en(r.index,i);py(s,1)}get injector(){return new ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Hk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var zi=(()=>{class t{static __NG_ELEMENT_ID__=zk}return t})();function zk(){let t=Lt();return Gk(t,Ie())}var qk=zi,Zb=class extends qk{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Fd(this._hostTNode,this._hostLView)}get injector(){return new ji(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qm(this._hostTNode,this._hostLView);if(BD(e)){let n=wd(e,this._hostLView),r=Id(e),i=n[ie].data[r+8];return new ji(i,n)}else return new ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=TD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=gD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,hD(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!px(e),l;if(u)l=n;else{let M=n||{};l=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef,s=M.directives,a=M.bindings}let h=u?e:new Qo(Hr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let x=(u?p:this.parentInjector).get(je,null);x&&(o=x)}let m=Hr(h.componentType??{}),y=gD(this._lContainer,m?.id??null),b=y?.firstChild??null,N=h.create(p,i,b,o,s,a);return this.insertImpl(N.hostView,l,hD(this._hostTNode,y)),N}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(CT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[lt],l=new Zb(u,u[Jt],u[lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return mk(s,i,o,r),e.attachToViewContainerRef(),kg(_m(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=TD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Vm(this._lContainer,n);r&&(xa(_m(this._lContainer),n),Ab(r[ie],r))}detach(e){let n=this._adjustIndex(e,-1),r=Vm(this._lContainer,n);return r&&xa(_m(this._lContainer),n)!=null?new Jr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function TD(t){return t[ja]}function _m(t){return t[ja]||(t[ja]=[])}function Gk(t,e){let n,r=e[t.index];return hn(r)?n=r:(n=jb(r,e,null,t),e[t.index]=n,iy(e,n)),Kk(n,e,t,r),new Zb(n,t,e)}function Wk(t,e){let n=t[Ue],r=n.createComment(""),i=kn(e,t),o=n.parentNode(i);return Sd(n,o,r,n.nextSibling(i),!1),r}var Kk=Jk,Qk=()=>!1;function Yk(t,e,n){return Qk(t,e,n)}function Jk(t,e,n,r){if(t[zr])return;let i;n.type&8?i=Xt(r):i=Wk(e,n),t[zr]=i}var DD=new Set;function yy(t){DD.has(t)||(DD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var $i=class{},qd=class{};var Nd=class extends $i{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ad(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Vg(e);this._bootstrapComponents=gb(o.bootstrap),this._r3Injector=um(e,n,[{provide:$i,useValue:this},{provide:tc,useValue:this.componentFactoryResolver},...r],kt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Md=class extends qd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Nd(this.moduleType,e,[])}};var Ya=class extends $i{injector;componentFactoryResolver=new Ad(this);instance=null;constructor(e){super();let n=new Ri([...e.providers,{provide:$i,useValue:this},{provide:tc,useValue:this.componentFactoryResolver}],e.parent||ka(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rc(t,e,n=null){return new Ya({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Zk=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ug(!1,n.type),i=r.length>0?rc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:t,providedIn:"environment",factory:()=>new t(q(je))})}return t})();function xe(t){return Jo(()=>{let e=Xb(t),n=re(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ym.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Zk).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||sr.Emulated,styles:t.styles||bt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&yy("NgStandalone"),eC(n);let r=t.dependencies;return n.directiveDefs=bD(r,!1),n.pipeDefs=bD(r,!0),n.id=r1(n),n})}function Xk(t){return Hr(t)||jg(t)}function e1(t){return t!==null}function cr(t){return Jo(()=>({type:t.type,bootstrap:t.bootstrap||bt,declarations:t.declarations||bt,imports:t.imports||bt,exports:t.exports||bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function t1(t,e){if(t==null)return Br;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=$d.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function n1(t){if(t==null)return Br;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function tn(t){return Jo(()=>{let e=Xb(t);return eC(e),e})}function Gd(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Br,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:t1(t.inputs,e),outputs:n1(t.outputs),debugInfo:null}}function eC(t){t.features?.forEach(e=>e(t))}function bD(t,e){if(!t)return null;let n=e?yT:Xk;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(e1)}function r1(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function i1(t){return Object.getPrototypeOf(t.prototype).constructor}function qi(t){let e=i1(t.type),n=!0,r=[t];for(;e;){let i;if(On(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Em(t.inputs),s.declaredInputs=Em(t.declaredInputs),s.outputs=Em(t.outputs);let a=i.hostBindings;a&&u1(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&a1(t,u),l&&c1(t,l),o1(t,i),hT(t.outputs,i.outputs),On(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===qi&&(n=!1)}}e=Object.getPrototypeOf(e)}s1(r)}function o1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function s1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ka(i.hostAttrs,n=Ka(n,i.hostAttrs))}}function Em(t){return t===Br?{}:t===bt?[]:t}function a1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function c1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function u1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function l1(t,e,n,r,i,o,s,a,u){let l=e.consts,h=gy(e,t,4,s||null,a||null);Jg()&&zb(e,n,h,Ba(l,u),Cb),h.mergedAttrs=Ka(h.mergedAttrs,h.attrs),jD(e,h);let p=h.tView=ny(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function d1(t,e,n,r,i,o,s,a,u,l,h){let p=n+St,m=e.firstCreatePass?l1(p,e,t,r,i,o,s,a,l):e.data[p];u&&(m.flags|=u),Go(m,!1);let y=h1(e,t,m,n);ud()&&dy(e,t,y,m),Za(y,t);let b=jb(y,t,y,m);return t[p]=b,iy(t,b),Yk(b,m,t),ed(m)&&oy(e,t,m),l!=null&&Db(t,m,h),m}function mn(t,e,n,r,i,o,s,a){let u=Ie(),l=At(),h=Ba(l.consts,o);return d1(u,l,t,e,n,r,i,h,void 0,s,a),mn}var h1=f1;function f1(t,e,n,r){return ld(!0),e[Ue].createComment("")}var vy=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(vy||{}),ic=new U(""),tC=!1,$m=class extends Ae{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,wT()&&(this.destroyRef=R(Kr,{optional:!0})??void 0,this.pendingTasks=R(or,{optional:!0})??void 0)}emit(e){let n=te(null);try{super.next(e)}finally{te(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},nt=$m;function nC(t){let e,n;function r(){t=qa;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function CD(t){return queueMicrotask(()=>t()),()=>{t=qa}}var _y="isAngularZone",Pd=_y+"_ID",p1=0,be=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new nt(!1);onMicrotaskEmpty=new nt(!1);onStable=new nt(!1);onError=new nt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=tC}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,y1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(_y)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,g1,qa,qa);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},g1={};function Ey(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function m1(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){nC(()=>{t.callbackScheduled=!1,Hm(t),t.isCheckStableRunning=!0,Ey(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Hm(t)}function y1(t){let e=()=>{m1(t)},n=p1++;t._inner=t._inner.fork({name:"angular",properties:{[_y]:!0,[Pd]:n,[Pd+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(v1(u))return r.invokeTask(o,s,a,u);try{return SD(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),AD(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return SD(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!_1(u)&&e(),AD(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Hm(t),Ey(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Hm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function SD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function AD(t){t._nesting--,Ey(t)}var xd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new nt;onMicrotaskEmpty=new nt;onStable=new nt;onError=new nt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function v1(t){return rC(t,"__ignore_ng_zone__")}function _1(t){return rC(t,"__scheduler_tick__")}function rC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var iC=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:t,providedIn:"root",factory:()=>new t})}return t})();var Iy=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var wy=new U("");function ur(t){return!!t&&typeof t.then=="function"}function Wd(t){return!!t&&typeof t.subscribe=="function"}var oC=new U("");var Ty=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=R(oC,{optional:!0})??[];injector=R(dt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=et(this.injector,i);if(ur(o))n.push(o);else if(Wd(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kd=new U("");function sC(){Kp(()=>{let t="";throw new V(600,t)})}function aC(t){return t.isBoundToModule}var E1=10;var Gi=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(Vt);afterRenderManager=R(iC);zonelessEnabled=R(dd);rootEffectScheduler=R(pm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ae;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=R(or);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(H(n=>!n))}constructor(){R(ic,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=R(je);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=dt.NULL){return this._injector.get(be).run(()=>{De(10);let s=n instanceof zd;if(!this._injector.get(Ty).done){let b="";throw new V(405,b)}let u;s?u=n:u=this._injector.get(tc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=aC(u)?void 0:this._injector.get($i),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(wy,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Wa(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),De(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(vy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let n=te(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,te(n),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Bi,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<E1;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!$a(i))continue;let o=r&&!this.zonelessEnabled?0:1;fy(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>$a(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Wa(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Kd,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Wa(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wa(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function qt(t,e,n){let r=Ie(),i=od();if(Zr(r,i,e)){let o=At(),s=cm();bb(s,r,t,e,r[Ue],n)}return qt}function zm(t,e,n,r,i){sy(e,t,n,i?"class":"style",r)}function Z(t,e,n,r){let i=Ie(),o=At(),s=St+t,a=i[Ue],u=o.firstCreatePass?Gb(s,o,i,e,Cb,Jg(),n,r):o.data[s],l=I1(o,i,u,a,e,t);i[s]=l;let h=ed(u);return Go(u,!0),_b(a,l,u),!uy(u)&&ud()&&dy(o,i,l,u),(MT()===0||h)&&Za(l,i),PT(),h&&(oy(o,i,u),ob(o,u,i)),r!==null&&Db(i,u),Z}function ne(){let t=Lt();Xg()?VT():(t=t.parent,Go(t,!1));let e=t;kT(e)&&FT(),xT();let n=At();return n.firstCreatePass&&Wb(n,e),e.classesWithoutHost!=null&&Ex(e)&&zm(n,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Ix(e)&&zm(n,e,Ie(),e.stylesWithoutHost,!1),ne}function yt(t,e,n,r){return Z(t,e,n,r),ne(),yt}var I1=(t,e,n,r,i,o)=>(ld(!0),yb(r,i,QT()));var Vi=void 0;function w1(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var T1=["en",[["a","p"],["AM","PM"],Vi],[["AM","PM"],Vi,Vi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vi,"{1} 'at' {0}",Vi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",w1],Im={};function Gt(t){let e=D1(t),n=RD(e);if(n)return n;let r=e.split("-")[0];if(n=RD(r),n)return n;if(r==="en")return T1;throw new V(701,!1)}function RD(t){return t in Im||(Im[t]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[t]),Im[t]}var Be=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Be||{});function D1(t){return t.toLowerCase().replace(/_/g,"-")}var oc="en-US";var b1=oc;function cC(t){typeof t=="string"&&(b1=t.toLowerCase().replace(/_/g,"-"))}function jn(t,e,n){let r=Ie(),i=At(),o=Lt();return uC(i,r,r[Ue],o,t,e,n),jn}function uC(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=vm(r,e,o),Ok(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=vm(r,e,o),ID(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=vm(r,e,o),ID(r,e,p,i,i,u)}}function lr(t=1){return KT(t)}function Dy(t){let e=jT();return nd(e,St+t)}function md(t,e){return t<<17|e<<2}function Hi(t){return t>>17&32767}function C1(t){return(t&2)==2}function S1(t,e){return t&131071|e<<17}function qm(t){return t|2}function Yo(t){return(t&131068)>>2}function wm(t,e){return t&-131069|e<<2}function A1(t){return(t&1)===1}function Gm(t){return t|1}function R1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Hi(s),u=Yo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||$o(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Hi(t[a+1]);t[r+1]=md(m,a),m!==0&&(t[m+1]=wm(t[m+1],r)),t[a+1]=S1(t[a+1],r)}else t[r+1]=md(a,0),a!==0&&(t[a+1]=wm(t[a+1],r)),a=r;else t[r+1]=md(u,0),a===0?a=r:t[u+1]=wm(t[u+1],r),u=r;l&&(t[r+1]=qm(t[r+1])),ND(t,h,r,!0),ND(t,h,r,!1),N1(e,h,t,r,o),s=md(a,u),o?e.classBindings=s:e.styleBindings=s}function N1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&$o(o,e)>=0&&(n[r+1]=Gm(n[r+1]))}function ND(t,e,n,r){let i=t[n+1],o=e===null,s=r?Hi(i):Yo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];M1(u,e)&&(a=!0,t[s+1]=r?Gm(l):qm(l)),s=r?Hi(l):Yo(l)}a&&(t[n+1]=r?qm(i):Gm(i))}function M1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?$o(t,e)>=0:!1}var pn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function P1(t){return t.substring(pn.key,pn.keyEnd)}function x1(t){return O1(t),lC(t,dC(t,0,pn.textEnd))}function lC(t,e){let n=pn.textEnd;return n===e?-1:(e=pn.keyEnd=k1(t,pn.key=e,n),dC(t,e,n))}function O1(t){pn.key=0,pn.keyEnd=0,pn.value=0,pn.valueEnd=0,pn.textEnd=t.length}function dC(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function k1(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function yn(t,e){return L1(t,e,null,!0),yn}function by(t){V1(z1,F1,t,!0)}function F1(t,e){for(let n=x1(e);n>=0;n=lC(e,n))Yl(t,P1(e),!0)}function L1(t,e,n,r){let i=Ie(),o=At(),s=im(2);if(o.firstUpdatePass&&fC(o,t,s,r),e!==gn&&Zr(i,s,e)){let a=o.data[Gr()];pC(o,a,i,i[Ue],t,i[s+1]=G1(e,n),r,s)}}function V1(t,e,n,r){let i=At(),o=im(2);i.firstUpdatePass&&fC(i,null,o,r);let s=Ie();if(n!==gn&&Zr(s,o,n)){let a=i.data[Gr()];if(gC(a,r)&&!hC(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=ql(u,n||"")),zm(i,a,s,n,r)}else q1(i,a,s,s[Ue],s[o+1],s[o+1]=H1(t,e,n),r,o)}}function hC(t,e){return e>=t.expandoStartIndex}function fC(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Gr()],s=hC(t,n);gC(o,r)&&e===null&&!s&&(e=!1),e=j1(i,o,e,r),R1(i,o,e,n,s,r)}}function j1(t,e,n,r){let i=zT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Tm(null,t,e,n,r),n=Ja(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Tm(i,t,e,n,r),o===null){let u=U1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Tm(null,t,e,u[1],r),u=Ja(u,e.attrs,r),B1(t,e,r,u))}else o=$1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function U1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Yo(r)!==0)return t[Hi(r)]}function B1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Hi(i)]=r}function $1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ja(r,s,n)}return Ja(r,e.attrs,n)}function Tm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ja(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ja(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Yl(t,s,n?!0:e[++o]))}return t===void 0?null:t}function H1(t,e,n){if(n==null||n==="")return bt;let r=[],i=Bd(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function z1(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Yl(t,r,n)}function q1(t,e,n,r,i,o,s,a){i===gn&&(i=bt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,b=null,N;h===p?(u+=2,l+=2,m!==y&&(b=p,N=y)):p===null||h!==null&&h<p?(u+=2,b=h):(l+=2,b=p,N=y),b!==null&&pC(t,e,n,r,b,N,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function pC(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=A1(l)?MD(u,e,n,i,Yo(l),s):void 0;if(!Od(h)){Od(o)||C1(l)&&(o=MD(u,null,n,i,a,s));let p=Gg(Gr(),n);rk(r,s,p,i,o)}}function MD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===gn&&(m=p?bt:void 0);let y=p?Jl(m,r):h===r?m:void 0;if(l&&!Od(y)&&(y=Jl(u,r)),Od(y)&&(a=y,s))return a;let b=t[i+1];i=s?Hi(b):Yo(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Jl(u,r))}return a}function Od(t){return t!==void 0}function G1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=kt(Bd(t)))),t}function gC(t,e){return(t.flags&(e?8:16))!==0}function _e(t,e=""){let n=Ie(),r=At(),i=t+St,o=r.firstCreatePass?gy(r,i,1,e,null):r.data[i],s=W1(r,n,o,e,t);n[i]=s,ud()&&dy(r,n,s,o),Go(o,!1)}var W1=(t,e,n,r,i)=>(ld(!0),EO(e[Ue],r));function K1(t,e,n,r=""){return Zr(t,od(),n)?e+Wl(n)+r:gn}function dr(t){return vn("",t),dr}function vn(t,e,n){let r=Ie(),i=K1(r,t,e,n);return i!==gn&&Q1(r,Gr(),i),vn}function Q1(t,e,n){let r=Gg(e,t);IO(t[Ue],r,n)}function Qd(t,e,n){dm(e)&&(e=e());let r=Ie(),i=od();if(Zr(r,i,e)){let o=At(),s=cm();bb(s,r,t,e,r[Ue],n)}return Qd}function Cy(t,e){let n=dm(t);return n&&t.set(e),n}function Yd(t,e){let n=Ie(),r=At(),i=Lt();return uC(r,n,n[Ue],i,t,e),Yd}function Y1(t,e,n){let r=At();if(r.firstCreatePass){let i=On(t);Wm(n,r.data,r.blueprint,i,!0),Wm(e,r.data,r.blueprint,i,!1)}}function Wm(t,e,n,r,i){if(t=ut(t),Array.isArray(t))for(let o=0;o<t.length;o++)Wm(t[o],e,n,r,i);else{let o=At(),s=Ie(),a=Lt(),u=Ai(t)?t:ut(t.provide),l=$g(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ai(t)||!t.multi){let y=new Ui(l,i,le),b=bm(u,e,i?h:h+m,p);b===-1?(Sm(Dd(a,s),o,u),Dm(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[b]=y,s[b]=y)}else{let y=bm(u,e,h+m,p),b=bm(u,e,h,h+m),N=y>=0&&n[y],M=b>=0&&n[b];if(i&&!M||!i&&!N){Sm(Dd(a,s),o,u);let x=X1(i?Z1:J1,n.length,i,r,l);!i&&M&&(n[b].providerFactory=x),Dm(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=mC(n[i?b:y],l,!i&&r);Dm(o,t,y>-1?y:b,x)}!i&&r&&M&&n[b].componentProviders++}}}function Dm(t,e,n,r){let i=Ai(e),o=IT(e);if(i||o){let u=(o?ut(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function mC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function bm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function J1(t,e,n,r){return Km(this.multi,[])}function Z1(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=bd(n,n[ie],this.providerFactory.index,r);o=a.slice(0,s),Km(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Km(i,o);return o}function Km(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function X1(t,e,n,r,i){let o=new Ui(t,n,le);return o.multi=[],o.index=e,o.componentProviders=0,mC(o,i,r&&!n),o}function Jd(t,e=[]){return n=>{n.providersResolver=(r,i)=>Y1(r,i?i(t):t,e)}}function yC(t,e){let n=t[e];return n===gn?void 0:n}function eF(t,e,n,r,i,o){let s=e+n;return Zr(t,s,i)?Yb(t,s+1,o?r.call(o,i):r(i)):yC(t,s+1)}function tF(t,e,n,r,i,o,s){let a=e+n;return xk(t,a,i,o)?Yb(t,a+2,s?r.call(s,i,o):r(i,o)):yC(t,a+2)}function ti(t,e){let n=At(),r,i=t+St;n.firstCreatePass?(r=nF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Vr(r.type,!0)),s,a=Dt(le);try{let u=Td(!1),l=o();return Td(u),Wg(n,Ie(),i,l),l}finally{Dt(a)}}function nF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Zd(t,e,n){let r=t+St,i=Ie(),o=nd(i,r);return vC(i,r)?eF(i,rm(),e,o.transform,n,o):o.transform(n)}function sc(t,e,n,r){let i=t+St,o=Ie(),s=nd(o,i);return vC(o,i)?tF(o,rm(),e,s.transform,n,r,s):s.transform(n,r)}function vC(t,e){return t[ie].data[e].pure}function Sy(t,e){return Bb(t,e)}var kd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ay=(()=>{class t{compileModuleSync(n){return new Md(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Vg(n),o=gb(i.declarations).reduce((s,a)=>{let u=Hr(a);return u&&s.push(new Qo(u)),s},[]);return new kd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rF=(()=>{class t{zone=R(be);changeDetectionScheduler=R(Ur);applicationRef=R(Gi);applicationErrorHandler=R(Vt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _C({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new be(re(O({},EC()),{scheduleInRootZone:n})),[{provide:be,useFactory:t},{provide:$r,multi:!0,useFactory:()=>{let r=R(rF,{optional:!0});return()=>r.initialize()}},{provide:$r,multi:!0,useFactory:()=>{let r=R(iF);return()=>{r.initialize()}}},e===!0?{provide:hm,useValue:!0}:[],{provide:fm,useValue:n??tC},{provide:Vt,useFactory:()=>{let r=R(be),i=R(je),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Rn),o.handleError(s))})}}}]}function EC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var iF=(()=>{class t{subscription=new Fe;initialized=!1;zone=R(be);pendingTasks=R(or);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var IC=(()=>{class t{applicationErrorHandler=R(Vt);appRef=R(Gi);taskService=R(or);ngZone=R(be);zonelessEnabled=R(dd);tracing=R(ic,{optional:!0});disableScheduling=R(hm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(fm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?CD:nC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,CD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oF(){return typeof $localize<"u"&&$localize.locale||oc}var ac=new U("",{providedIn:"root",factory:()=>R(ac,{optional:!0,skipSelf:!0})||oF()});function nn(t){return cT(t)}function cc(t,e){return ul(t,e?.equal)}var wC=class{[mt];constructor(e){this[mt]=e}destroy(){this[mt].destroy()}};var CC=Symbol("InputSignalNode#UNSET"),EF=re(O({},ll),{transformFn:void 0,applyValueToInputSignal(t,e){Ao(t,e)}});function SC(t,e){let n=Object.create(EF);n.value=t,n.transformFn=e?.transform;function r(){if(Co(n),n.value===CC){let i=null;throw new V(-950,i)}return n.value}return r[mt]=n,r}var IF=new U("");IF.__NG_ELEMENT_ID__=t=>{let e=Lt();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new V(204,!1)};function TC(t,e){return SC(t,e)}function wF(t){return SC(CC,t)}var AC=(TC.required=wF,TC);var es=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},RC=new es("20.0.5");var Ry=new U(""),TF=new U("");function uc(t){return!t.moduleRef}function DF(t){let e=uc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(be);return n.run(()=>{uc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Vt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),uc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Ry);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Ry);s.add(o),t.moduleRef.onDestroy(()=>{Wa(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return CF(r,n,()=>{let o=e.get(Ty);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(ac,oc);if(cC(s||oc),!e.get(TF,!0))return uc(t)?e.get(Gi):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(uc(t)){let u=e.get(Gi);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return bF?.(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}var bF;function CF(t,e,n){try{let r=n();return ur(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Xd=null;function SF(t=[],e){return dt.create({name:e,providers:[{provide:Oa,useValue:"platform"},{provide:Ry,useValue:new Set([()=>Xd=null])},...t]})}function AF(t=[]){if(Xd)return Xd;let e=SF(t);return Xd=e,sC(),RF(e),e}function RF(t){let e=t.get(Vd,null);et(t,()=>{e?.forEach(n=>n())})}function Oy(){return!1}var ts=(()=>{class t{static __NG_ELEMENT_ID__=NF}return t})();function NF(t){return MF(Lt(),Ie(),(t&16)===16)}function MF(t,e,n){if(qr(t)&&!n){let r=en(t.index,e);return new Jr(r,r)}else if(t.type&175){let r=e[Zt];return new Jr(r,e)}return null}var Ny=class{constructor(){}supports(e){return my(e)}create(e){return new My(e)}},PF=(t,e)=>e,My=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||PF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<DC(r,i,o)?n:r,a=DC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,b=y+m;h<=b&&b<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!my(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Kb(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Py(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new eh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new eh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Py=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},xy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},eh=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new xy,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function DC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function bC(){return new ky([new Ny])}var ky=(()=>{class t{factories;static \u0275prov=L({token:t,providedIn:"root",factory:bC});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||bC()),deps:[[t,new OD,new Vn]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new V(901,!1)}}return t})();function NC(t){De(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=AF(r),o=[_C({}),{provide:Ur,useExisting:IC},JT,...n||[]],s=new Ya({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return DF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{De(9)}}function Fy(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var xC=null;function rn(){return xC}function Ly(t){xC??=t}var lc=class{},Vy=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>R(OC),providedIn:"platform"})}return t})();var OC=(()=>{class t extends Vy{_location;_history;_doc=R(tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rn().getBaseHref(this._doc)}onPopState(n){let r=rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function kC(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function MC(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ni(t){return t&&t[0]!=="?"?`?${t}`:t}var th=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>R(LC),providedIn:"root"})}return t})(),FC=new U(""),LC=(()=>{class t extends th{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return kC(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ni(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ni(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ni(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(q(Vy),q(FC,8))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ns=(()=>{class t{_subject=new Ae;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=kF(MC(PC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ni(r))}normalize(n){return t.stripTrailingSlash(OF(this._basePath,PC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ni(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ni(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ni;static joinWithSlash=kC;static stripTrailingSlash=MC;static \u0275fac=function(r){return new(r||t)(q(th))};static \u0275prov=L({token:t,factory:()=>xF(),providedIn:"root"})}return t})();function xF(){return new ns(q(th))}function OF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function PC(t){return t.replace(/\/index.html$/,"")}function kF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var vt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(vt||{}),we=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(we||{}),jt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(jt||{}),fr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function BC(t){return Gt(t)[Be.LocaleId]}function $C(t,e,n){let r=Gt(t),i=[r[Be.DayPeriodsFormat],r[Be.DayPeriodsStandalone]],o=on(i,e);return on(o,n)}function HC(t,e,n){let r=Gt(t),i=[r[Be.DaysFormat],r[Be.DaysStandalone]],o=on(i,e);return on(o,n)}function zC(t,e,n){let r=Gt(t),i=[r[Be.MonthsFormat],r[Be.MonthsStandalone]],o=on(i,e);return on(o,n)}function qC(t,e){let r=Gt(t)[Be.Eras];return on(r,e)}function dc(t,e){let n=Gt(t);return on(n[Be.DateFormat],e)}function hc(t,e){let n=Gt(t);return on(n[Be.TimeFormat],e)}function fc(t,e){let r=Gt(t)[Be.DateTimeFormat];return on(r,e)}function pc(t,e){let n=Gt(t),r=n[Be.NumberSymbols][e];if(typeof r>"u"){if(e===fr.CurrencyDecimal)return n[Be.NumberSymbols][fr.Decimal];if(e===fr.CurrencyGroup)return n[Be.NumberSymbols][fr.Group]}return r}function GC(t){if(!t[Be.ExtraData])throw new V(2303,!1)}function WC(t){let e=Gt(t);return GC(e),(e[Be.ExtraData][2]||[]).map(r=>typeof r=="string"?jy(r):[jy(r[0]),jy(r[1])])}function KC(t,e,n){let r=Gt(t);GC(r);let i=[r[Be.ExtraData][0],r[Be.ExtraData][1]],o=on(i,e)||[];return on(o,n)||[]}function on(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new V(2304,!1)}function jy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var FF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,nh={},LF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function QC(t,e,n,r){let i=GF(t);e=hr(n,e)||e;let s=[],a;for(;e;)if(a=LF.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=JC(r,u),i=qF(i,r));let l="";return s.forEach(h=>{let p=HF(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function ah(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function hr(t,e){let n=BC(t);if(nh[n]??={},nh[n][e])return nh[n][e];let r="";switch(e){case"shortDate":r=dc(t,jt.Short);break;case"mediumDate":r=dc(t,jt.Medium);break;case"longDate":r=dc(t,jt.Long);break;case"fullDate":r=dc(t,jt.Full);break;case"shortTime":r=hc(t,jt.Short);break;case"mediumTime":r=hc(t,jt.Medium);break;case"longTime":r=hc(t,jt.Long);break;case"fullTime":r=hc(t,jt.Full);break;case"short":let i=hr(t,"shortTime"),o=hr(t,"shortDate");r=rh(fc(t,jt.Short),[i,o]);break;case"medium":let s=hr(t,"mediumTime"),a=hr(t,"mediumDate");r=rh(fc(t,jt.Medium),[s,a]);break;case"long":let u=hr(t,"longTime"),l=hr(t,"longDate");r=rh(fc(t,jt.Long),[u,l]);break;case"full":let h=hr(t,"fullTime"),p=hr(t,"fullDate");r=rh(fc(t,jt.Full),[h,p]);break}return r&&(nh[n][e]=r),r}function rh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function _n(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function VF(t,e){return _n(t,3).substring(0,e)}function qe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=jF(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return VF(a,e);let u=pc(s,fr.MinusSign);return _n(a,e,u,r,i)}}function jF(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new V(2301,!1)}}function Ce(t,e,n=vt.Format,r=!1){return function(i,o){return UF(i,o,t,e,n,r)}}function UF(t,e,n,r,i,o){switch(n){case 2:return zC(e,i,r)[t.getMonth()];case 1:return HC(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=WC(e),h=KC(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,b]=m,N=s>=y.hours&&a>=y.minutes,M=s<b.hours||s===b.hours&&a<b.minutes;if(y.hours<b.hours){if(N&&M)return!0}else if(N||M)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return $C(e,i,r)[s<12?0:1];case 3:return qC(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new V(2302,!1)}}function ih(t){return function(e,n,r){let i=-1*r,o=pc(n,fr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+_n(s,2,o)+_n(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+_n(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+_n(s,2,o)+":"+_n(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+_n(s,2,o)+":"+_n(Math.abs(i%60),2,o);default:throw new V(2302,!1)}}}var BF=0,sh=4;function $F(t){let e=ah(t,BF,1).getDay();return ah(t,0,1+(e<=sh?sh:sh+7)-e)}function YC(t){let e=t.getDay(),n=e===0?-3:sh-e;return ah(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Uy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=YC(n),s=$F(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return _n(i,t,pc(r,fr.MinusSign))}}function oh(t,e=!1){return function(n,r){let o=YC(n).getFullYear();return _n(o,t,pc(r,fr.MinusSign),e)}}var By={};function HF(t){if(By[t])return By[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ce(3,we.Abbreviated);break;case"GGGG":e=Ce(3,we.Wide);break;case"GGGGG":e=Ce(3,we.Narrow);break;case"y":e=qe(0,1,0,!1,!0);break;case"yy":e=qe(0,2,0,!0,!0);break;case"yyy":e=qe(0,3,0,!1,!0);break;case"yyyy":e=qe(0,4,0,!1,!0);break;case"Y":e=oh(1);break;case"YY":e=oh(2,!0);break;case"YYY":e=oh(3);break;case"YYYY":e=oh(4);break;case"M":case"L":e=qe(1,1,1);break;case"MM":case"LL":e=qe(1,2,1);break;case"MMM":e=Ce(2,we.Abbreviated);break;case"MMMM":e=Ce(2,we.Wide);break;case"MMMMM":e=Ce(2,we.Narrow);break;case"LLL":e=Ce(2,we.Abbreviated,vt.Standalone);break;case"LLLL":e=Ce(2,we.Wide,vt.Standalone);break;case"LLLLL":e=Ce(2,we.Narrow,vt.Standalone);break;case"w":e=Uy(1);break;case"ww":e=Uy(2);break;case"W":e=Uy(1,!0);break;case"d":e=qe(2,1);break;case"dd":e=qe(2,2);break;case"c":case"cc":e=qe(7,1);break;case"ccc":e=Ce(1,we.Abbreviated,vt.Standalone);break;case"cccc":e=Ce(1,we.Wide,vt.Standalone);break;case"ccccc":e=Ce(1,we.Narrow,vt.Standalone);break;case"cccccc":e=Ce(1,we.Short,vt.Standalone);break;case"E":case"EE":case"EEE":e=Ce(1,we.Abbreviated);break;case"EEEE":e=Ce(1,we.Wide);break;case"EEEEE":e=Ce(1,we.Narrow);break;case"EEEEEE":e=Ce(1,we.Short);break;case"a":case"aa":case"aaa":e=Ce(0,we.Abbreviated);break;case"aaaa":e=Ce(0,we.Wide);break;case"aaaaa":e=Ce(0,we.Narrow);break;case"b":case"bb":case"bbb":e=Ce(0,we.Abbreviated,vt.Standalone,!0);break;case"bbbb":e=Ce(0,we.Wide,vt.Standalone,!0);break;case"bbbbb":e=Ce(0,we.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ce(0,we.Abbreviated,vt.Format,!0);break;case"BBBB":e=Ce(0,we.Wide,vt.Format,!0);break;case"BBBBB":e=Ce(0,we.Narrow,vt.Format,!0);break;case"h":e=qe(3,1,-12);break;case"hh":e=qe(3,2,-12);break;case"H":e=qe(3,1);break;case"HH":e=qe(3,2);break;case"m":e=qe(4,1);break;case"mm":e=qe(4,2);break;case"s":e=qe(5,1);break;case"ss":e=qe(5,2);break;case"S":e=qe(6,1);break;case"SS":e=qe(6,2);break;case"SSS":e=qe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=ih(0);break;case"ZZZZZ":e=ih(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ih(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=ih(2);break;default:return null}return By[t]=e,e}function JC(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function zF(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function qF(t,e,n){let i=t.getTimezoneOffset(),o=JC(e,i);return zF(t,-1*(o-i))}function GF(t){if(VC(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return ah(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(FF))return WF(r)}let e=new Date(t);if(!VC(e))throw new V(2302,!1);return e}function WF(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function VC(t){return t instanceof Date&&!isNaN(t.valueOf())}var ch=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},rs=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ch(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),jC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);jC(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(le(zi),le(ec),le(ky))};static \u0275dir=tn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function jC(t,e){t.context.$implicit=e.item}var Wi=(()=>{class t{_viewContainer;_context=new uh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){UC(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){UC(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(le(zi),le(ec))};static \u0275dir=tn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),uh=class{$implicit=null;ngIf=null};function UC(t,e){if(t&&!t.createEmbeddedView)throw new V(2020,!1)}function ZC(t,e){return new V(2100,!1)}var $y=class{createSubscription(e,n,r){return nn(()=>e.subscribe({next:n,error:r}))}dispose(e){nn(()=>e.unsubscribe())}},Hy=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},KF=new Hy,QF=new $y,zy=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=R(Vt);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(ur(n))return KF;if(Wd(n))return QF;throw ZC(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(le(ts,16))};static \u0275pipe=Gd({name:"async",type:t,pure:!1})}return t})();var YF="mediumDate",XC=new U(""),e0=new U(""),gc=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??YF,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return QC(n,s,o||this.locale,a)}catch(s){throw ZC(t,s.message)}}static \u0275fac=function(r){return new(r||t)(le(ac,16),le(XC,24),le(e0,24))};static \u0275pipe=Gd({name:"date",type:t,pure:!0})}return t})();var Ge=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=cr({type:t});static \u0275inj=Nn({})}return t})();function mc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ki=class{};var t0="browser",JF="server";function n0(t){return t===JF}var fh=new U(""),Ky=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(q(fh),q(be))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})(),yc=class{_doc;constructor(e){this._doc=e}manager},dh="ng-app-id";function r0(t){for(let e of t)e.remove()}function i0(t,e){let n=e.createElement("style");return n.textContent=t,n}function ZF(t,e,n,r){let i=t.head?.querySelectorAll(`style[${dh}="${e}"],link[${dh}="${e}"]`);if(i)for(let o of i)o.removeAttribute(dh),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Gy(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Qy=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=n0(o),ZF(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,i0);r?.forEach(i=>this.addUsage(i,this.external,Gy))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(r0(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])r0(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,i0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Gy(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(dh,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(q(tt),q(Ld),q(jd,8),q(ei))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})(),qy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yy=/%COMP%/g;var s0="%COMP%",XF=`_nghost-${s0}`,eL=`_ngcontent-${s0}`,tL=!0,nL=new U("",{providedIn:"root",factory:()=>tL});function rL(t){return eL.replace(Yy,t)}function iL(t){return XF.replace(Yy,t)}function a0(t,e){return e.map(n=>n.replace(Yy,t))}var Jy=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new vc(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof hh?i.applyToHost(n):i instanceof _c&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case sr.Emulated:o=new hh(u,l,r,this.appId,h,s,a,p,m);break;case sr.ShadowDom:return new Wy(u,l,n,r,s,a,this.nonce,p,m);default:o=new _c(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(q(Ky),q(Qy),q(Ld),q(nL),q(tt),q(ei),q(be),q(jd),q(ic,8))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})(),vc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(qy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(o0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(o0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=qy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=qy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ln.DashCase|Ln.Important)?e.style.setProperty(n,r,i&Ln.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ln.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=rn().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function o0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Wy=class extends vc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=a0(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Gy(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_c=class extends vc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?a0(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},hh=class extends _c{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=rL(h),this.hostAttr=iL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var ph=class t extends lc{supportsDOMEvents=!0;static makeCurrent(){Ly(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=oL();return n==null?null:sL(n)}resetBaseElement(){Ec=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mc(document.cookie,e)}},Ec=null;function oL(){return Ec=Ec||document.head.querySelector("base"),Ec?Ec.getAttribute("href"):null}function sL(t){return new URL(t,document.baseURI).pathname}var aL=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})(),u0=(()=>{class t extends yc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(q(tt))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})(),c0=["alt","control","meta","shift"],cL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},l0=(()=>{class t extends yc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),c0.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=cL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),c0.forEach(s=>{if(s!==i){let a=uL[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(q(tt))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();function Zy(t,e){return NC(O({rootComponent:t},lL(e)))}function lL(t){return{appProviders:[...gL,...t?.providers??[]],platformProviders:pL}}function dL(){ph.makeCurrent()}function hL(){return new Rn}function fL(){return Jm(document),document}var pL=[{provide:ei,useValue:t0},{provide:Vd,useValue:dL,multi:!0},{provide:tt,useFactory:fL}];var gL=[{provide:Oa,useValue:"root"},{provide:Rn,useFactory:hL},{provide:fh,useClass:u0,multi:!0,deps:[tt]},{provide:fh,useClass:l0,multi:!0,deps:[tt]},Jy,Qy,Ky,{provide:Bi,useExisting:Jy},{provide:Ki,useClass:aL},[]];var os=class{},Ic=class{},ri=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var mh=class{encodeKey(e){return d0(e)}encodeValue(e){return d0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function mL(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var yL=/%(\d[a-f0-9])/gi,vL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function d0(t){return encodeURIComponent(t).replace(yL,(e,n)=>vL[n]??e)}function gh(t){return`${t}`}var pr=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new mh,e.fromString){if(e.fromObject)throw new V(2805,!1);this.map=mL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(gh):[gh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(gh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(gh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var yh=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function _L(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function h0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function f0(t){return typeof Blob<"u"&&t instanceof Blob}function p0(t){return typeof FormData<"u"&&t instanceof FormData}function EL(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var g0="Content-Type",m0="Accept",y0="X-Request-URL",v0="text/plain",_0="application/json",IL=`${_0}, ${v0}, */*`,is=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(_L(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ri,this.context??=new yh,!this.params)this.params=new pr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||h0(this.body)||f0(this.body)||p0(this.body)||EL(this.body)?this.body:this.body instanceof pr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||p0(this.body)?null:f0(this.body)?this.body.type||null:h0(this.body)?null:typeof this.body=="string"?v0:this.body instanceof pr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?_0:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,u=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,p=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((y,b)=>y.set(b,e.setHeaders[b]),h)),e.setParams&&(p=Object.keys(e.setParams).reduce((y,b)=>y.set(b,e.setParams[b]),p)),new t(n,r,a,{params:p,headers:h,context:m,reportProgress:l,responseType:i,withCredentials:u,transferCache:s,keepalive:o})}},Qi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Qi||{}),ss=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new ri,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},vh=class t extends ss{constructor(e={}){super(e)}type=Qi.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},wc=class t extends ss{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Qi.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Tc=class extends ss{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},wL=200,TL=204;function Xy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache,keepalive:t.keepalive}}var as=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof is)o=n;else{let u;i.headers instanceof ri?u=i.headers:u=new ri(i.headers);let l;i.params&&(i.params instanceof pr?l=i.params:l=new pr({fromObject:i.params})),o=new is(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}let s=K(o).pipe(Fr(u=>this.handler.handle(u)));if(n instanceof is||i.observe==="events")return s;let a=s.pipe(Tt(u=>u instanceof wc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(H(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new V(2806,!1);return u.body}));case"blob":return a.pipe(H(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new V(2807,!1);return u.body}));case"text":return a.pipe(H(u=>{if(u.body!==null&&typeof u.body!="string")throw new V(2808,!1);return u.body}));case"json":default:return a.pipe(H(u=>u.body))}case"response":return a;default:throw new V(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new pr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Xy(i,r))}post(n,r,i={}){return this.request("POST",n,Xy(i,r))}put(n,r,i={}){return this.request("PUT",n,Xy(i,r))}static \u0275fac=function(r){return new(r||t)(q(os))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();var DL=new U("");function bL(t,e){return e(t)}function CL(t,e,n){return(r,i)=>et(n,()=>e(r,o=>t(o,i)))}var E0=new U(""),I0=new U(""),w0=new U("",{providedIn:"root",factory:()=>!0});var _h=(()=>{class t extends os{backend;injector;chain=null;pendingTasks=R(Yr);contributeToStability=R(w0);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(E0),...this.injector.get(I0,[])]));this.chain=r.reduceRight((i,o)=>CL(i,o,this.injector),bL)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(An(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(q(Ic),q(je))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();var SL=/^\)\]\}',?\n/,AL=RegExp(`^${y0}:`,"m");function RL(t){return"responseURL"in t&&t.responseURL?t.responseURL:AL.test(t.getAllResponseHeaders())?t.getResponseHeader(y0):null}var ev=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new V(-2800,!1);n.keepalive;let r=this.xhrFactory;return(r.\u0275loadImpl?Re(r.\u0275loadImpl()):K(null)).pipe(Xe(()=>new G(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((N,M)=>s.setRequestHeader(N,M.join(","))),n.headers.has(m0)||s.setRequestHeader(m0,IL),!n.headers.has(g0)){let N=n.detectContentTypeHeader();N!==null&&s.setRequestHeader(g0,N)}if(n.responseType){let N=n.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",M=new ri(s.getAllResponseHeaders()),x=RL(s)||n.url;return u=new vh({headers:M,status:s.status,statusText:N,url:x}),u},h=()=>{let{headers:N,status:M,statusText:x,url:z}=l(),B=null;M!==TL&&(B=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=B?wL:0);let fe=M>=200&&M<300;if(n.responseType==="json"&&typeof B=="string"){let Ye=B;B=B.replace(SL,"");try{B=B!==""?JSON.parse(B):null}catch(me){B=Ye,fe&&(fe=!1,B={error:me,text:B})}}fe?(o.next(new wc({body:B,headers:N,status:M,statusText:x,url:z||void 0})),o.complete()):o.error(new Tc({error:B,headers:N,status:M,statusText:x,url:z||void 0}))},p=N=>{let{url:M}=l(),x=new Tc({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(x)},m=!1,y=N=>{m||(o.next(l()),m=!0);let M={type:Qi.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(M.total=N.total),n.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},b=N=>{let M={type:Qi.UploadProgress,loaded:N.loaded};N.lengthComputable&&(M.total=N.total),o.next(M)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:Qi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(q(Ki))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})(),T0=new U(""),NL="XSRF-TOKEN",ML=new U("",{providedIn:"root",factory:()=>NL}),PL="X-XSRF-TOKEN",xL=new U("",{providedIn:"root",factory:()=>PL}),Dc=class{},OL=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=mc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(q(tt),q(ML))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();function kL(t,e){let n=t.url.toLowerCase();if(!R(T0)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=R(Dc).getToken(),i=R(xL);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function tv(...t){let e=[as,ev,_h,{provide:os,useExisting:_h},{provide:Ic,useFactory:()=>R(DL,{optional:!0})??R(ev)},{provide:E0,useValue:kL,multi:!0},{provide:T0,useValue:!0},{provide:Dc,useClass:OL}];for(let n of t)e.push(...n.\u0275providers);return Mn(e)}var D0=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(q(tt))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var X="primary",jc=Symbol("RouteTitle"),sv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Zi(t){return new sv(t)}function P0(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function LL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Un(t[n],e[n]))return!1;return!0}function Un(t,e){let n=t?av(t):void 0,r=e?av(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!x0(t[i],e[i]))return!1;return!0}function av(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function x0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function O0(t){return t.length>0?t[t.length-1]:null}function yr(t){return ug(t)?t:ur(t)?Re(Promise.resolve(t)):K(t)}var VL={exact:F0,subset:L0},k0={exact:jL,subset:UL,ignored:()=>!0};function b0(t,e,n){return VL[n.paths](t.root,e.root,n.matrixParams)&&k0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function jL(t,e){return Un(t,e)}function F0(t,e,n){if(!Yi(t.segments,e.segments)||!wh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!F0(t.children[r],e.children[r],n))return!1;return!0}function UL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>x0(t[n],e[n]))}function L0(t,e,n){return V0(t,e,e.segments,n)}function V0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Yi(i,n)||e.hasChildren()||!wh(i,n,r))}else if(t.segments.length===n.length){if(!Yi(t.segments,n)||!wh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!L0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Yi(t.segments,i)||!wh(t.segments,i,r)||!t.children[X]?!1:V0(t.children[X],e,o,r)}}function wh(t,e,n){return e.every((r,i)=>k0[n](t[i].parameters,r.parameters))}var $n=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zi(this.queryParams),this._queryParamMap}toString(){return HL.serialize(this)}},ye=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Th(this)}},ii=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Zi(this.parameters),this._parameterMap}toString(){return U0(this)}};function BL(t,e){return Yi(t,e)&&t.every((n,r)=>Un(n.parameters,e[r].parameters))}function Yi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function $L(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===X&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==X&&(n=n.concat(e(i,r)))}),n}var Uc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>new Xi,providedIn:"root"})}return t})(),Xi=class{parse(e){let n=new uv(e);return new $n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${bc(e.root,!0)}`,r=GL(e.queryParams),i=typeof e.fragment=="string"?`#${zL(e.fragment)}`:"";return`${n}${r}${i}`}},HL=new Xi;function Th(t){return t.segments.map(e=>U0(e)).join("/")}function bc(t,e){if(!t.hasChildren())return Th(t);if(e){let n=t.children[X]?bc(t.children[X],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==X&&r.push(`${i}:${bc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=$L(t,(r,i)=>i===X?[bc(t.children[X],!1)]:[`${i}:${bc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[X]!=null?`${Th(t)}/${n[0]}`:`${Th(t)}/(${n.join("//")})`}}function j0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Eh(t){return j0(t).replace(/%3B/gi,";")}function zL(t){return encodeURI(t)}function cv(t){return j0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dh(t){return decodeURIComponent(t)}function C0(t){return Dh(t.replace(/\+/g,"%20"))}function U0(t){return`${cv(t.path)}${qL(t.parameters)}`}function qL(t){return Object.entries(t).map(([e,n])=>`;${cv(e)}=${cv(n)}`).join("")}function GL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Eh(n)}=${Eh(i)}`).join("&"):`${Eh(n)}=${Eh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var WL=/^[^\/()?;#]+/;function nv(t){let e=t.match(WL);return e?e[0]:""}var KL=/^[^\/()?;=#]+/;function QL(t){let e=t.match(KL);return e?e[0]:""}var YL=/^[^=?&#]+/;function JL(t){let e=t.match(YL);return e?e[0]:""}var ZL=/^[^&#]+/;function XL(t){let e=t.match(ZL);return e?e[0]:""}var uv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[X]=new ye(e,n)),r}parseSegment(){let e=nv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new ii(Dh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=QL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=nv(this.remaining);i&&(r=i,this.capture(r))}e[Dh(n)]=Dh(r)}parseQueryParam(e){let n=JL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=XL(this.remaining);s&&(r=s,this.capture(r))}let i=C0(n),o=C0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=nv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=X);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[X]:new ye([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function B0(t){return t.segments.length>0?new ye([],{[X]:t}):t}function $0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=$0(i);if(r===X&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ye(t.segments,e);return eV(n)}function eV(t){if(t.numberOfChildren===1&&t.children[X]){let e=t.children[X];return new ye(t.segments.concat(e.segments),e.children)}return t}function hs(t){return t instanceof $n}function H0(t,e,n=null,r=null){let i=z0(t);return q0(i,e,n,r)}function z0(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ye(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=B0(r);return e??i}function q0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return rv(i,i,i,n,r);let o=tV(e);if(o.toRoot())return rv(i,i,new ye([],{}),n,r);let s=nV(o,i,t),a=s.processChildren?Sc(s.segmentGroup,s.index,o.commands):W0(s.segmentGroup,s.index,o.commands);return rv(i,s.segmentGroup,a,n,r)}function bh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Nc(t){return typeof t=="object"&&t!=null&&t.outlets}function rv(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=G0(t,e,n);let a=B0($0(s));return new $n(a,o,i)}function G0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=G0(o,e,n)}),new ye(t.segments,r)}var Ch=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&bh(r[0]))throw new V(4003,!1);let i=r.find(Nc);if(i&&i!==O0(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ch(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ch(n,e,r)}var ls=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function nV(t,e,n){if(t.isAbsolute)return new ls(e,!0,0);if(!n)return new ls(e,!1,NaN);if(n.parent===null)return new ls(n,!0,0);let r=bh(t.commands[0])?0:1,i=n.segments.length-1+r;return rV(n,i,t.numberOfDoubleDots)}function rV(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new ls(r,!1,i-o)}function iV(t){return Nc(t[0])?t[0].outlets:{[X]:t}}function W0(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return Sc(t,e,n);let r=oV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ye(t.segments.slice(0,r.pathIndex),{});return o.children[X]=new ye(t.segments.slice(r.pathIndex),t.children),Sc(o,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?lv(t,e,n):r.match?Sc(t,0,i):lv(t,e,n)}function Sc(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=iV(n),i={};if(Object.keys(r).some(o=>o!==X)&&t.children[X]&&t.numberOfChildren===1&&t.children[X].segments.length===0){let o=Sc(t.children[X],e,n);return new ye(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=W0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ye(t.segments,i)}}function oV(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Nc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!A0(u,l,s))return o;r+=2}else{if(!A0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function lv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Nc(o)){let u=sV(o.outlets);return new ye(r,u)}if(i===0&&bh(n[0])){let u=t.segments[e];r.push(new ii(u.path,S0(n[0]))),i++;continue}let s=Nc(o)?o.outlets[X]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&bh(a)?(r.push(new ii(s,S0(a))),i+=2):(r.push(new ii(s,{})),i++)}return new ye(r,{})}function sV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=lv(new ye([],{}),0,r))}),e}function S0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function A0(t,e,n){return t==n.path&&Un(e,n.parameters)}var Ac="imperative",it=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(it||{}),Kt=class{id;url;constructor(e,n){this.id=e,this.url=n}},eo=class extends Kt{type=it.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},gr=class extends Kt{urlAfterRedirects;type=it.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(Rt||{}),Mc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Mc||{}),Bn=class extends Kt{reason;code;type=it.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mr=class extends Kt{reason;code;type=it.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},fs=class extends Kt{error;target;type=it.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pc=class extends Kt{urlAfterRedirects;state;type=it.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sh=class extends Kt{urlAfterRedirects;state;type=it.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ah=class extends Kt{urlAfterRedirects;state;shouldActivate;type=it.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rh=class extends Kt{urlAfterRedirects;state;type=it.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nh=class extends Kt{urlAfterRedirects;state;type=it.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mh=class{route;type=it.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ph=class{route;type=it.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xh=class{snapshot;type=it.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oh=class{snapshot;type=it.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kh=class{snapshot;type=it.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fh=class{snapshot;type=it.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xc=class{},ps=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function aV(t){return!(t instanceof xc)&&!(t instanceof ps)}function cV(t,e){return t.providers&&!t._injector&&(t._injector=rc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function En(t){return t.outlet||X}function uV(t,e){let n=t.filter(r=>En(r)===e);return n.push(...t.filter(r=>En(r)!==e)),n}function Bc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Lh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Bc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ys(this.rootInjector)}},ys=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Lh(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(q(je))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=dv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=dv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=hv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hv(e,this._root).map(n=>n.value)}};function dv(t,e){if(t===e.value)return e;for(let n of e.children){let r=dv(t,n);if(r)return r}return null}function hv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=hv(t,n);if(r.length)return r.unshift(e),r}return[]}var Wt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function us(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Oc=class extends Vh{snapshot;constructor(e,n){super(e),this.snapshot=n,Ev(this,e)}toString(){return this.snapshot.toString()}};function K0(t){let e=lV(t),n=new ct([new ii("",{})]),r=new ct({}),i=new ct({}),o=new ct({}),s=new ct(""),a=new Ut(n,r,o,s,i,X,t,e.root);return a.snapshot=e.root,new Oc(new Wt(a,[]),e)}function lV(t){let e={},n={},r={},i="",o=new Ji([],e,r,i,n,X,t,null,{});return new kc("",new Wt(o,[]))}var Ut=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(H(l=>l[jc]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(e=>Zi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(e=>Zi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&Y0(i)&&(r.resolve[jc]=i.title),r}var Ji=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[jc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kc=class extends Vh{url;constructor(e,n){super(n),this.url=e,Ev(this,n)}toString(){return Q0(this._root)}};function Ev(t,e){e.value._routerState=t,e.children.forEach(n=>Ev(t,n))}function Q0(t){let e=t.children.length>0?` { ${t.children.map(Q0).join(", ")} } `:"";return`${t.value}${e}`}function iv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Un(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Un(e.params,n.params)||t.paramsSubject.next(n.params),LL(e.url,n.url)||t.urlSubject.next(n.url),Un(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function fv(t,e){let n=Un(t.params,e.params)&&BL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||fv(t.parent,e.parent))}function Y0(t){return typeof t.title=="string"||t.title===null}var J0=new U(""),$c=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=X;activateEvents=new nt;deactivateEvents=new nt;attachEvents=new nt;detachEvents=new nt;routerOutletData=AC(void 0);parentContexts=R(ys);location=R(zi);changeDetector=R(ts);inputBinder=R(Hh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new pv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=tn({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Xr]})}return t})(),pv=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Ut?this.route:e===ys?this.childContexts:e===J0?this.outletData:this.parent.get(e,n)}},Hh=new U("");var Iv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=xe({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&yt(0,"router-outlet")},dependencies:[$c],encapsulation:2})}return t})();function wv(t){let e=t.children&&t.children.map(wv),n=e?re(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=Iv),n}function dV(t,e,n){let r=Fc(t,e._root,n?n._root:void 0);return new Oc(r,e)}function Fc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=hV(t,e,n);return new Wt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Fc(t,a)),s}}let r=fV(e.value),i=e.children.map(o=>Fc(t,o));return new Wt(r,i)}}function hV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Fc(t,r,i);return Fc(t,r)})}function fV(t){return new Ut(new ct(t.url),new ct(t.params),new ct(t.queryParams),new ct(t.fragment),new ct(t.data),t.outlet,t.component,t)}var gs=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Z0="ngNavigationCancelingError";function Uh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=hs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=X0(!1,Rt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function X0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Z0]=!0,n.cancellationCode=e,n}function pV(t){return eS(t)&&hs(t.url)}function eS(t){return!!t&&t[Z0]}var gV=(t,e,n,r)=>H(i=>(new gv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),gv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),iv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=us(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=us(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=us(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=us(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Fh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Oh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(iv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),iv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Bh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ds=class{component;route;constructor(e,n){this.component=e,this.route=n}};function mV(t,e,n){let r=t._root,i=e?e._root:null;return Cc(r,i,n,[r.value])}function yV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function vs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Cg(t)?t:e.get(t):r}function Cc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=us(e);return t.children.forEach(s=>{vV(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Rc(a,n.getContext(s),i)),i}function vV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=_V(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Bh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Cc(t,e,a?a.children:null,r,i):Cc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ds(a.outlet.component,s))}else s&&Rc(e,a,i),i.canActivateChecks.push(new Bh(r)),o.component?Cc(t,null,a?a.children:null,r,i):Cc(t,null,n,r,i);return i}function _V(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Yi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yi(t.url,e.url)||!Un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fv(t,e)||!Un(t.queryParams,e.queryParams);case"paramsChange":default:return!fv(t,e)}}function Rc(t,e,n){let r=us(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Rc(s,e.children.getContext(o),n):Rc(s,null,n):Rc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ds(e.outlet.component,i)):n.canDeactivateChecks.push(new ds(null,i)):n.canDeactivateChecks.push(new ds(null,i))}function Hc(t){return typeof t=="function"}function EV(t){return typeof t=="boolean"}function IV(t){return t&&Hc(t.canLoad)}function wV(t){return t&&Hc(t.canActivate)}function TV(t){return t&&Hc(t.canActivateChild)}function DV(t){return t&&Hc(t.canDeactivate)}function bV(t){return t&&Hc(t.canMatch)}function tS(t){return t instanceof tr||t?.name==="EmptyError"}var Ih=Symbol("INITIAL_VALUE");function ms(){return Xe(t=>kl(t.map(e=>e.pipe(nr(1),Ht(Ih)))).pipe(H(e=>{for(let n of e)if(n!==!0){if(n===Ih)return Ih;if(n===!1||CV(n))return n}return!0}),Tt(e=>e!==Ih),nr(1)))}function CV(t){return hs(t)||t instanceof gs}function SV(t,e){return Ze(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?K(re(O({},n),{guardsResult:!0})):AV(s,r,i,t).pipe(Ze(a=>a&&EV(a)?RV(r,o,t,e):K(a)),H(a=>re(O({},n),{guardsResult:a})))})}function AV(t,e,n,r){return Re(t).pipe(Ze(i=>OV(i.component,i.route,n,e,r)),rr(i=>i!==!0,!0))}function RV(t,e,n,r){return Re(e).pipe(Fr(i=>jo(MV(i.route.parent,r),NV(i.route,r),xV(t,i.path,n),PV(t,i.route,n))),rr(i=>i!==!0,!0))}function NV(t,e){return t!==null&&e&&e(new kh(t)),K(!0)}function MV(t,e){return t!==null&&e&&e(new xh(t)),K(!0)}function PV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>Sa(()=>{let s=Bc(e)??n,a=vs(o,s),u=wV(a)?a.canActivate(e,t):et(s,()=>a(e,t));return yr(u).pipe(rr())}));return K(i).pipe(ms())}function xV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>yV(s)).filter(s=>s!==null).map(s=>Sa(()=>{let a=s.guards.map(u=>{let l=Bc(s.node)??n,h=vs(u,l),p=TV(h)?h.canActivateChild(r,t):et(l,()=>h(r,t));return yr(p).pipe(rr())});return K(a).pipe(ms())}));return K(o).pipe(ms())}function OV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let u=Bc(e)??i,l=vs(a,u),h=DV(l)?l.canDeactivate(t,e,n,r):et(u,()=>l(t,e,n,r));return yr(h).pipe(rr())});return K(s).pipe(ms())}function kV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=vs(s,t),u=IV(a)?a.canLoad(e,n):et(t,()=>a(e,n));return yr(u)});return K(o).pipe(ms(),nS(r))}function nS(t){return gl(Ve(e=>{if(typeof e!="boolean")throw Uh(t,e)}),H(e=>e===!0))}function FV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=vs(s,t),u=bV(a)?a.canMatch(e,n):et(t,()=>a(e,n));return yr(u)});return K(o).pipe(ms(),nS(r))}var Lc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Vc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function cs(t){return kr(new Lc(t))}function LV(t){return kr(new V(4e3,!1))}function VV(t){return kr(X0(!1,Rt.GuardRejected))}var mv=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[X])return LV(`${e.redirectTo}`);i=i.children[X]}}applyRedirectCommands(e,n,r,i,o){return jV(n,i,o).pipe(H(s=>{if(s instanceof $n)throw new Vc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Vc(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new $n(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ye(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function jV(t,e,n){if(typeof t=="string")return K(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return yr(et(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var yv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UV(t,e,n,r,i){let o=rS(t,e,n);return o.matched?(r=cV(e,r),FV(r,e,n,i).pipe(H(s=>s===!0?o:O({},yv)))):K(o)}function rS(t,e,n){if(e.path==="**")return BV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},yv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||P0)(n,t,e);if(!i)return O({},yv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function BV(t){return{matched:!0,parameters:t.length>0?O0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function R0(t,e,n,r){return n.length>0&&zV(t,n,r)?{segmentGroup:new ye(e,HV(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&qV(t,n,r)?{segmentGroup:new ye(t.segments,$V(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function $V(t,e,n,r){let i={};for(let o of n)if(zh(t,e,o)&&!r[En(o)]){let s=new ye([],{});i[En(o)]=s}return O(O({},r),i)}function HV(t,e){let n={};n[X]=e;for(let r of t)if(r.path===""&&En(r)!==X){let i=new ye([],{});n[En(r)]=i}return n}function zV(t,e,n){return n.some(r=>zh(t,e,r)&&En(r)!==X)}function qV(t,e,n){return n.some(r=>zh(t,e,r))}function zh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function GV(t,e,n){return e.length===0&&!t.children[n]}var vv=class{};function WV(t,e,n,r,i,o,s="emptyOnly"){return new _v(t,e,n,r,i,s,o).recognize()}var KV=31,_v=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new mv(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=R0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(H(({children:n,rootSnapshot:r})=>{let i=new Wt(r,n),o=new kc("",i),s=H0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ji([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,X,n).pipe(H(r=>({children:r,rootSnapshot:n})),Ot(r=>{if(r instanceof Vc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Lc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(H(s=>s instanceof Wt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Re(o).pipe(Fr(s=>{let a=r.children[s],u=uV(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Ll((s,a)=>(s.push(...a),s)),Lr(null),dg(),Ze(s=>{if(s===null)return cs(r);let a=iS(s);return QV(a),K(a)}))}processSegment(e,n,r,i,o,s,a){return Re(n).pipe(Fr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Ot(l=>{if(l instanceof Lc)return K(null);throw l}))),rr(u=>!!u),Ot(u=>{if(tS(u))return GV(r,i,o)?K(new vv):cs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return En(r)!==s&&(s===X||!zh(i,o,r))?cs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):cs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=rS(n,i,o);if(!u)return cs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>KV&&(this.allowRedirects=!1));let y=new Ji(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,N0(i),En(i),i.component??i._loadedComponent??null,i,M0(i)),b=jh(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(b.params),y.data=Object.freeze(b.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Xe(M=>this.applyRedirects.lineralizeSegments(i,M)),Ze(M=>this.processSegment(e,r,n,M.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=UV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Xe(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Xe(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,b=new Ji(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,N0(r),En(r),r.component??r._loadedComponent??null,r,M0(r)),N=jh(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(N.params),b.data=Object.freeze(N.data);let{segmentGroup:M,slicedSegments:x}=R0(n,m,y,l);if(x.length===0&&M.hasChildren())return this.processChildren(h,l,M,b).pipe(H(B=>new Wt(b,B)));if(l.length===0&&x.length===0)return K(new Wt(b,[]));let z=En(r)===o;return this.processSegment(h,l,M,x,z?X:o,!0,b).pipe(H(B=>new Wt(b,B instanceof Wt?[B]:[])))}))):cs(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):kV(e,n,r,this.urlSerializer).pipe(Ze(i=>i?this.configLoader.loadChildren(e,n).pipe(Ve(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):VV(n))):K({routes:[],injector:e})}};function QV(t){t.sort((e,n)=>e.value.outlet===X?-1:n.value.outlet===X?1:e.value.outlet.localeCompare(n.value.outlet))}function YV(t){let e=t.value.routeConfig;return e&&e.path===""}function iS(t){let e=[],n=new Set;for(let r of t){if(!YV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=iS(r.children);e.push(new Wt(r.value,i))}return e.filter(r=>!n.has(r))}function N0(t){return t.data||{}}function M0(t){return t.resolve||{}}function JV(t,e,n,r,i,o){return Ze(s=>WV(t,e,n,r,s.extractedUrl,i,o).pipe(H(({state:a,tree:u})=>re(O({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function ZV(t,e){return Ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of oS(u))s.add(l);let a=0;return Re(s).pipe(Fr(u=>o.has(u)?XV(u,r,t,e):(u.data=jh(u,u.parent,t).resolve,K(void 0))),Ve(()=>a++),Uo(1),Ze(u=>a===s.size?K(n):Pt))})}function oS(t){let e=t.children.map(n=>oS(n)).flat();return[t,...e]}function XV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Y0(i)&&(o[jc]=i.title),Sa(()=>(t.data=jh(t,t.parent,n).resolve,e2(o,t,e,r).pipe(H(s=>(t._resolvedData=s,t.data=O(O({},t.data),s),null)))))}function e2(t,e,n,r){let i=av(t);if(i.length===0)return K({});let o={};return Re(i).pipe(Ze(s=>t2(t[s],e,n,r).pipe(rr(),Ve(a=>{if(a instanceof gs)throw Uh(new Xi,a);o[s]=a}))),Uo(1),H(()=>o),Ot(s=>tS(s)?Pt:kr(s)))}function t2(t,e,n,r){let i=Bc(e)??r,o=vs(t,i),s=o.resolve?o.resolve(e,n):et(i,()=>o(e,n));return yr(s)}function ov(t){return Xe(e=>{let n=t(e);return n?Re(n).pipe(H(()=>e)):K(e)})}var Tv=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===X);return r}getResolvedTitleForRoute(n){return n.data[jc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>R(sS),providedIn:"root"})}return t})(),sS=(()=>{class t extends Tv{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(q(D0))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zc=new U("",{providedIn:"root",factory:()=>({})}),qc=new U(""),aS=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R(Ay);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return K(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=yr(n.loadComponent()).pipe(H(uS),Ve(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),An(()=>{this.componentLoaders.delete(n)})),i=new Oo(r,()=>new Ae).pipe(xo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=cS(r,this.compiler,n,this.onLoadEndListener).pipe(An(()=>{this.childrenLoaders.delete(r)})),s=new Oo(o,()=>new Ae).pipe(xo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cS(t,e,n,r){return yr(t.loadChildren()).pipe(H(uS),Ze(i=>i instanceof qd||Array.isArray(i)?K(i):Re(e.compileModuleAsync(i))),H(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(qc,[],{optional:!0,self:!0}).flat()),{routes:s.map(wv),injector:o}}))}function n2(t){return t&&typeof t=="object"&&"default"in t}function uS(t){return n2(t)?t.default:t}var qh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>R(r2),providedIn:"root"})}return t})(),r2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lS=new U("");var dS=new U(""),hS=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ae;transitionAbortWithErrorSubject=new Ae;configLoader=R(aS);environmentInjector=R(je);destroyRef=R(Kr);urlSerializer=R(Uc);rootContexts=R(ys);location=R(ns);inputBindingEnabled=R(Hh,{optional:!0})!==null;titleStrategy=R(Tv);options=R(zc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(qh);createViewTransition=R(lS,{optional:!0});navigationErrorHandler=R(dS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Mh(i)),r=i=>this.events.next(new Ph(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(re(O({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new ct(null),this.transitions.pipe(Tt(r=>r!==null),Xe(r=>{let i=!1;return K(r).pipe(Xe(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),Pt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?re(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let u="";return this.events.next(new mr(o.id,this.urlSerializer.serialize(o.rawUrl),u,Mc.IgnoredSameUrlNavigation)),o.resolve(!1),Pt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return K(o).pipe(Xe(u=>(this.events.next(new eo(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Pt:Promise.resolve(u))),JV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=re(O({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new Pc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new eo(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let b=K0(this.rootComponentType).snapshot;return this.currentTransition=r=re(O({},o),{targetSnapshot:b,urlAfterRedirects:l,extras:re(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,K(r)}else{let u="";return this.events.next(new mr(o.id,this.urlSerializer.serialize(o.extractedUrl),u,Mc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Pt}}),Ve(o=>{let s=new Sh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),H(o=>(this.currentTransition=r=re(O({},o),{guards:mV(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),SV(this.environmentInjector,o=>this.events.next(o)),Ve(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Uh(this.urlSerializer,o.guardsResult);let s=new Ah(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Tt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Rt.GuardRejected),!1)),ov(o=>{if(o.guards.canActivateChecks.length!==0)return K(o).pipe(Ve(s=>{let a=new Rh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Xe(s=>{let a=!1;return K(s).pipe(ZV(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Rt.NoDataFromResolver)}}))}),Ve(s=>{let a=new Nh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),ov(o=>{let s=a=>{let u=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(a.routeConfig).pipe(Ve(l=>{a.component=l}),H(()=>{})));for(let l of a.children)u.push(...s(l));return u};return kl(s(o.targetSnapshot.root)).pipe(Lr(null),nr(1))}),ov(()=>this.afterPreactivation()),Xe(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Re(a).pipe(H(()=>r)):K(r)}),H(o=>{let s=dV(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=re(O({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Ve(()=>{this.events.next(new xc)}),gV(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),nr(1),Vl(new G(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Tt(()=>!i&&!r.targetRouterState),Ve(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Rt.Aborted)}))),Ve({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Vl(this.transitionAbortWithErrorSubject.pipe(Ve(o=>{throw o}))),An(()=>{i||this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ot(o=>{if(this.destroyed)return r.resolve(!1),Pt;if(i=!0,eS(o))this.events.next(new Bn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),pV(o)?this.events.next(new ps(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new fs(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=et(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof gs){let{message:u,cancellationCode:l}=Uh(this.urlSerializer,a);this.events.next(new Bn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new ps(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Pt}))}))}cancelNavigationTransition(n,r,i){let o=new Bn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function i2(t){return t!==Ac}var fS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>R(o2),providedIn:"root"})}return t})(),$h=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},o2=(()=>{class t extends $h{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Zo(t)))(i||t)}})();static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pS=(()=>{class t{urlSerializer=R(Uc);options=R(zc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(ns);urlHandlingStrategy=R(qh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new $n;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof $n?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=K0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>R(s2),providedIn:"root"})}return t})(),s2=(()=>{class t extends pS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof eo?this.updateStateMemento():n instanceof mr?this.commitTransition(r):n instanceof Pc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof xc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Bn&&n.code!==Rt.SupersededByNewNavigation&&n.code!==Rt.Redirect?this.restoreHistory(r):n instanceof fs?this.restoreHistory(r,!0):n instanceof gr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=O(O({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Zo(t)))(i||t)}})();static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dv(t,e){t.events.pipe(Tt(n=>n instanceof gr||n instanceof Bn||n instanceof fs||n instanceof mr),H(n=>n instanceof gr||n instanceof mr?0:(n instanceof Bn?n.code===Rt.Redirect||n.code===Rt.SupersededByNewNavigation:!1)?2:1),Tt(n=>n!==2),nr(1)).subscribe(()=>{e()})}var a2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},c2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},oi=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R(Iy);stateManager=R(pS);options=R(zc,{optional:!0})||{};pendingTasks=R(or);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(hS);urlSerializer=R(Uc);location=R(ns);urlHandlingStrategy=R(qh);injector=R(je);_events=new Ae;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(fS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(qc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(Hh,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Bn&&r.code!==Rt.Redirect&&r.code!==Rt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof gr)this.navigated=!0;else if(r instanceof ps){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||i2(i.source)},s);this.scheduleNavigation(a,Ac,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}aV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ac,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.injector.get(Vt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(wv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=z0(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return q0(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=hs(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ac,null,r)}navigate(n,r={skipLocationChange:!1}){return u2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=O({},a2):r===!1?i=O({},c2):i=r,hs(n))return b0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return b0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Dv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function u2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new V(4008,!1)}var d2=new U("");function bv(t,...e){return Mn([{provide:qc,multi:!0,useValue:t},[],{provide:Ut,useFactory:h2,deps:[oi]},{provide:Kd,multi:!0,useFactory:f2},e.map(n=>n.\u0275providers)])}function h2(t){return t.routerState.root}function f2(){let t=R(dt);return e=>{let n=t.get(Gi);if(e!==n.components[0])return;let r=t.get(oi),i=t.get(p2);t.get(g2)===1&&r.initialNavigation(),t.get(m2,null,{optional:!0})?.setUpPreloading(),t.get(d2,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var p2=new U("",{factory:()=>new Ae}),g2=new U("",{providedIn:"root",factory:()=>1});var m2=new U("");var Gh=(()=>{let e=class e{constructor(){this.loaderSubject=new Ae,this.loaderState=this.loaderSubject.asObservable()}show(){this.loaderSubject.next({show:!0})}hide(){this.loaderSubject.next({show:!1})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gS=(()=>{let e=class e{constructor(){this.loaderService=R(Gh),this.show=!1}ngOnInit(){this.subscription=this.loaderService.loaderState.subscribe(r=>{this.show=r.show})}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-loader"]],decls:5,vars:2,consts:[[1,"loader-overlay"],[1,"spinner"],[1,"bounce1"],[1,"bounce2"],[1,"bounce3"]],template:function(i,o){i&1&&(Z(0,"div",0)(1,"div",1),yt(2,"div",2)(3,"div",3)(4,"div",4),ne()()),i&2&&yn("hidden",!o.show)},dependencies:[Ge],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999;transition:opacity .3s ease}.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.spinner[_ngcontent-%COMP%]{display:flex;gap:5px}.spinner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:18px;height:18px;background-color:#fff;border-radius:100%;animation:_ngcontent-%COMP%_sk-bouncedelay 1.4s infinite ease-in-out both}.bounce1[_ngcontent-%COMP%]{animation-delay:-.32s}.bounce2[_ngcontent-%COMP%]{animation-delay:-.16s}@keyframes _ngcontent-%COMP%_sk-bouncedelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}"]});let t=e;return t})();var Wh=class{constructor(e,n,r,i,o,s,a,u,l,h,p,m){this.updateAt=e,this.city=n,this.iconClassname=r,this.temp=i,this.humidity=o,this.pressure=s,this.description=a,this.sunrise=u,this.sunset=l,this.windDirection=h,this.windSpeed=p,this.windBeaufortScale=m}};var mS=(()=>{let e=class e{set(r,i){localStorage.setItem(r,JSON.stringify(i))}get(r){let i=localStorage.getItem(r);return i?JSON.parse(i):null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _s={defaultUnit:"metric",defaultCity:{coord:{latitude:71.7069,longitude:128.8694}}},In={host:"https://api.openweathermap.org/data/2.5",appId:"0f3fb9fa31ad3d41f1bb2bd0841c3f2f",measurementUnits:{metric:{temperature:"C"},imperial:{temperature:"F"}},amountForecastDays:16,updateInterval:{forecast:3e5,weather:3e5}};var si=(()=>{let e=class e{constructor(){this.localStorageService=R(mS),this.unitSystem=this.localStorageService.get("unit")||_s.defaultUnit}getUnitSystem(){return this.unitSystem}updateUnitSystem(r){this.localStorageService.set("unit",r),setTimeout(()=>window.location.reload(),300)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Kh=(()=>{let e=class e{constructor(){this.appService=R(si),this.unitSystem=this.appService.getUnitSystem()}getWindDirection(r){let i=Math.round((r-11.25)/22.5);return["North","North Northeast","Northeast","East Northeast","East","East Southeast","Southeast","South Southeast","South","South Southwest","Southwest","West Southwest","West","West Northwest","Northwest","North Northwest"][i]||"North"}getWindBeaufortScaleByMeterInSecond(r){let i=["calm","light air","light breeze","gentle breeze","moderate breeze","fresh breeze","strong breeze","high wind, near gale","gale","severe gale","storm","violent storm","hurricane"],o=[[0,.3],[.4,1.6],[1.7,3.5],[3.6,5.5],[5.6,8],[8.1,10.8],[10.9,13.9],[14,17.2],[17.3,20.8],[20.9,24.5],[24.6,28.5],[28.6,32.7],[32.8,1e3]];for(let s=0;s<o.length;s++)if(r>=o[s][0]&&r<=o[s][1])return i[s];return i[0]}getPressureInMmHg(r){return Math.round(r*.75006375541921)}isItCurrentDayByTimestamps(r,i){let o=[r,i].map(s=>Math.floor(s/86400));return o[0]===o[1]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yS={200:{label:"thunderstorm with light rain",icon:"storm-showers"},201:{label:"thunderstorm with rain",icon:"storm-showers"},202:{label:"thunderstorm with heavy rain",icon:"storm-showers"},210:{label:"light thunderstorm",icon:"storm-showers"},211:{label:"thunderstorm",icon:"thunderstorm"},212:{label:"heavy thunderstorm",icon:"thunderstorm"},221:{label:"ragged thunderstorm",icon:"thunderstorm"},230:{label:"thunderstorm with light drizzle",icon:"storm-showers"},231:{label:"thunderstorm with drizzle",icon:"storm-showers"},232:{label:"thunderstorm with heavy drizzle",icon:"storm-showers"},300:{label:"light intensity drizzle",icon:"sprinkle"},301:{label:"drizzle",icon:"sprinkle"},302:{label:"heavy intensity drizzle",icon:"sprinkle"},310:{label:"light intensity drizzle rain",icon:"sprinkle"},311:{label:"drizzle rain",icon:"sprinkle"},312:{label:"heavy intensity drizzle rain",icon:"sprinkle"},313:{label:"shower rain and drizzle",icon:"sprinkle"},314:{label:"heavy shower rain and drizzle",icon:"sprinkle"},321:{label:"shower drizzle",icon:"sprinkle"},500:{label:"light rain",icon:"rain"},501:{label:"moderate rain",icon:"rain"},502:{label:"heavy intensity rain",icon:"rain"},503:{label:"very heavy rain",icon:"rain"},504:{label:"extreme rain",icon:"rain"},511:{label:"freezing rain",icon:"rain-mix"},520:{label:"light intensity shower rain",icon:"showers"},521:{label:"shower rain",icon:"showers"},522:{label:"heavy intensity shower rain",icon:"showers"},531:{label:"ragged shower rain",icon:"showers"},600:{label:"light snow",icon:"snow"},601:{label:"snow",icon:"snow"},602:{label:"heavy snow",icon:"snow"},611:{label:"sleet",icon:"sleet"},612:{label:"shower sleet",icon:"sleet"},615:{label:"light rain and snow",icon:"rain-mix"},616:{label:"rain and snow",icon:"rain-mix"},620:{label:"light shower snow",icon:"rain-mix"},621:{label:"shower snow",icon:"rain-mix"},622:{label:"heavy shower snow",icon:"rain-mix"},701:{label:"mist",icon:"sprinkle"},711:{label:"smoke",icon:"smoke"},721:{label:"haze",icon:"day-haze"},731:{label:"sand, dust whirls",icon:"cloudy-gusts"},741:{label:"fog",icon:"fog"},751:{label:"sand",icon:"cloudy-gusts"},761:{label:"dust",icon:"dust"},762:{label:"volcanic ash",icon:"smog"},771:{label:"squalls",icon:"day-windy"},781:{label:"tornado",icon:"tornado"},800:{label:"clear sky",icon:"sunny"},801:{label:"few clouds",icon:"cloudy"},802:{label:"scattered clouds",icon:"cloudy"},803:{label:"broken clouds",icon:"cloudy"},804:{label:"overcast clouds",icon:"cloudy"},900:{label:"tornado",icon:"tornado"},901:{label:"tropical storm",icon:"hurricane"},902:{label:"hurricane",icon:"hurricane"},903:{label:"cold",icon:"snowflake-cold"},904:{label:"hot",icon:"hot"},905:{label:"windy",icon:"windy"},906:{label:"hail",icon:"hail"},951:{label:"calm",icon:"sunny"},952:{label:"light breeze",icon:"cloudy-gusts"},953:{label:"gentle breeze",icon:"cloudy-gusts"},954:{label:"moderate breeze",icon:"cloudy-gusts"},955:{label:"fresh breeze",icon:"cloudy-gusts"},956:{label:"strong breeze",icon:"cloudy-gusts"},957:{label:"high wind, near gale",icon:"cloudy-gusts"},958:{label:"gale",icon:"cloudy-gusts"},959:{label:"severe gale",icon:"cloudy-gusts"},960:{label:"storm",icon:"thunderstorm"},961:{label:"violent storm",icon:"thunderstorm"},962:{label:"hurricane",icon:"cloudy-gusts"}};var Qh=(()=>{let e=class e{getIconClassNameByCode(r,i=0){let o="wi wi-",a=yS[r]?.icon||"sunny",u="";if(!(r>699&&r<800)&&!(r>899&&r<1e3)){let l=Math.round(Date.now()/1e3);u=i&&l>i?"night-":"day-",i&&l>i&&a==="sunny"&&(u="night-clear",a="")}return`${o}${u}${a}`}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Es=(()=>{let e=class e{constructor(){this.http=R(as),this.appService=R(si),this.loaderService=R(Gh),this.helperService=R(Kh),this.weatherIconsService=R(Qh),this.weather=new Ae,this.currentWeatherTimestamp=0,this.weatherUpdateInterval=In.updateInterval.weather,this.unitSystem=this.appService.getUnitSystem()}getWeather(){return this.weather}getCurrentWeatherTimestamp(){return this.currentWeatherTimestamp}getWeatherByCurrentLocation(){return this.showLoader(),new G(r=>{if(!navigator.geolocation){r.error(new Error("Geolocation is not supported"));return}navigator.geolocation.getCurrentPosition(i=>{let{latitude:o,longitude:s}=i.coords;this.getWeatherByLocation(o,s).subscribe({next:a=>r.next(a.city),error:a=>r.error(a)})},i=>{i.code===1?this.getWeatherByLocation(_s.defaultCity.coord.latitude,_s.defaultCity.coord.longitude).subscribe({next:o=>r.next(o.city),error:o=>r.error(o)}):r.error(i)})}).pipe(An(()=>this.hideLoader()))}createResponseWeatherByCity(r){return this.showLoader(),this.getWeatherByCity(r).pipe(Ve(()=>this.hideLoader()),Ot(i=>(this.hideLoader(),kr(()=>i))))}getWeatherByLocation(r,i){return Sn(this.weatherUpdateInterval).pipe(Ht(0),Xe(()=>this.http.get(`${In.host}/weather?appid=${In.appId}&lat=${r}&lon=${i}&units=${this.unitSystem}`)),H(o=>{let s=this.handleResponseWeatherData(o);return this.weather.next(s),s}),Ot(this.handleError.bind(this)))}getWeatherByCity(r){return Sn(this.weatherUpdateInterval).pipe(Ht(0),Xe(()=>this.http.get(`${In.host}/weather?appid=${In.appId}&q=${r}&units=${this.unitSystem}`)),H(i=>{let o=this.handleResponseWeatherData(i);return this.weather.next(o),o}),Ot(this.handleError.bind(this)))}handleResponseWeatherData(r){let{name:i,main:o,weather:s,wind:a,sys:u,dt:l}=r,h=-15,p=!0;this.currentWeatherTimestamp=l;let m=new Date().getTime(),y=this.weatherIconsService.getIconClassNameByCode(s[0].id,u.sunset),b=Math.round(o.temp),N=Math.round(o.pressure),M=this.unitSystem===_s.defaultUnit?this.helperService.getPressureInMmHg(N):N,x=Math.round(a.deg),z=this.helperService.getWindDirection(x),B=this.helperService.getWindBeaufortScaleByMeterInSecond(a.speed),fe=u.sunrise*1e3,Ye=u.sunset*1e3;return new Wh(m,i,y,b,o.humidity,M,s[0].description,fe,Ye,z,a.speed,B)}handleError(r){throw console.error("Weather service error:",r),r}showLoader(){this.loaderService.show()}hideLoader(){this.loaderService.hide()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vS=(()=>{let e=class e{constructor(r){this.weatherService=r,this.weatherBackgroundClass="default",this.weatherSubscription=this.weatherService.getWeather().subscribe(i=>{this.updateBackground(i.iconClassname)})}updateBackground(r){let i={"wi-day-sunny":"sunny","wi-day-cloudy":"cloudy","wi-cloudy":"cloudy","wi-rain":"rainy","wi-snow":"snowy","wi-thunderstorm":"thunderstorm","wi-night-clear":"clear","wi-night-cloudy":"cloudy"};this.weatherBackgroundClass=i[r]||"default"}ngOnDestroy(){this.weatherSubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(le(Es))},e.\u0275cmp=xe({type:e,selectors:[["app-root"]],decls:4,vars:2,consts:[[1,"weather-background"],[1,"app-container"]],template:function(i,o){i&1&&(yt(0,"div",0)(1,"app-loader"),Z(2,"div",1),yt(3,"router-outlet"),ne()),i&2&&by(o.weatherBackgroundClass)},dependencies:[$c,gS],styles:[".app-container[_ngcontent-%COMP%]{position:relative;z-index:1;min-height:100vh;padding:20px}"]});let t=e;return t})();var CS=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(le(nc),le(Xo))};static \u0275dir=tn({type:t})}return t})(),E2=(()=>{class t extends CS{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Zo(t)))(i||t)}})();static \u0275dir=tn({type:t,features:[qi]})}return t})(),SS=new U("");var I2={provide:SS,useExisting:Ni(()=>ef),multi:!0};function w2(){let t=rn()?rn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var T2=new U(""),ef=(()=>{class t extends CS{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!w2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(le(nc),le(Xo),le(T2,8))};static \u0275dir=tn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&jn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Jd([I2]),qi]})}return t})();var D2=new U(""),b2=new U("");function AS(t){return t!=null}function RS(t){return ur(t)?Re(t):t}function NS(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function MS(t,e){return e.map(n=>n(t))}function C2(t){return!t.validate}function PS(t){return t.map(e=>C2(e)?e:n=>e.validate(n))}function S2(t){if(!t)return null;let e=t.filter(AS);return e.length==0?null:function(n){return NS(MS(n,e))}}function xS(t){return t!=null?S2(PS(t)):null}function A2(t){if(!t)return null;let e=t.filter(AS);return e.length==0?null:function(n){let r=MS(n,e).map(RS);return lg(r).pipe(H(NS))}}function OS(t){return t!=null?A2(PS(t)):null}function _S(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function R2(t){return t._rawValidators}function N2(t){return t._rawAsyncValidators}function Cv(t){return t?Array.isArray(t)?t:[t]:[]}function Jh(t,e){return Array.isArray(t)?t.includes(e):t===e}function ES(t,e){let n=Cv(e);return Cv(t).forEach(i=>{Jh(n,i)||n.push(i)}),n}function IS(t,e){return Cv(e).filter(n=>!Jh(t,n))}var Zh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=OS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Sv=class extends Zh{name;get formDirective(){return null}get path(){return null}},Yc=class extends Zh{_parent=null;name=null;valueAccessor=null},Av=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},M2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ene=re(O({},M2),{"[class.ng-submitted]":"isSubmitted"}),kS=(()=>{class t extends Av{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(le(Yc,2))};static \u0275dir=tn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&yn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[qi]})}return t})();var Gc="VALID",Yh="INVALID",Is="PENDING",Wc="DISABLED",Ts=class{},Xh=class extends Ts{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Kc=class extends Ts{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Qc=class extends Ts{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ws=class extends Ts{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function P2(t){return(tf(t)?t.validators:t)||null}function x2(t){return Array.isArray(t)?xS(t):t||null}function O2(t,e){return(tf(e)?e.asyncValidators:t)||null}function k2(t){return Array.isArray(t)?OS(t):t||null}function tf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Rv=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return nn(this.statusReactive)}set status(e){nn(()=>this.statusReactive.set(e))}_status=cc(()=>this.statusReactive());statusReactive=Qr(void 0);get valid(){return this.status===Gc}get invalid(){return this.status===Yh}get pending(){return this.status==Is}get disabled(){return this.status===Wc}get enabled(){return this.status!==Wc}errors;get pristine(){return nn(this.pristineReactive)}set pristine(e){nn(()=>this.pristineReactive.set(e))}_pristine=cc(()=>this.pristineReactive());pristineReactive=Qr(!0);get dirty(){return!this.pristine}get touched(){return nn(this.touchedReactive)}set touched(e){nn(()=>this.touchedReactive.set(e))}_touched=cc(()=>this.touchedReactive());touchedReactive=Qr(!1);get untouched(){return!this.touched}_events=new Ae;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ES(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ES(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(IS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(IS(e,this._rawAsyncValidators))}hasValidator(e){return Jh(this._rawValidators,e)}hasAsyncValidator(e){return Jh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Qc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Qc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Kc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Kc(!0,r))}markAsPending(e={}){this.status=Is;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ws(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wc,this.errors=null,this._forEachChild(i=>{i.disable(re(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xh(this.value,r)),this._events.next(new ws(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Gc,this._forEachChild(r=>{r.enable(re(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gc||this.status===Is)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xh(this.value,n)),this._events.next(new ws(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wc:Gc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Is,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=RS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ws(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?Wc:this.errors?Yh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Is)?Is:this._anyControlsHaveStatus(Yh)?Yh:Gc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Kc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Qc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=x2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=k2(this._rawAsyncValidators)}};var FS=new U("",{providedIn:"root",factory:()=>Nv}),Nv="always";function F2(t,e){return[...e.path,t]}function L2(t,e,n=Nv){j2(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),U2(t,e),$2(t,e),B2(t,e),V2(t,e)}function wS(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function V2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function j2(t,e){let n=R2(t);e.validator!==null?t.setValidators(_S(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=N2(t);e.asyncValidator!==null?t.setAsyncValidators(_S(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();wS(e._rawValidators,i),wS(e._rawAsyncValidators,i)}function U2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&LS(t,e)})}function B2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&LS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function LS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function H2(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function z2(t){return Object.getPrototypeOf(t.constructor)===E2}function q2(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ef?n=o:z2(o)?r=o:i=o}),i||r||n||null}function TS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function DS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var G2=class extends Rv{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(P2(n),O2(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(DS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){TS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){TS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){DS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var W2={provide:Yc,useExisting:Ni(()=>Mv)},bS=Promise.resolve(),Mv=(()=>{class t extends Yc{_changeDetectorRef;callSetDisabledState;control=new G2;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new nt;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=q2(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),H2(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){L2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){bS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Fy(r);bS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?F2(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(le(Sv,9),le(D2,10),le(b2,10),le(SS,10),le(ts,8),le(FS,8))};static \u0275dir=tn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Jd([W2]),qi,Xr]})}return t})();var K2=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=cr({type:t});static \u0275inj=Nn({})}return t})();var VS=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:FS,useValue:n.callSetDisabledState??Nv}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=cr({type:t});static \u0275inj=Nn({imports:[K2]})}return t})();var jS=(()=>{let e=class e{constructor(){this.router=R(oi),this.searchText=""}onKeyPress(r){r.key==="Enter"&&this.searchText.trim()&&this.performSearch()}onSearch(){this.searchText.trim()&&this.performSearch()}performSearch(){let r=this.searchText.trim();this.router.navigate(["/city",r]),this.searchText=""}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-search-bar"]],decls:4,vars:1,consts:[[1,"search-container","glass-effect"],["type","text","placeholder","Enter city name","autocomplete","off",1,"search-input",3,"ngModelChange","keypress","ngModel"],[1,"search-btn","btn","btn-secondary",3,"click"]],template:function(i,o){i&1&&(Z(0,"div",0)(1,"input",1),Yd("ngModelChange",function(a){return Cy(o.searchText,a)||(o.searchText=a),a}),jn("keypress",function(a){return o.onKeyPress(a)}),ne(),Z(2,"button",2),jn("click",function(){return o.onSearch()}),_e(3," Search "),ne()()),i&2&&(Le(),Qd("ngModel",o.searchText))},dependencies:[Ge,VS,ef,kS,Mv],styles:[".search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:8px;gap:10px;max-width:400px;margin:0 auto}.search-input[_ngcontent-%COMP%]{flex:1;padding:12px 16px;border:none;border-radius:8px;background:#ffffffe6;font-size:1rem;outline:none}.search-input[_ngcontent-%COMP%]::placeholder{color:#00000080}.search-btn[_ngcontent-%COMP%]{padding:12px 20px;white-space:nowrap}"]});let t=e;return t})();var US=(()=>{let e=class e{constructor(){this.clock=Sn(1e3).pipe(Ht(0),H(()=>new Date),Aa())}getClock(){return this.clock}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var BS=(()=>{let e=class e{constructor(){this.clockService=R(US),this.time=new Date}ngOnInit(){this.subscription=this.clockService.getClock().subscribe(r=>{this.time=r})}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-clock"]],decls:2,vars:4,template:function(i,o){i&1&&(_e(0),ti(1,"date")),i&2&&dr(sc(1,1,o.time,"HH:mm"))},dependencies:[Ge,gc],encapsulation:2});let t=e;return t})();var $S=(()=>{let e=class e{constructor(){this.locale="en-us",this.date=Sn(1e4).pipe(Ht(0),H(()=>new Date),Aa())}getDate(){return this.date}formatDate(r){let i={weekday:"long",year:"numeric",month:"long",day:"numeric"};return r.toLocaleDateString(this.locale,i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var HS=(()=>{let e=class e{constructor(){this.dateService=R($S),this.date=""}ngOnInit(){this.subscription=this.dateService.getDate().subscribe(r=>{this.date=this.dateService.formatDate(r)})}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-date"]],decls:1,vars:1,template:function(i,o){i&1&&_e(0),i&2&&dr(o.date)},dependencies:[Ge],encapsulation:2});let t=e;return t})();var nf=class{constructor(e,n,r,i,o,s){this.currentDay=e,this.date=n,this.iconClassname=r,this.temperatureDay=i,this.temperatureNight=o,this.description=s}};var zS=(()=>{let e=class e{constructor(){this.http=R(as),this.appService=R(si),this.weatherService=R(Es),this.weatherIconsService=R(Qh),this.helperService=R(Kh),this.forecastUpdateInterval=In.updateInterval.forecast,this.unitSystem=this.appService.getUnitSystem()}getForecastByCity(r){return Sn(this.forecastUpdateInterval).pipe(Ht(0),Xe(()=>this.http.get(`${In.host}/forecast/daily?q=${r}&appid=${In.appId}&units=${this.unitSystem}&cnt=${In.amountForecastDays}`)),H(i=>i.list),Ot(this.handleError.bind(this)))}handleResponseForecastData(r){let{dt:i,temp:o,weather:s}=r,a=this.weatherService.getCurrentWeatherTimestamp(),u=this.helperService.isItCurrentDayByTimestamps(i,a),l=i*1e3,h=this.weatherIconsService.getIconClassNameByCode(s[0].id),p=Math.round(o.day),m=Math.round(o.night);return new nf(u,l,h,p,m,s[0].description)}handleError(r){throw console.error("Forecast service error:",r),r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Y2(t,e){if(t&1&&(Z(0,"div",4)(1,"div",5),_e(2),ti(3,"date"),ne(),Z(4,"div",6),_e(5),ne(),Z(6,"div",7)(7,"span",8),_e(8),ne()()()),t&2){let n=e.$implicit,r=lr(2);yn("today",n.currentDay),Le(2),vn(" ",n.currentDay?"Today":sc(3,5,n.date,"EEE")," "),Le(3),vn(" ",r.getWeatherIcon(n.iconClassname)," "),Le(3),vn("",n.temperatureDay,"\xB0")}}function J2(t,e){if(t&1&&(Z(0,"div",1)(1,"div",2),mn(2,Y2,9,8,"div",3),ne()()),t&2){let n=lr();Le(2),qt("ngForOf",n.getDisplayedForecast())}}var qS=(()=>{let e=class e{constructor(){this.viewMode="daily",this.forecastService=R(zS),this.forecastData=[]}ngOnChanges(){this.cityName&&this.loadForecast()}ngOnDestroy(){this.subscription?.unsubscribe()}getDisplayedForecast(){return this.forecastData.slice(0,6)}getWeatherIcon(r){return{"wi-day-sunny":"\u2600\uFE0F","wi-day-cloudy":"\u26C5","wi-cloudy":"\u2601\uFE0F","wi-rain":"\u{1F327}\uFE0F","wi-snow":"\u2744\uFE0F","wi-thunderstorm":"\u26C8\uFE0F","wi-night-clear":"\u{1F319}","wi-night-cloudy":"\u2601\uFE0F"}[r]||"\u2600\uFE0F"}loadForecast(){this.subscription?.unsubscribe(),this.subscription=this.forecastService.getForecastByCity(this.cityName).subscribe(r=>{this.forecastData=r.map(i=>this.forecastService.handleResponseForecastData(i))})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-forecast"]],inputs:{cityName:"cityName",measureOfTemp:"measureOfTemp",viewMode:"viewMode"},features:[Xr],decls:1,vars:1,consts:[["class","forecast-container glass-effect",4,"ngIf"],[1,"forecast-container","glass-effect"],[1,"forecast-grid"],["class","forecast-item",3,"today",4,"ngFor","ngForOf"],[1,"forecast-item"],[1,"day-name"],[1,"weather-icon"],[1,"temperature"],[1,"temp-high"]],template:function(i,o){i&1&&mn(0,J2,3,1,"div",0),i&2&&qt("ngIf",o.forecastData&&o.forecastData.length>0)},dependencies:[Ge,rs,Wi,gc],styles:[".forecast-container[_ngcontent-%COMP%]{border-radius:16px}.forecast-grid[_ngcontent-%COMP%]{display:flex;gap:74px;flex-direction:row;justify-content:space-evenly}.forecast-item[_ngcontent-%COMP%]{text-align:center;padding:15px 10px;border-radius:12px;color:#000;transition:all .3s ease}.forecast-item[_ngcontent-%COMP%]:hover{background:#ffffff1a}.forecast-item.today[_ngcontent-%COMP%]{background:#fff3}.day-name[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px;opacity:.9}.weather-icon[_ngcontent-%COMP%]{font-size:2.5rem;margin:10px 0}.temperature[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;font-size:18px}.temp-high[_ngcontent-%COMP%]{font-weight:600}.temp-low[_ngcontent-%COMP%]{opacity:.7}@media (max-width: 768px){.forecast-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:10px}.forecast-item[_ngcontent-%COMP%]{padding:10px 5px}.weather-icon[_ngcontent-%COMP%]{font-size:2rem}}"]});let t=e;return t})();var GS=()=>{};var QS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Z2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},rf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Z2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new xv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},xv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},X2=function(t){let e=QS(t);return rf.encodeByteArray(e,!0)},Zc=function(t){return X2(t).replace(/\./g,"")},of=function(t){try{return rf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ej=()=>kv().__FIREBASE_DEFAULTS__,tj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&of(t[1]);return e&&JSON.parse(e)},sf=()=>{try{return GS()||ej()||tj()||nj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YS=t=>{var e,n;return(n=(e=sf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JS=t=>{let e=YS(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Fv=()=>{var t;return(t=sf())===null||t===void 0?void 0:t.config},ZS=t=>{var e;return(e=sf())===null||e===void 0?void 0:e[`_${t}`]};var to=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function no(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Lv(t){return S(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function XS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zc(JSON.stringify(n)),Zc(JSON.stringify(s)),""].join(".")}var Jc={};function rj(){let t={prod:[],emulator:[]};for(let e of Object.keys(Jc))Jc[e]?t.emulator.push(e):t.prod.push(e);return t}function ij(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var WS=!1;function Vv(t,e){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Jc[t]===e||Jc[t]||WS)return;Jc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=rj().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{WS=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=ij(r),y=n("text"),b=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),M=document.getElementById(N)||document.createElement("a"),x=n("preprendIcon"),z=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let B=m.element;a(B),h(M,N);let fe=l();u(z,x),B.append(z,b,M,fe),document.body.appendChild(B)}o?(b.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function oj(){var t;let e=(t=sf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iA(){return!oj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xc(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var sj="FirebaseError",sn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sj,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}},wn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?aj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new sn(i,a,r)}};function aj(t,e){return t.replace(cj,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var cj=/\{\$([^}]+)}/g;function ro(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(KS(o)&&KS(s)){if(!ro(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function KS(t){return t!==null&&typeof t=="object"}function jv(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sA(t,e){let n=new Ov(t,e);return n.subscribe.bind(n)}var Ov=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pv),i.error===void 0&&(i.error=Pv),i.complete===void 0&&(i.complete=Pv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function uj(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pv(){}var hre=4*60*60*1e3;function vr(t){return t&&t._delegate?t._delegate:t}var Nt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var io="[DEFAULT]";var Uv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new to;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dj(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function lj(t){return t===io?void 0:t}function dj(t){return t.instantiationMode==="EAGER"}var af=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Uv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var hj=[],se=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(se||{}),fj={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},pj=se.INFO,gj={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},mj=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=gj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Hn=class{constructor(e){this.name=e,this._logLevel=pj,this._logHandler=mj,this._userLogHandler=null,hj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var yj=(t,e)=>e.some(n=>t instanceof n),aA,cA;function vj(){return aA||(aA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _j(){return cA||(cA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uA=new WeakMap,$v=new WeakMap,lA=new WeakMap,Bv=new WeakMap,zv=new WeakMap;function Ej(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(zn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&uA.set(n,t)}).catch(()=>{}),zv.set(e,t),e}function Ij(t){if($v.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});$v.set(t,e)}var Hv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $v.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dA(t){Hv=t(Hv)}function wj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(cf(this),e,...n);return lA.set(r,e.sort?e.sort():[e]),zn(r)}:_j().includes(t)?function(...e){return t.apply(cf(this),e),zn(uA.get(this))}:function(...e){return zn(t.apply(cf(this),e))}}function Tj(t){return typeof t=="function"?wj(t):(t instanceof IDBTransaction&&Ij(t),yj(t,vj())?new Proxy(t,Hv):t)}function zn(t){if(t instanceof IDBRequest)return Ej(t);if(Bv.has(t))return Bv.get(t);let e=Tj(t);return e!==t&&(Bv.set(t,e),zv.set(e,t)),e}var cf=t=>zv.get(t);function fA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=zn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(zn(s.result),u.oldVersion,u.newVersion,zn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Dj=["get","getKey","getAll","getAllKeys","count"],bj=["put","add","delete","clear"],qv=new Map;function hA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qv.get(e))return qv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=bj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Dj.includes(n)))return;let o=function(s,...a){return S(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return qv.set(e,o),o}dA(t=>re(O({},t),{get:(e,n,r)=>hA(e,n)||t.get(e,n,r),has:(e,n)=>!!hA(e,n)||t.has(e,n)}));var Wv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Cj(t){let e=t.getComponent();return e?.type==="VERSION"}var Kv="@firebase/app",pA="0.13.2";var _r=new Hn("@firebase/app"),Sj="@firebase/app-compat",Aj="@firebase/analytics-compat",Rj="@firebase/analytics",Nj="@firebase/app-check-compat",Mj="@firebase/app-check",Pj="@firebase/auth",xj="@firebase/auth-compat",Oj="@firebase/database",kj="@firebase/data-connect",Fj="@firebase/database-compat",Lj="@firebase/functions",Vj="@firebase/functions-compat",jj="@firebase/installations",Uj="@firebase/installations-compat",Bj="@firebase/messaging",$j="@firebase/messaging-compat",Hj="@firebase/performance",zj="@firebase/performance-compat",qj="@firebase/remote-config",Gj="@firebase/remote-config-compat",Wj="@firebase/storage",Kj="@firebase/storage-compat",Qj="@firebase/firestore",Yj="@firebase/ai",Jj="@firebase/firestore-compat",Zj="firebase",Xj="11.10.0";var Qv="[DEFAULT]",eU={[Kv]:"fire-core",[Sj]:"fire-core-compat",[Rj]:"fire-analytics",[Aj]:"fire-analytics-compat",[Mj]:"fire-app-check",[Nj]:"fire-app-check-compat",[Pj]:"fire-auth",[xj]:"fire-auth-compat",[Oj]:"fire-rtdb",[kj]:"fire-data-connect",[Fj]:"fire-rtdb-compat",[Lj]:"fire-fn",[Vj]:"fire-fn-compat",[jj]:"fire-iid",[Uj]:"fire-iid-compat",[Bj]:"fire-fcm",[$j]:"fire-fcm-compat",[Hj]:"fire-perf",[zj]:"fire-perf-compat",[qj]:"fire-rc",[Gj]:"fire-rc-compat",[Wj]:"fire-gcs",[Kj]:"fire-gcs-compat",[Qj]:"fire-fst",[Jj]:"fire-fst-compat",[Yj]:"fire-vertex","fire-js":"fire-js",[Zj]:"fire-js-all"};var eu=new Map,tU=new Map,Yv=new Map;function gA(t,e){try{t.container.addComponent(e)}catch(n){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tn(t){let e=t.name;if(Yv.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;Yv.set(e,t);for(let n of eu.values())gA(n,t);for(let n of tU.values())gA(n,t);return!0}function uf(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Er(t){return t==null?!1:t.settings!==void 0}var nU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new wn("app","Firebase",nU);var Jv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}};var Ds=Xj;function e_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Qv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});if(n||(n=Fv()),!n)throw ai.create("no-options");let o=eu.get(i);if(o){if(ro(n,o.options)&&ro(r,o.config))return o;throw ai.create("duplicate-app",{appName:i})}let s=new af(i);for(let u of Yv.values())s.addComponent(u);let a=new Jv(n,r,s);return eu.set(i,a),a}function bs(t=Qv){let e=eu.get(t);if(!e&&t===Qv&&Fv())return e_();if(!e)throw ai.create("no-app",{appName:t});return e}function lf(){return Array.from(eu.values())}function $e(t,e,n){var r;let i=(r=eU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(a.join(" "));return}Tn(new Nt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var rU="firebase-heartbeat-database",iU=1,tu="firebase-heartbeat-store",Gv=null;function _A(){return Gv||(Gv=fA(rU,iU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ai.create("idb-open",{originalErrorMessage:t.message})})),Gv}function oU(t){return S(this,null,function*(){try{let n=(yield _A()).transaction(tu),r=yield n.objectStore(tu).get(EA(t));return yield n.done,r}catch(e){if(e instanceof sn)_r.warn(e.message);else{let n=ai.create("idb-get",{originalErrorMessage:e?.message});_r.warn(n.message)}}})}function mA(t,e){return S(this,null,function*(){try{let r=(yield _A()).transaction(tu,"readwrite");yield r.objectStore(tu).put(e,EA(t)),yield r.done}catch(n){if(n instanceof sn)_r.warn(n.message);else{let r=ai.create("idb-set",{originalErrorMessage:n?.message});_r.warn(r.message)}}})}function EA(t){return`${t.name}!${t.options.appId}`}var sU=1024,aU=30,Zv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Xv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>aU){let s=uU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_r.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=yA(),{heartbeatsToSend:r,unsentEntries:i}=cU(this._heartbeatsCache.heartbeats),o=Zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return _r.warn(n),""}})}};function yA(){return new Date().toISOString().substring(0,10)}function cU(t,e=sU){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),vA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Xv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Xc()?oA().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield oU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function vA(t){return Zc(JSON.stringify({version:2,heartbeats:t})).length}function uU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function lU(t){Tn(new Nt("platform-logger",e=>new Wv(e),"PRIVATE")),Tn(new Nt("heartbeat",e=>new Zv(e),"PRIVATE")),$e(Kv,pA,t),$e(Kv,pA,"esm2017"),$e("fire-js","")}lU("");var dU="firebase",hU="11.10.0";$e(dU,hU,"app");function IA(t){t===void 0&&(t=R(dt));let e=t.get(Yr);return n=>new G(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var so=new es("ANGULARFIRE2_VERSION");function hf(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ss=(t,e)=>{let n=e?[e]:lf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Cs=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Cs||{}),wA=Oy()&&typeof Zone<"u"?Cs.WARN:Cs.SILENT;var df=class{zone;delegate;constructor(e,n=ag){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},ao=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=R(be);this.outsideAngular=n.runOutsideAngular(()=>new df(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new df(typeof Zone>"u"?void 0:Zone.current,Vo))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),TA=!1;function fU(t,e){!TA&&(wA>Cs.SILENT||Oy())&&(TA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),wA>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function pU(t){let e=R(be,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function oo(t){let e=R(be,{optional:!0});return e?e.run(()=>t()):t()}var gU=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),et(n,()=>oo(()=>t.apply(void 0,r)))),ci=(t,e,n)=>(n||=e?Cs.WARN:Cs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=R(ao),s=R(Yr),a=R(je)}catch{return fU(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=oo(()=>s.add())),i[l]=gU(i[l],r,a));let u=pU(()=>t.apply(this,i));return e?u instanceof G?u.pipe(Or(o.outsideAngular),xr(o.insideAngular),IA(a)):u instanceof Promise?oo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>et(a,()=>oo(()=>h(m))),m=>et(a,()=>oo(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:oo(()=>u):u instanceof G?u.pipe(Or(o.outsideAngular),xr(o.insideAngular)):oo(()=>u)});var co=class{constructor(e){return e}},nu=class{constructor(){return lf()}};function mU(t){return t&&t.length===1?t[0]:new co(bs())}var t_=new U("angularfire2._apps"),yU={provide:co,useFactory:mU,deps:[[new Vn,t_]]},vU={provide:nu,deps:[[new Vn,t_]]};function _U(t){return(e,n)=>{let r=n.get(ei);$e("angularfire",so.full,"core"),$e("angularfire",so.full,"app"),$e("angular",RC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new co(i)}}function DA(t,...e){return Mn([yU,vU,{provide:t_,useFactory:_U(t),multi:!0,deps:[be,dt,ao,...e]}])}var bA=ci(e_,!0);var EU=new Map,IU={activated:!1,tokenObservers:[]},wU={initialized:!1,enabled:!1};function Dn(t){return EU.get(t)||Object.assign({},IU)}function RA(){return wU}var TU="https://content-firebaseappcheck.googleapis.com/v1";var DU="exchangeDebugToken",CA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},gie=24*60*60*1e3;var i_=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return S(this,null,function*(){this.stop();try{this.pending=new to,this.pending.promise.catch(n=>{}),yield bU(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new to,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function bU(t){return new Promise(e=>{setTimeout(e,t)})}var CU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ui=new wn("appCheck","AppCheck",CU);function NA(t){if(!Dn(t).activated)throw ui.create("use-before-activation",{appName:t.name})}function MA(r,i){return S(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw ui.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw ui.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw ui.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function PA(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${TU}/projects/${n}/apps/${r}:${DU}?key=${i}`,body:{debug_token:e}}}var SU="firebase-app-check-database",AU=1,o_="firebase-app-check-store";var ff=null;function RU(){return ff||(ff=new Promise((t,e)=>{try{let n=indexedDB.open(SU,AU);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ui.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(o_,{keyPath:"compositeKey"})}}}catch(n){e(ui.create("storage-open",{originalErrorMessage:n?.message}))}}),ff)}function NU(t,e){return MU(PU(t),e)}function MU(t,e){return S(this,null,function*(){let r=(yield RU()).transaction(o_,"readwrite"),o=r.objectStore(o_).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ui.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function PU(t){return`${t.options.appId}-${t.name}`}var ru=new Hn("@firebase/app-check");function n_(t,e){return Xc()?NU(t,e).catch(n=>{ru.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function xA(){return RA().enabled}function OA(){return S(this,null,function*(){let t=RA();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var xU={error:"UNKNOWN_ERROR"};function OU(t){return rf.encodeString(JSON.stringify(t),!1)}function s_(t,e=!1,n=!1){return S(this,null,function*(){let r=t.app;NA(r);let i=Dn(r),o=i.token,s;if(o&&!iu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(iu(l)?o=l:yield n_(r,void 0))}if(!e&&o&&iu(o))return{token:o.token};let a=!1;if(xA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=MA(PA(r,yield OA()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield n_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ru.warn(l.message):n&&ru.error(l),r_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Dn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ru.warn(l.message):n&&ru.error(l),s=l}let u;return o?s?iu(o)?u={token:o.token,internalError:s}:u=r_(s):(u={token:o.token},i.token=o,yield n_(r,o)):u=r_(s),a&&VU(r,u),u})}function kU(t){return S(this,null,function*(){let e=t.app;NA(e);let{provider:n}=Dn(e);if(xA()){let r=yield OA(),{token:i}=yield MA(PA(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function FU(t,e,n,r){let{app:i}=t,o=Dn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&iu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),SA(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>SA(t))}function kA(t,e){let n=Dn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function SA(t){let{app:e}=t,n=Dn(e),r=n.tokenRefresher;r||(r=LU(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function LU(t){let{app:e}=t;return new i_(()=>S(null,null,function*(){let n=Dn(e),r;if(n.token?r=yield s_(t,!0):r=yield s_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Dn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},CA.RETRIAL_MIN_WAIT,CA.RETRIAL_MAX_WAIT)}function VU(t,e){let n=Dn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function iu(t){return t.expireTimeMillis-Date.now()>0}function r_(t){return{token:OU(xU),error:t}}var a_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Dn(this.app);for(let n of e)kA(this.app,n.next);return Promise.resolve()}};function jU(t,e){return new a_(t,e)}function UU(t){return{getToken:e=>s_(t,e),getLimitedUseToken:()=>kU(t),addTokenListener:e=>FU(t,"INTERNAL",e),removeTokenListener:e=>kA(t.app,e)}}var BU="@firebase/app-check",$U="0.10.1";var HU="app-check",AA="app-check-internal";function zU(){Tn(new Nt(HU,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return jU(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(AA).initialize()})),Tn(new Nt(AA,t=>{let e=t.getProvider("app-check").getImmediate();return UU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),$e(BU,$U)}zU();var qU="app-check";var pf=class{constructor(){return Ss(qU)}};var GU=["localhost","0.0.0.0","127.0.0.1"],Aie=typeof window<"u"&&GU.includes(window.location.hostname);function HA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zA=HA,qA=new wn("auth","Firebase",HA());var vf=new Hn("@firebase/auth");function KU(t,...e){vf.logLevel<=se.WARN&&vf.warn(`Auth (${Ds}): ${t}`,...e)}function mf(t,...e){vf.logLevel<=se.ERROR&&vf.error(`Auth (${Ds}): ${t}`,...e)}function FA(t,...e){throw __(t,...e)}function v_(t,...e){return __(t,...e)}function GA(t,e,n){let r=Object.assign(Object.assign({},zA()),{[e]:n});return new wn("auth","Firebase",r).create(e,{appName:t.name})}function yf(t){return GA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function __(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qA.create(t,...e)}function ve(t,e,...n){if(!t)throw __(e,...n)}function ou(t){let e="INTERNAL ASSERTION FAILED: "+t;throw mf(e),new Error(e)}function _f(t,e){t||ou(e)}function QU(){return LA()==="http:"||LA()==="https:"}function LA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function YU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QU()||nA()||"connection"in navigator)?navigator.onLine:!0}function JU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ho=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,_f(n>e,"Short delay should be less than long delay!"),this.isMobile=eA()||rA()}get(){return YU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ZU(t,e){_f(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ef=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ou("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ou("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ou("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var XU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var eB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tB=new ho(3e4,6e4);function WA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function bf(o,s,a,u){return S(this,arguments,function*(t,e,n,r,i={}){return KA(t,i,()=>S(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=jv(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return tA()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&no(t.emulatorConfig.host)&&(y.credentials="include"),Ef.fetch()(yield QA(t,t.config.apiHost,n,p),y)}))})}function KA(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},XU),e);try{let i=new l_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw gf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw gf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw gf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw gf(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw GA(t,h,l);FA(t,h)}}catch(i){if(i instanceof sn)throw i;FA(t,"network-request-failed",{message:String(i)})}})}function QA(t,e,n,r){return S(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?ZU(t.config,i):`${t.config.apiScheme}://${i}`;return eB.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var l_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(v_(this.auth,"network-request-failed")),tB.get())})}};function gf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=v_(t,e,r);return i.customData._tokenResponse=n,i}function nB(t,e){return S(this,null,function*(){return bf(t,"POST","/v1/accounts:delete",e)})}function If(t,e){return S(this,null,function*(){return bf(t,"POST","/v1/accounts:lookup",e)})}function su(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function E_(t,e=!1){return S(this,null,function*(){let n=vr(t),r=yield n.getIdToken(e),i=YA(r);ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:su(c_(i.auth_time)),issuedAtTime:su(c_(i.iat)),expirationTime:su(c_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function c_(t){return Number(t)*1e3}function YA(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mf("JWT malformed, contained fewer than 3 sections"),null;try{let i=of(n);return i?JSON.parse(i):(mf("Failed to decode base64 JWT payload"),null)}catch(i){return mf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function VA(t){let e=YA(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function d_(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof sn&&rB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function rB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var h_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var cu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wf(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield d_(t,If(n,{idToken:r}));ve(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JA(o.providerUserInfo):[],a=iB(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new cu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function I_(t){return S(this,null,function*(){let e=vr(t);yield wf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function iB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JA(t){return t.map(e=>{var{providerId:n}=e,r=cg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function oB(t,e){return S(this,null,function*(){let n=yield KA(t,{},()=>S(null,null,function*(){let r=jv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield QA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&no(t.emulatorConfig.host)&&(u.credentials="include"),Ef.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function sB(t,e){return S(this,null,function*(){return bf(t,"POST","/v2/accounts:revokeToken",WA(t,e))})}var au=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");let n=VA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield oB(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ou("not implemented")}};function li(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var uo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=cg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield d_(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return E_(this,e)}reload(){return I_(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield wf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(Er(this.auth.app))return Promise.reject(yf(this.auth));let e=yield this.getIdToken();return yield d_(this,nB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,x=(l=n.createdAt)!==null&&l!==void 0?l:void 0,z=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:B,emailVerified:fe,isAnonymous:Ye,providerData:me,stsTokenManager:w}=n;ve(B&&w,e,"internal-error");let v=au.fromJSON(this.name,w);ve(typeof B=="string",e,"internal-error"),li(p,e.name),li(m,e.name),ve(typeof fe=="boolean",e,"internal-error"),ve(typeof Ye=="boolean",e,"internal-error"),li(y,e.name),li(b,e.name),li(N,e.name),li(M,e.name),li(x,e.name),li(z,e.name);let E=new t({uid:B,auth:e,email:m,emailVerified:fe,displayName:p,isAnonymous:Ye,photoURL:b,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:x,lastLoginAt:z});return me&&Array.isArray(me)&&(E.providerData=me.map(I=>Object.assign({},I))),M&&(E._redirectEventId=M),E}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new au;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wf(o),o})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];ve(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?JA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new au;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new cu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var jA=new Map;function lo(t){_f(t instanceof Function,"Expected a class definition");let e=jA.get(t);return e?(_f(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jA.set(t,e),e)}var aB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),f_=aB;function u_(t,e,n){return`firebase:${t}:${e}:${n}`}var Tf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=u_(this.userKey,i.apiKey,o),this.fullPersistenceKey=u_("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield If(this.auth,{idToken:e}).catch(()=>{});return n?uo._fromGetAccountInfoResponse(this.auth,n,e):null}return uo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(lo(f_),e,r);let i=(yield Promise.all(n.map(l=>S(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||lo(f_),s=u_(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield If(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield uo._fromGetAccountInfoResponse(e,m,h)}else p=uo._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>S(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function UA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fB(e))return"Blackberry";if(pB(e))return"Webos";if(uB(e))return"Safari";if((e.includes("chrome/")||lB(e))&&!e.includes("edge/"))return"Chrome";if(hB(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function cB(t=Qt()){return/firefox\//i.test(t)}function uB(t=Qt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lB(t=Qt()){return/crios\//i.test(t)}function dB(t=Qt()){return/iemobile/i.test(t)}function hB(t=Qt()){return/android/i.test(t)}function fB(t=Qt()){return/blackberry/i.test(t)}function pB(t=Qt()){return/webos/i.test(t)}function ZA(t,e=[]){let n;switch(t){case"Browser":n=UA(Qt());break;case"Worker":n=`${UA(Qt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ds}/${r}`}var p_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function gB(n){return S(this,arguments,function*(t,e={}){return bf(t,"GET","/v2/passwordPolicy",WA(t,e))})}var mB=6,g_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:mB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var m_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Df(this),this.idTokenSubscription=new Df(this),this.beforeStateQueue=new p_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lo(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Tf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield If(this,{idToken:e}),r=yield uo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(Er(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield wf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=JU()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(Er(this.app))return Promise.reject(yf(this));let n=e?vr(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return Er(this.app)?Promise.reject(yf(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Er(this.app)?Promise.reject(yf(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(lo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield gB(this),n=new g_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield sB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&lo(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=yield Tf.create(this,[lo(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&KU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function yB(t){return vr(t)}var Df=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=sA(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var vB={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _B(t){vB=t}function EB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function IB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(lo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var Uie=EB("rcb"),Bie=new ho(3e4,6e4);var $ie=new ho(2e3,1e4);var Hie=10*60*1e3;var zie=new ho(3e4,6e4);var qie=new ho(5e3,15e3);var Gie=encodeURIComponent("fac");var BA="@firebase/auth",$A="1.10.8";var y_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function wB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TB(t){Tn(new Nt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZA(t)},l=new m_(r,i,o,u);return IB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tn(new Nt("auth-internal",e=>{let n=yB(e.getProvider("auth").getImmediate());return(r=>new y_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(BA,$A,wB(t)),$e(BA,$A,"esm2017")}var DB=5*60,Wie=ZS("authIdTokenMaxAge")||DB;function bB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_B({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=v_("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",bB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TB("Browser");var T$="auth";var Cf=class{constructor(){return Ss(T$)}};var XA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eR={};var Ir,w_;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,T,C){for(var _=Array(arguments.length-2),Yn=2;Yn<arguments.length;Yn++)_[Yn-2]=arguments[Yn];return v.prototype[T].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)I[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)I[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],T=w.g[2];var C=w.g[3],_=v+(C^E&(T^C))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+I[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+I[2]+606105819&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+I[3]+3250441966&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(C^E&(T^C))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+I[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+I[6]+2821735955&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+I[7]+4249261313&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(C^E&(T^C))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+I[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+I[10]+4294925233&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+I[11]+2304563134&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(C^E&(T^C))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+I[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+I[14]+2792965006&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+I[15]+1236535329&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(T^C&(E^T))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+I[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+I[11]+643717713&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+I[0]+3921069994&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(E^T))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+I[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+I[15]+3634488961&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+I[4]+3889429448&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(E^T))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+I[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+I[3]+4107603335&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+I[8]+1163531501&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(E^T))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+I[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+I[7]+1735328473&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+I[12]+2368359562&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(E^T^C)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+I[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+I[11]+1839030562&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+I[14]+4259657740&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^C)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+I[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+I[7]+4139469664&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+I[10]+3200236656&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^C)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+I[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+I[3]+3572445317&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+I[6]+76029189&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^C)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+I[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+I[15]+530742520&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+I[2]+3299628645&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(T^(E|~C))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+I[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+I[14]+2878612391&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+I[5]+4237533241&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~C))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+I[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+I[10]+4293915773&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+I[1]+2240044497&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~C))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+I[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+I[6]+2734768916&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+I[13]+1309151649&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~C))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+I[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+I[2]+718787259&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,T=this.h,C=0;C<v;){if(T==0)for(;C<=E;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(I[T++]=w.charCodeAt(C++),T==this.blockSize){i(this,I),T=0;break}}else for(;C<v;)if(I[T++]=w[C++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,T=w.length-1;0<=T;T--){var C=w[T]|0;I&&C==v||(E[T]=C,I=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return M(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return M(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,T=0;T<w.length;T+=8){var C=Math.min(8,w.length-T),_=parseInt(w.substring(T,T+C),v);8>C?(C=l(Math.pow(v,C)),I=I.j(C).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-M(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(b(this))return"0";if(N(this))return"-"+M(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var T=fe(E,v).g;E=x(E,T.j(v));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=T,b(E))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function b(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function N(w){return w.h==-1}t.l=function(w){return w=x(this,w),N(w)?-1:b(w)?0:1};function M(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}t.abs=function(){return N(this)?M(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,T=0;T<=v;T++){var C=I+(this.i(T)&65535)+(w.i(T)&65535),_=(C>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);I=_>>>16,C&=65535,_&=65535,E[T]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function x(w,v){return w.add(M(v))}t.j=function(w){if(b(this)||b(w))return p;if(N(this))return N(w)?M(this).j(M(w)):M(M(this).j(w));if(N(w))return M(this.j(M(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<w.g.length;T++){var C=this.i(I)>>>16,_=this.i(I)&65535,Yn=w.i(T)>>>16,ra=w.i(T)&65535;E[2*I+2*T]+=_*ra,z(E,2*I+2*T),E[2*I+2*T+1]+=C*ra,z(E,2*I+2*T+1),E[2*I+2*T+1]+=_*Yn,z(E,2*I+2*T+1),E[2*I+2*T+2]+=C*Yn,z(E,2*I+2*T+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function z(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function B(w,v){this.g=w,this.h=v}function fe(w,v){if(b(v))throw Error("division by zero");if(b(w))return new B(p,p);if(N(w))return v=fe(M(w),v),new B(M(v.g),M(v.h));if(N(v))return v=fe(w,M(v)),new B(M(v.g),v.h);if(30<w.g.length){if(N(w)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=Ye(E),I=Ye(I);var T=me(E,1),C=me(I,1);for(I=me(I,2),E=me(E,2);!b(I);){var _=C.add(I);0>=_.l(w)&&(T=T.add(E),C=_),I=me(I,1),E=me(E,1)}return v=x(w,T.j(v)),new B(T,v)}for(T=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=l(E),_=C.j(v);N(_)||0<_.l(w);)E-=I,C=l(E),_=C.j(v);b(C)&&(C=m),T=T.add(C),w=x(w,_)}return new B(T,w)}t.A=function(w){return fe(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function Ye(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function me(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,T=[],C=0;C<I;C++)T[C]=0<v?w.i(C+E)>>>v|w.i(C+E+1)<<32-v:w.i(C+E);return new s(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,w_=eR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Ir=eR.Integer=s}).apply(typeof XA<"u"?XA:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wr={};var T_,D$,As,D_,uu,Af,b_,C_,S_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function b(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,A){for(var k=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)k[Te-2]=arguments[Te];return d.prototype[D].apply(g,k)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,A=g.length||0;c.length=D+A;for(let k=0;k<A;k++)c[D+k]=g[k]}else c.push(g)}}class x{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function z(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var Ye=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function me(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function _(){var c=vp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Yn{constructor(){this.h=this.g=null}add(d,f){let g=ra.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ra=new x(()=>new _M,c=>c.reset());class _M{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ia,oa=!1,vp=new Yn,CI=()=>{let c=a.Promise.resolve(void 0);ia=()=>{c.then(EM)}};var EM=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){C(f)}var d=ra;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}oa=!1};function Ar(){this.s=this.s,this.C=this.C}Ar.prototype.s=!1,Ar.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ar.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var IM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function sa(c,d){if(ht.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ye){e:{try{fe(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&sa.aa.h.call(this)}}b(sa,ht);var wM={2:"touch",3:"pen",4:"mouse"};sa.prototype.h=function(){sa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var aa="closure_listenable_"+(1e6*Math.random()|0),TM=0;function DM(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++TM,this.da=this.fa=!1}function Ou(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ku(c){this.src=c,this.g={},this.h=0}ku.prototype.add=function(c,d,f,g,D){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var k=Ep(c,d,g,D);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new DM(d,this.src,A,!!g,D),d.fa=f,c.push(d)),d};function _p(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(g,D,1),A&&(Ou(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ep(c,d,f,g){for(var D=0;D<c.length;++D){var A=c[D];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return D}return-1}var Ip="closure_lm_"+(1e6*Math.random()|0),wp={};function SI(c,d,f,g,D){if(g&&g.once)return RI(c,d,f,g,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)SI(c,d[A],f,g,D);return null}return f=Cp(f),c&&c[aa]?c.K(d,f,l(g)?!!g.capture:!!g,D):AI(c,d,f,!1,g,D)}function AI(c,d,f,g,D,A){if(!d)throw Error("Invalid event type");var k=l(D)?!!D.capture:!!D,Te=Dp(c);if(Te||(c[Ip]=Te=new ku(c)),f=Te.add(d,f,g,k,A),f.proxy)return f;if(g=bM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)IM||(D=k),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(MI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function bM(){function c(f){return d.call(c.src,c.listener,f)}let d=CM;return c}function RI(c,d,f,g,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)RI(c,d[A],f,g,D);return null}return f=Cp(f),c&&c[aa]?c.L(d,f,l(g)?!!g.capture:!!g,D):AI(c,d,f,!0,g,D)}function NI(c,d,f,g,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)NI(c,d[A],f,g,D);else g=l(g)?!!g.capture:!!g,f=Cp(f),c&&c[aa]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Ep(A,f,g,D),-1<f&&(Ou(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Dp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ep(d,f,g,D)),(f=-1<c?d[c]:null)&&Tp(f))}function Tp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[aa])_p(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(MI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Dp(d))?(_p(f,c),f.h==0&&(f.src=null,d[Ip]=null)):Ou(c)}}}function MI(c){return c in wp?wp[c]:wp[c]="on"+c}function CM(c,d){if(c.da)c=!0;else{d=new sa(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Tp(c),c=f.call(g,d)}return c}function Dp(c){return c=c[Ip],c instanceof ku?c:null}var bp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cp(c){return typeof c=="function"?c:(c[bp]||(c[bp]=function(d){return c.handleEvent(d)}),c[bp])}function ft(){Ar.call(this),this.i=new ku(this),this.M=this,this.F=null}b(ft,Ar),ft.prototype[aa]=!0,ft.prototype.removeEventListener=function(c,d,f,g){NI(this,c,d,f,g)};function It(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ht(d,c);else if(d instanceof ht)d.target=d.target||c;else{var D=d;d=new ht(g,c),I(d,D)}if(D=!0,f)for(var A=f.length-1;0<=A;A--){var k=d.g=f[A];D=Fu(k,g,!0,d)&&D}if(k=d.g=c,D=Fu(k,g,!0,d)&&D,D=Fu(k,g,!1,d)&&D,f)for(A=0;A<f.length;A++)k=d.g=f[A],D=Fu(k,g,!1,d)&&D}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Ou(f[g]);delete c.g[d],c.h--}}this.F=null},ft.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},ft.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Fu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==f){var Te=k.listener,at=k.ha||k.src;k.fa&&_p(c.i,k),D=Te.call(at,g)!==!1&&D}}return D&&!g.defaultPrevented}function PI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function xI(c){c.g=PI(()=>{c.g=null,c.i&&(c.i=!1,xI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class SM extends Ar{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:xI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(c){Ar.call(this),this.h=c,this.g={}}b(ca,Ar);var OI=[];function kI(c){me(c.g,function(d,f){this.g.hasOwnProperty(f)&&Tp(d)},c),c.g={}}ca.prototype.N=function(){ca.aa.N.call(this),kI(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sp=a.JSON.stringify,AM=a.JSON.parse,RM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ap(){}Ap.prototype.h=null;function FI(c){return c.h||(c.h=c.i())}function LI(){}var ua={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rp(){ht.call(this,"d")}b(Rp,ht);function Np(){ht.call(this,"c")}b(Np,ht);var mi={},VI=null;function Lu(){return VI=VI||new ft}mi.La="serverreachability";function jI(c){ht.call(this,mi.La,c)}b(jI,ht);function la(c){let d=Lu();It(d,new jI(d))}mi.STAT_EVENT="statevent";function UI(c,d){ht.call(this,mi.STAT_EVENT,c),this.stat=d}b(UI,ht);function wt(c){let d=Lu();It(d,new UI(d,c))}mi.Ma="timingevent";function BI(c,d){ht.call(this,mi.Ma,c),this.size=d}b(BI,ht);function da(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ha(){this.g=!0}ha.prototype.xa=function(){this.g=!1};function NM(c,d,f,g,D,A){c.info(function(){if(c.g)if(A)for(var k="",Te=A.split("&"),at=0;at<Te.length;at++){var ge=Te[at].split("=");if(1<ge.length){var pt=ge[0];ge=ge[1];var gt=pt.split("_");k=2<=gt.length&&gt[1]=="type"?k+(pt+"="+ge+"&"):k+(pt+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+k})}function MM(c,d,f,g,D,A,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+A+" "+k})}function Io(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+xM(c,f)+(g?" "+g:"")})}function PM(c,d){c.info(function(){return"TIMEOUT: "+d})}ha.prototype.info=function(){};function xM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<D.length;k++)D[k]=""}}}}return Sp(f)}catch{return d}}var Vu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$I={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mp;function ju(){}b(ju,Ap),ju.prototype.g=function(){return new XMLHttpRequest},ju.prototype.i=function(){return{}},Mp=new ju;function Rr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new HI}function HI(){this.i=null,this.g="",this.h=!1}var zI={},Pp={};function xp(c,d,f){c.L=1,c.v=Hu(Jn(d)),c.m=f,c.P=!0,qI(c,null)}function qI(c,d){c.F=Date.now(),Uu(c),c.A=Jn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),ow(f.i,"t",g),c.C=0,f=c.j.J,c.h=new HI,c.g=Tw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new SM(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(OI[0]=D.toString()),D=OI);for(var A=0;A<D.length;A++){var k=SI(f,D[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),la(),NM(c.i,c.u,c.A,c.l,c.R,c.m)}Rr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Zn(c)==3?d.j():this.Y(c)},Rr.prototype.Y=function(c){try{if(c==this.g)e:{let gt=Zn(this.g);var d=this.g.Ba();let Do=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||hw(this.g)))){this.J||gt!=4||d==7||(d==8||0>=Do?la(3):la(2)),Op(this);var f=this.g.Z();this.X=f;t:if(GI(this)){var g=hw(this.g);c="";var D=g.length,A=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),fa(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,MM(this.i,this.u,this.A,this.l,this.R,gt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,at=this.g;if((Te=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Te)){var ge=Te;break t}}ge=null}if(f=ge)Io(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kp(this,f);else{this.o=!1,this.s=3,wt(12),yi(this),fa(this);break e}}if(this.P){f=!0;let cn;for(;!this.J&&this.C<k.length;)if(cn=OM(this,k),cn==Pp){gt==4&&(this.s=4,wt(14),f=!1),Io(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==zI){this.s=4,wt(15),Io(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Io(this.i,this.l,cn,null),kp(this,cn);if(GI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||k.length!=0||this.h.h||(this.s=1,wt(16),f=!1),this.o=this.o&&f,!f)Io(this.i,this.l,k,"[Invalid Chunked Response]"),yi(this),fa(this);else if(0<k.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Bp(pt),pt.M=!0,wt(11))}}else Io(this.i,this.l,k,null),kp(this,k);gt==4&&yi(this),this.o&&!this.J&&(gt==4?_w(this.j,this):(this.o=!1,Uu(this)))}else JM(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),yi(this),fa(this)}}}catch{}finally{}};function GI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function OM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Pp:(f=Number(d.substring(f,g)),isNaN(f)?zI:(g+=1,g+f>d.length?Pp:(d=d.slice(g,g+f),c.C=g+f,d)))}Rr.prototype.cancel=function(){this.J=!0,yi(this)};function Uu(c){c.S=Date.now()+c.I,WI(c,c.I)}function WI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=da(m(c.ba,c),d)}function Op(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Rr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(PM(this.i,this.A),this.L!=2&&(la(),wt(17)),yi(this),this.s=2,fa(this)):WI(this,this.S-c)};function fa(c){c.j.G==0||c.J||_w(c.j,c)}function yi(c){Op(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,kI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function kp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Fp(f.h,c))){if(!c.K&&Fp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Ku(f),Gu(f);else break e;Up(f),wt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=da(m(f.Za,f),6e3));if(1>=YI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else _i(f,11)}else if((c.K||f.g==c)&&Ku(f),!z(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let ge=D[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let pt=ge[3];pt!=null&&(f.la=pt,f.j.info("VER="+f.la));let gt=ge[4];gt!=null&&(f.Aa=gt,f.j.info("SVER="+f.Aa));let Do=ge[5];Do!=null&&typeof Do=="number"&&0<Do&&(g=1.5*Do,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let cn=c.g;if(cn){let Yu=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yu){var A=g.h;A.g||Yu.indexOf("spdy")==-1&&Yu.indexOf("quic")==-1&&Yu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Lp(A,A.h),A.h=null))}if(g.D){let $p=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;$p&&(g.ya=$p,Se(g.I,g.D,$p))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=ww(g,g.J?g.ia:null,g.W),k.K){JI(g.h,k);var Te=k,at=g.L;at&&(Te.I=at),Te.B&&(Op(Te),Uu(Te)),g.g=k}else yw(g);0<f.i.length&&Wu(f)}else ge[0]!="stop"&&ge[0]!="close"||_i(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?_i(f,7):jp(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}la(4)}catch{}}var kM=class{constructor(c,d){this.g=c,this.map=d}};function KI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function QI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function YI(c){return c.h?1:c.g?c.g.size:0}function Fp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Lp(c,d){c.g?c.g.add(d):c.h=d}function JI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}KI.prototype.cancel=function(){if(this.i=ZI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function ZI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function FM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function LM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function XI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=LM(c),g=FM(c),D=g.length,A=0;A<D;A++)d.call(void 0,g[A],f&&f[A],c)}var ew=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var A=c[f].substring(0,g);D=c[f].substring(g+1)}else A=c[f];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vi){this.h=c.h,Bu(this,c.j),this.o=c.o,this.g=c.g,$u(this,c.s),this.l=c.l;var d=c.i,f=new ma;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),tw(this,f),this.m=c.m}else c&&(d=String(c).match(ew))?(this.h=!1,Bu(this,d[1]||"",!0),this.o=pa(d[2]||""),this.g=pa(d[3]||"",!0),$u(this,d[4]),this.l=pa(d[5]||"",!0),tw(this,d[6]||"",!0),this.m=pa(d[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}vi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ga(d,nw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ga(d,nw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ga(f,f.charAt(0)=="/"?BM:UM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ga(f,HM)),c.join("")};function Jn(c){return new vi(c)}function Bu(c,d,f){c.j=f?pa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function $u(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function tw(c,d,f){d instanceof ma?(c.i=d,zM(c.i,c.h)):(f||(d=ga(d,$M)),c.i=new ma(d,c.h))}function Se(c,d,f){c.i.set(d,f)}function Hu(c){return Se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function pa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ga(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,jM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nw=/[#\/\?@]/g,UM=/[#\?:]/g,BM=/[#\?]/g,$M=/[#\?@]/g,HM=/#/g;function ma(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Nr(c){c.g||(c.g=new Map,c.h=0,c.i&&VM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ma.prototype,t.add=function(c,d){Nr(this),this.i=null,c=wo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function rw(c,d){Nr(c),d=wo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function iw(c,d){return Nr(c),d=wo(c,d),c.g.has(d)}t.forEach=function(c,d){Nr(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},t.na=function(){Nr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let A=0;A<D.length;A++)f.push(d[g])}return f},t.V=function(c){Nr(this);let d=[];if(typeof c=="string")iw(this,c)&&(d=d.concat(this.g.get(wo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Nr(this),this.i=null,c=wo(this,c),iw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function ow(c,d,f){rw(c,d),0<f.length&&(c.i=null,c.g.set(wo(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var D=A;k[g]!==""&&(D+="="+encodeURIComponent(String(k[g]))),c.push(D)}}return this.i=c.join("&")};function wo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function zM(c,d){d&&!c.j&&(Nr(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(rw(this,g),ow(this,D,f))},c)),c.j=d}function qM(c,d){let f=new ha;if(a.Image){let g=new Image;g.onload=y(Mr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Mr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Mr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Mr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function GM(c,d){let f=new ha,g=new AbortController,D=setTimeout(()=>{g.abort(),Mr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(D),A.ok?Mr(f,"TestPingServer: ok",!0,d):Mr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Mr(f,"TestPingServer: error",!1,d)})}function Mr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function WM(){this.g=new RM}function KM(c,d,f){let g=f||"";try{XI(c,function(D,A){let k=D;l(D)&&(k=Sp(D)),d.push(g+A+"="+encodeURIComponent(k))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function ya(c){this.l=c.Ub||null,this.j=c.eb||!1}b(ya,Ap),ya.prototype.g=function(){return new zu(this.l,this.j)},ya.prototype.i=function(c){return function(){return c}}({});function zu(c,d){ft.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(zu,ft),t=zu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,_a(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_a(this)),this.g&&(this.readyState=3,_a(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function sw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?va(this):_a(this),this.readyState==3&&sw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,va(this))},t.Qa=function(c){this.g&&(this.response=c,va(this))},t.ga=function(){this.g&&va(this)};function va(c){c.readyState=4,c.l=null,c.j=null,c.v=null,_a(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function _a(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function aw(c){let d="";return me(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Vp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=aw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Se(c,d,f))}function ke(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(ke,ft);var QM=/^https?$/i,YM=["POST","PUT"];t=ke.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mp.g(),this.v=this.o?FI(this.o):FI(Mp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){cw(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(YM,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of f)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){cw(this,A)}};function cw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,uw(c),qu(c)}function uw(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qu(this,!0)),ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lw(this):this.bb())},t.bb=function(){lw(this)};function lw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Zn(c)!=4||c.Z()!=2)){if(c.u&&Zn(c)==4)PI(c.Ea,0,c);else if(It(c,"readystatechange"),Zn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var D=String(c.D).match(ew)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!QM.test(D?D.toLowerCase():"")}f=g}if(f)It(c,"complete"),It(c,"success");else{c.m=6;try{var A=2<Zn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",uw(c)}}finally{qu(c)}}}}function qu(c,d){if(c.g){dw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||It(c,"ready");try{f.onreadystatechange=g}catch{}}}function dw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),AM(d)}};function hw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function JM(c){let d={};c=(c.g&&2<=Zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(z(c[g]))continue;var f=T(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[D]||[];d[D]=A,A.push(f)}w(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function fw(c){this.Aa=0,this.i=[],this.j=new ha,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,c),this.cb=Ea("retryDelaySeedMs",1e4,c),this.Wa=Ea("forwardChannelMaxRetries",2,c),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new KI(c&&c.concurrentRequestLimit),this.Da=new WM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){wt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=ww(this,null,this.W),Wu(this)};function jp(c){if(pw(c),c.G==3){var d=c.U++,f=Jn(c.I);if(Se(f,"SID",c.K),Se(f,"RID",d),Se(f,"TYPE","terminate"),Ia(c,f),d=new Rr(c,c.j,d),d.L=2,d.v=Hu(Jn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Tw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Uu(d)}Iw(c)}function Gu(c){c.g&&(Bp(c),c.g.cancel(),c.g=null)}function pw(c){Gu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ku(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Wu(c){if(!QI(c.h)&&!c.s){c.s=!0;var d=c.Ga;ia||CI(),oa||(ia(),oa=!0),vp.add(d,c),c.B=0}}function ZM(c,d){return YI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=da(m(c.Ga,c,d),Ew(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Rr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=mw(this,D,d),f=Jn(this.I),Se(f,"RID",c),Se(f,"CVER",22),this.D&&Se(f,"X-HTTP-Session-Id",this.D),Ia(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(aw(A)))+"&"+d:this.m&&Vp(f,this.m,A)),Lp(this.h,D),this.Ua&&Se(f,"TYPE","init"),this.P?(Se(f,"$req",d),Se(f,"SID","null"),D.T=!0,xp(D,f,null)):xp(D,f,d),this.G=2}}else this.G==3&&(c?gw(this,c):this.i.length==0||QI(this.h)||gw(this))};function gw(c,d){var f;d?f=d.l:f=c.U++;let g=Jn(c.I);Se(g,"SID",c.K),Se(g,"RID",f),Se(g,"AID",c.T),Ia(c,g),c.m&&c.o&&Vp(g,c.m,c.o),f=new Rr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=mw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Lp(c.h,f),xp(f,g,d)}function Ia(c,d){c.H&&me(c.H,function(f,g){Se(d,g,f)}),c.l&&XI({},function(f,g){Se(d,g,f)})}function mw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let A=-1;for(;;){let k=["count="+f];A==-1?0<f?(A=D[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let Te=!0;for(let at=0;at<f;at++){let ge=D[at].g,pt=D[at].map;if(ge-=A,0>ge)A=Math.max(0,D[at].g-100),Te=!1;else try{KM(pt,k,"req"+ge+"_")}catch{g&&g(pt)}}if(Te){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function yw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ia||CI(),oa||(ia(),oa=!0),vp.add(d,c),c.v=0}}function Up(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=da(m(c.Fa,c),Ew(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,vw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=da(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Gu(this),vw(this))};function Bp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function vw(c){c.g=new Rr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Jn(c.qa);Se(d,"RID","rpc"),Se(d,"SID",c.K),Se(d,"AID",c.T),Se(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Se(d,"TO",c.ja),Se(d,"TYPE","xmlhttp"),Ia(c,d),c.m&&c.o&&Vp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Hu(Jn(d)),f.m=null,f.P=!0,qI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Gu(this),Up(this),wt(19))};function Ku(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function _w(c,d){var f=null;if(c.g==d){Ku(c),Bp(c),c.g=null;var g=2}else if(Fp(c.h,d))f=d.D,JI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=Lu(),It(g,new BI(g,f)),Wu(c)}else yw(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&ZM(c,d)||g==2&&Up(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function Ew(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function _i(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new vi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bu(g,"https"),Hu(g),D?qM(g.toString(),f):GM(g.toString(),f)}else wt(2);c.G=0,c.l&&c.l.sa(d),Iw(c),pw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Iw(c){if(c.G=0,c.ka=[],c.l){let d=ZI(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function ww(c,d,f){var g=f instanceof vi?Jn(f):new vi(f);if(g.g!="")d&&(g.g=d+"."+g.g),$u(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new vi(null);g&&Bu(A,g),d&&(A.g=d),D&&$u(A,D),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Se(g,f,d),Se(g,"VER",c.la),Ia(c,g),g}function Tw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new ke(new ya({eb:f})):new ke(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dw(){}t=Dw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qu(){}Qu.prototype.g=function(c,d){return new Bt(c,d)};function Bt(c,d){ft.call(this),this.g=new fw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new To(this)}b(Bt,ft),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){jp(this.g)},Bt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Sp(c),c=f);d.i.push(new kM(d.Ya++,c)),d.G==3&&Wu(d)},Bt.prototype.N=function(){this.g.l=null,delete this.j,jp(this.g),delete this.g,Bt.aa.N.call(this)};function bw(c){Rp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}b(bw,Rp);function Cw(){Np.call(this),this.status=1}b(Cw,Np);function To(c){this.g=c}b(To,Dw),To.prototype.ua=function(){It(this.g,"a")},To.prototype.ta=function(c){It(this.g,new bw(c))},To.prototype.sa=function(c){It(this.g,new Cw)},To.prototype.ra=function(){It(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,S_=wr.createWebChannelTransport=function(){return new Qu},C_=wr.getStatEventTarget=function(){return Lu()},b_=wr.Event=mi,Af=wr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vu.NO_ERROR=0,Vu.TIMEOUT=8,Vu.HTTP_ERROR=6,uu=wr.ErrorCode=Vu,$I.COMPLETE="complete",D_=wr.EventType=$I,LI.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",ft.prototype.listen=ft.prototype.K,As=wr.WebChannel=LI,D$=wr.FetchXmlHttpFactory=ya,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,T_=wr.XhrIo=ke}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});var tR="@firebase/firestore",nR="4.8.0";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var ea="11.10.0";var vo=new Hn("@firebase/firestore");function Rs(){return vo.logLevel}function j(t,...e){if(vo.logLevel<=se.DEBUG){let n=e.map(aI);vo.debug(`Firestore (${ea}): ${t}`,...n)}}function Dr(t,...e){if(vo.logLevel<=se.ERROR){let n=e.map(aI);vo.error(`Firestore (${ea}): ${t}`,...n)}}function hi(t,...e){if(vo.logLevel<=se.WARN){let n=e.map(aI);vo.warn(`Firestore (${ea}): ${t}`,...n)}}function aI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,WR(t,r,n)}function WR(t,e,n){let r=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Dr(r),new Error(r)}function Oe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||WR(e,i,r)}function he(t,e){return t}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends sn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var di=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var kf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},x_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},O_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},k_=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new di;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new di,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new di)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new kf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new ot(e)}},F_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},L_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new F_(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ff=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},V_=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ff(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ff(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function b$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function KR(){return new TextEncoder}var Lf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=b$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function oe(t,e){return t<e?-1:t>e?1:0}function j_(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return oe(r,i);{let o=KR(),s=C$(o.encode(rR(t,n)),o.encode(rR(e,n)));return s!==0?s:oe(r,i)}}n+=r>65535?2:1}return oe(t.length,e.length)}function rR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function C$(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return oe(t[n],e[n]);return oe(t.length,e.length)}function $s(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var iR="__name__",Vf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return oe(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):j_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ir.fromString(e.substring(4,e.length-2))}},He=class t extends Vf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},S$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bn=class t extends Vf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return S$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iR}static keyField(){return new t([iR])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new $(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var W=class t{constructor(e){this.path=e}static fromPath(e){return new t(He.fromString(e))}static fromName(e){return new t(He.fromString(e).popFirst(5))}static empty(){return new t(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new He(e.slice()))}};function A$(t,e,n){if(!n)throw new $(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function R$(t,e,n,r){if(e===!0&&r===!0)throw new $(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oR(t){if(W.isDocumentKey(t))throw new $(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function N$(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function M$(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function Pf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=M$(t);throw new $(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Qe(t,e){let n={typeString:t};return e&&(n.value=e),n}function Nu(t,e){if(!N$(t))throw new $(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new $(F.INVALID_ARGUMENT,n);return!0}var sR=-62135596800,aR=1e6,Mt=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aR);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sR)throw new $(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aR}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-sR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:Qe("string",Mt._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};var ee=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Mt(0,0))}static max(){return new t(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var mu=-1,U_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};U_.UNKNOWN_ID=-1;function P$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new _o(i,W.empty(),e)}function x$(t){return new _o(t.readTime,t.key,mu)}var _o=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),W.empty(),mu)}static max(){return new t(ee.max(),W.empty(),mu)}};function O$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}var k$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",B_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function dp(t){return S(this,null,function*(){if(t.code!==F.FAILED_PRECONDITION||t.message!==k$)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function F$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ta(t){return t.name==="IndexedDbTransactionError"}var cI=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),L$=-1;function hp(t){return t==null}function jf(t){return t===0&&1/t==-1/0}var QR="";function V$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cR(e)),e=j$(t.get(n),e);return cR(e)}function j$(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case QR:n+="";break;default:n+=o}}return n}function cR(t){return t+QR+""}var U$="remoteDocuments",YR="owner";var JR="mutationQueues";var ZR="mutations";var XR="documentMutations",B$="remoteDocumentsV14";var eN="remoteDocumentGlobal";var tN="targets";var nN="targetDocuments";var rN="targetGlobal",iN="collectionParents";var oN="clientMetadata";var sN="bundles";var aN="namedQueries";var $$="indexConfiguration";var H$="indexState";var z$="indexEntries";var cN="documentOverlays";var q$="globals";var G$=[JR,ZR,XR,U$,tN,YR,rN,nN,oN,eN,iN,sN,aN],Joe=[...G$,cN],W$=[JR,ZR,XR,B$,tN,YR,rN,nN,oN,eN,iN,sN,aN,cN],K$=W$,Q$=[...K$,$$,H$,z$];var Zoe=[...Q$,q$];function uR(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mu(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Y$(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ze=class t{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xs(this.root,e,this.comparator,!0)}},xs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var st=class t{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uf(this.data.getIterator())}getIteratorFrom(e){return new Uf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Uf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fo=class t{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new t([])}unionWith(e){let n=new st(bn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Bf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bf("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Et.EMPTY_BYTE_STRING=new Et("");var J$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(t){if(Oe(!!t,39018),typeof t=="string"){let e=0,n=J$.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cr(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}var uN="server_timestamp",lN="__type__",dN="__previous_value__",hN="__local_write_time__";function uI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lN])===null||n===void 0?void 0:n.stringValue)===uN}function fp(t){let e=t.mapValue.fields[dN];return uI(e)?fp(e):e}function yu(t){let e=br(t.mapValue.fields[hN].timestampValue);return new Mt(e.seconds,e.nanos)}var $_=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},$f="(default)",Hf=class t{constructor(e,n){this.projectId=e,this.database=n||$f}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===$f}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var fN="__type__",pN="__max__",Rf={mapValue:{fields:{__type__:{stringValue:pN}}}},gN="__vector__",vu="value";function fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uI(t)?4:yN(t)?9007199254740991:mN(t)?10:11:Q(28295,{value:t})}function Kn(t,e){if(t===e)return!0;let n=fi(t);if(n!==fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yu(t).isEqual(yu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=br(i.timestampValue),a=br(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Cr(i.bytesValue).isEqual(Cr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Me(i.geoPointValue.latitude)===Me(o.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Me(i.integerValue)===Me(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Me(i.doubleValue),a=Me(o.doubleValue);return s===a?jf(s)===jf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return $s(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(uR(s)!==uR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Kn(s[u],a[u])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function _u(t,e){return(t.values||[]).find(n=>Kn(n,e))!==void 0}function Hs(t,e){if(t===e)return 0;let n=fi(t),r=fi(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Me(o.integerValue||o.doubleValue),u=Me(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return lR(t.timestampValue,e.timestampValue);case 4:return lR(yu(t),yu(e));case 5:return j_(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Cr(o),u=Cr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=oe(a[l],u[l]);if(h!==0)return h}return oe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=oe(Me(o.latitude),Me(s.latitude));return a!==0?a:oe(Me(o.longitude),Me(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dR(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[vu])===null||a===void 0?void 0:a.arrayValue,b=(u=m[vu])===null||u===void 0?void 0:u.arrayValue,N=oe(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:dR(y,b)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Rf.mapValue&&s===Rf.mapValue)return 0;if(o===Rf.mapValue)return 1;if(s===Rf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=j_(u[p],h[p]);if(m!==0)return m;let y=Hs(a[u[p]],l[h[p]]);if(y!==0)return y}return oe(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{le:n})}}function lR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);let n=br(t),r=br(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function dR(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Hs(n[i],r[i]);if(o)return o}return oe(n.length,r.length)}function zs(t){return H_(t)}function H_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=br(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=H_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${H_(n.fields[s])}`;return i+"}"}(t.mapValue):Q(61005,{value:t})}function xf(t){switch(fi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=fp(t);return e?16+xf(e):16;case 5:return 2*t.stringValue.length;case 6:return Cr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+xf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Mu(r.fields,(o,s)=>{i+=o.length+xf(s)}),i}(t.mapValue);default:throw Q(13486,{value:t})}}function z_(t){return!!t&&"integerValue"in t}function lI(t){return!!t&&"arrayValue"in t}function hR(t){return!!t&&"nullValue"in t}function fR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function A_(t){return!!t&&"mapValue"in t}function mN(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[fN])===null||n===void 0?void 0:n.stringValue)===gN}function du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Mu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=du(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=du(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pN}var ese={mapValue:{fields:{[fN]:{stringValue:gN},[vu]:{arrayValue:{}}}}};var Tr=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!A_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(n)}setAll(e){let n=bn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=du(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());A_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];A_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mu(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(du(this.value))}};var Cn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),Tr.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),Tr.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),Tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var qs=class{constructor(e,n){this.position=e,this.inclusive=n}};function pR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=Hs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function gR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kn(t.position[n],e.position[n]))return!1;return!0}var Gs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Z$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var zf=class{},rt=class t extends zf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new G_(e,n,r):n==="array-contains"?new Q_(e,r):n==="in"?new Y_(e,r):n==="not-in"?new J_(e,r):n==="array-contains-any"?new Z_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new W_(e,r):new K_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hs(n,this.value)):n!==null&&fi(this.value)===fi(n)&&this.matchesComparison(Hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qn=class t extends zf{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return vN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function vN(t){return t.op==="and"}function _N(t){return X$(t)&&vN(t)}function X$(t){for(let e of t.filters)if(e instanceof Qn)return!1;return!0}function q_(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+zs(t.value);if(_N(t))return t.filters.map(e=>q_(e)).join(",");{let e=t.filters.map(n=>q_(n)).join(",");return`${t.op}(${e})`}}function EN(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&Kn(r.value,i.value)}(t,e):t instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&EN(s,i.filters[a]),!0):!1}(t,e):void Q(19439)}function IN(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(IN).join(" ,")+"}"}(t):"Filter"}var G_=class extends rt{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){let n=W.comparator(e.key,this.key);return this.matchesComparison(n)}},W_=class extends rt{constructor(e,n){super(e,"in",n),this.keys=wN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},K_=class extends rt{constructor(e,n){super(e,"not-in",n),this.keys=wN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function wN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}var Q_=class extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return lI(n)&&_u(n.arrayValue,this.value)}},Y_=class extends rt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}},J_=class extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_u(this.value.arrayValue,n)}},Z_=class extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!lI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_u(this.value.arrayValue,r))}};var X_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function mR(t,e=null,n=[],r=[],i=null,o=null,s=null){return new X_(t,e,n,r,i,o,s)}function dI(t){let e=he(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>q_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zs(r)).join(",")),e.Pe=n}return e.Pe}function hI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Z$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gR(t.startAt,e.startAt)&&gR(t.endAt,e.endAt)}function eE(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ws=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function eH(t,e,n,r,i,o,s,a){return new Ws(t,e,n,r,i,o,s,a)}function fI(t){return new Ws(t)}function yR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tH(t){return t.collectionGroup!==null}function hu(t){let e=he(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new st(bn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Gs(o,r))}),n.has(bn.keyField().canonicalString())||e.Te.push(new Gs(bn.keyField(),r))}return e.Te}function Gn(t){let e=he(t);return e.Ie||(e.Ie=nH(e,hu(t))),e.Ie}function nH(t,e){if(t.limitType==="F")return mR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Gs(i.field,o)});let n=t.endAt?new qs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qs(t.startAt.position,t.startAt.inclusive):null;return mR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tE(t,e,n){return new Ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pp(t,e){return hI(Gn(t),Gn(e))&&t.limitType===e.limitType}function TN(t){return`${dI(Gn(t))}|lt:${t.limitType}`}function Ns(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IN(i)).join(", ")}]`),hp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zs(i)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function gp(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of hu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=pR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,hu(r),i)||r.endAt&&!function(s,a,u){let l=pR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,hu(r),i))}(t,e)}function rH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DN(t){return(e,n)=>{let r=!1;for(let i of hu(t)){let o=iH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function iH(t,e,n){let r=t.field.isKeyField()?W.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Hs(u,l):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}var Sr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mu(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Y$(this.inner)}size(){return this.innerSize}};var oH=new ze(W.comparator);function pi(){return oH}var bN=new ze(W.comparator);function lu(...t){let e=bN;for(let n of t)e=e.insert(n.key,n);return e}function sH(t){let e=bN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function po(){return fu()}function CN(){return fu()}function fu(){return new Sr(t=>t.toString(),(t,e)=>t.isEqual(e))}var tse=new ze(W.comparator),aH=new st(W.comparator);function pe(...t){let e=aH;for(let n of t)e=e.add(n);return e}var cH=new st(oe);function uH(){return cH}function lH(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(e)?"-0":e}}function dH(t){return{integerValue:""+t}}var Ks=class{constructor(){this._=void 0}};function hH(t,e,n){return t instanceof Eu?function(i,o){let s={fields:{[lN]:{stringValue:uN},[hN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uI(o)&&(o=fp(o)),o&&(s.fields[dN]=o),{mapValue:s}}(n,e):t instanceof Qs?SN(t,e):t instanceof Ys?AN(t,e):function(i,o){let s=pH(i,o),a=vR(s)+vR(i.Ee);return z_(s)&&z_(i.Ee)?dH(a):lH(i.serializer,a)}(t,e)}function fH(t,e,n){return t instanceof Qs?SN(t,e):t instanceof Ys?AN(t,e):n}function pH(t,e){return t instanceof Iu?function(r){return z_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Eu=class extends Ks{},Qs=class extends Ks{constructor(e){super(),this.elements=e}};function SN(t,e){let n=RN(e);for(let r of t.elements)n.some(i=>Kn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ys=class extends Ks{constructor(e){super(),this.elements=e}};function AN(t,e){let n=RN(e);for(let r of t.elements)n=n.filter(i=>!Kn(i,r));return{arrayValue:{values:n}}}var Iu=class extends Ks{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function vR(t){return Me(t.integerValue||t.doubleValue)}function RN(t){return lI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qs&&i instanceof Qs||r instanceof Ys&&i instanceof Ys?$s(r.elements,i.elements,Kn):r instanceof Iu&&i instanceof Iu?Kn(r.Ee,i.Ee):r instanceof Eu&&i instanceof Eu}(t.transform,e.transform)}var pu=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Of(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var wu=class{};function NN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nE(t.key,pu.none()):new Tu(t.key,t.data,pu.none());{let n=t.data,r=Tr.empty(),i=new st(bn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Js(t.key,r,new fo(i.toArray()),pu.none())}}function mH(t,e,n){t instanceof Tu?function(i,o,s){let a=i.value.clone(),u=ER(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Js?function(i,o,s){if(!Of(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=ER(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(MN(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function gu(t,e,n,r){return t instanceof Tu?function(o,s,a,u){if(!Of(o.precondition,s))return a;let l=o.value.clone(),h=IR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Js?function(o,s,a,u){if(!Of(o.precondition,s))return a;let l=IR(o.fieldTransforms,u,s),h=s.data;return h.setAll(MN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Of(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function _R(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$s(r,i,(o,s)=>gH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Tu=class extends wu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Js=class extends wu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function MN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function ER(t,e,n){let r=new Map;Oe(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,fH(s,a,n[i]))}return r}function IR(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,hH(o,s,e))}return r}var nE=class extends wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var rE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&mH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=CN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=NN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(n,r)=>_R(n,r))&&$s(this.baseMutations,e.baseMutations,(n,r)=>_R(n,r))}};var iE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var oE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var We,de;function PN(t){if(t===void 0)return Dr("GRPC error has no .code"),F.UNKNOWN;switch(t){case We.OK:return F.OK;case We.CANCELLED:return F.CANCELLED;case We.UNKNOWN:return F.UNKNOWN;case We.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case We.INTERNAL:return F.INTERNAL;case We.UNAVAILABLE:return F.UNAVAILABLE;case We.UNAUTHENTICATED:return F.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case We.NOT_FOUND:return F.NOT_FOUND;case We.ALREADY_EXISTS:return F.ALREADY_EXISTS;case We.PERMISSION_DENIED:return F.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case We.ABORTED:return F.ABORTED;case We.OUT_OF_RANGE:return F.OUT_OF_RANGE;case We.UNIMPLEMENTED:return F.UNIMPLEMENTED;case We.DATA_LOSS:return F.DATA_LOSS;default:return Q(39323,{code:t})}}(de=We||(We={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var wR=null;var yH=new Ir([4294967295,4294967295],0);function TR(t){let e=KR().encode(t),n=new w_;return n.update(e),new Uint8Array(n.digest())}function DR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ir([n,r],0),new Ir([i,o],0)]}var sE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new go(`Invalid padding: ${n}`);if(r<0)throw new go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new go(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ir.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Ir.fromNumber(r)));return i.compare(yH)===1&&(i=new Ir([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=TR(e),[r,i]=DR(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=TR(e),[r,i]=DR(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},go=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var qf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new ze(oe),pi(),pe())}},Du=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var Os=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},Gf=class{constructor(e,n){this.targetId=e,this.De=n}},Wf=class{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Kf=class{constructor(){this.ve=0,this.Ce=bR(),this.Fe=Et.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=pe(),n=pe(),r=pe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new Du(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=bR()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},aE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=pi(),this.je=Nf(),this.Je=Nf(),this.He=new ze(oe)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(eE(o))if(r===0){let s=new W(o.path);this.Xe(n,s,Cn.newNoDocument(s,ee.min()))}else Oe(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}wR?.ct(function(h,p,m,y,b){var N,M,x,z,B,fe;let Ye={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},me=p.unchangedNames;return me&&(Ye.bloomFilter={applied:b===0,hashCount:(N=me?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(z=(x=(M=me?.bits)===null||M===void 0?void 0:M.bitmap)===null||x===void 0?void 0:x.length)!==null&&z!==void 0?z:0,padding:(fe=(B=me?.bits)===null||B===void 0?void 0:B.padding)!==null&&fe!==void 0?fe:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),Ye}(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Cr(r).toUint8Array()}catch(u){if(u instanceof Bf)return hi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new sE(s,i,o)}catch(u){return hi(u instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&eE(a.target)){let u=new W(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Cn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=pe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new qf(e,n,this.He,this.ze,r);return this.ze=pi(),this.je=Nf(),this.Je=Nf(),this.He=new ze(oe),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Kf,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new st(oe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new st(oe),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Kf),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function Nf(){return new ze(W.comparator)}function bR(){return new ze(W.comparator)}var vH={asc:"ASCENDING",desc:"DESCENDING"},_H={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EH={and:"AND",or:"OR"},cE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function uE(t,e){return t.useProto3Json||hp(e)?e:{value:e}}function IH(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ks(t){return Oe(!!t,49232),ee.fromTimestamp(function(n){let r=br(n);return new Mt(r.seconds,r.nanos)}(t))}function TH(t,e){return lE(t,e).canonicalString()}function lE(t,e){let n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xN(t){let e=He.fromString(t);return Oe(VN(e),10190,{key:e.toString()}),e}function R_(t,e){let n=xN(e);if(n.get(1)!==t.databaseId.projectId)throw new $(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(kN(n))}function ON(t,e){return TH(t.databaseId,e)}function DH(t){let e=xN(t);return e.length===4?He.emptyPath():kN(e)}function CR(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kN(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function bH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Oe(h===void 0||typeof h=="string",58123),Et.fromBase64String(h||"")):(Oe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Et.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?F.UNKNOWN:PN(l.code);return new $(h,l.message||"")}(s);n=new Wf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=R_(t,r.document.name),o=ks(r.document.updateTime),s=r.document.createTime?ks(r.document.createTime):ee.min(),a=new Tr({mapValue:{fields:r.document.fields}}),u=Cn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Os(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=R_(t,r.document),o=r.readTime?ks(r.readTime):ee.min(),s=Cn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Os([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=R_(t,r.document),o=r.removedTargetIds||[];n=new Os([],o,i,null)}else{if(!("filter"in e))return Q(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new oE(i,o),a=r.targetId;n=new Gf(a,s)}}return n}function CH(t,e){return{documents:[ON(t,e.path)]}}function SH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ON(t,i);let o=function(l){if(l.length!==0)return LN(Qn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Ms(m.field),direction:NH(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=uE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:n,parent:i}}function AH(t){let e=DH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Oe(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=FN(p);return m instanceof Qn&&_N(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(b){return new Gs(Ps(b.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,hp(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new qs(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new qs(y,m)}(n.endAt)),eH(e,i,s,o,a,"F",u,l)}function RH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ps(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ps(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ps(n.unaryFilter.field);return rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ps(n.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return rt.create(Ps(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>FN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function NH(t){return vH[t]}function MH(t){return _H[t]}function PH(t){return EH[t]}function Ms(t){return{fieldPath:t.canonicalString()}}function Ps(t){return bn.fromServerFormat(t.fieldPath)}function LN(t){return t instanceof rt?function(n){if(n.op==="=="){if(fR(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NAN"}};if(hR(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fR(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NAN"}};if(hR(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(n.field),op:MH(n.op),value:n.value}}}(t):t instanceof Qn?function(n){let r=n.getFilters().map(i=>LN(i));return r.length===1?r[0]:{compositeFilter:{op:PH(n.op),filters:r}}}(t):Q(54877,{filter:t})}function VN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var bu=class t{constructor(e,n,r,i,o=ee.min(),s=ee.min(),a=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var dE=class{constructor(e){this.gt=e}};function xH(t){let e=AH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tE(e,e.limit,"L"):e}var Qf=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Me(e.integerValue));else if("doubleValue"in e){let r=Me(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),jf(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=br(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Cr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?yN(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):mN(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Q(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=vu,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Me(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),W.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Qf.Ut=new Qf;var hE=class{constructor(){this.Dn=new fE}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(_o.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},fE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new st(He.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(He.comparator)).toArray()}};var nse=new Uint8Array(0);var SR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jN=41943040,an=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(jN,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);var Cu=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var AR="LruGarbageCollector",OH=1048576;function RR([t,e],[n,r]){let i=oe(t,n);return i===0?oe(e,r):i}var pE=class{constructor(e){this.Tr=e,this.buffer=new st(RR),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();RR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},gE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){j(AR,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>S(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){ta(n)?j(AR,"Ignoring IndexedDB error during garbage collection: ",n):yield dp(n)}yield this.Rr(3e5)}))}},mE=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(cI.ue);let r=new pE(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(SR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SR):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Rs()<=se.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function kH(t,e){return new mE(t,e)}var yE=class{constructor(){this.changes=new Sr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var vE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var _E=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gu(r.mutation,i,fo.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=po();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=lu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=po();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=pi(),s=fu(),a=function(){return fu()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Js)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),gu(h.mutation,l,h.mutation.getFieldMask(),Mt.now())):s.set(l.key,fo.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new vE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=fu(),i=new ze((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||fo.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=CN();h.forEach(m=>{if(!o.has(m)){let y=NN(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tH(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(po()),a=mu,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:sH(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=lu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=lu();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,m){return new Ws(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Cn.newInvalidDocument(h)))});let a=lu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&gu(h.mutation,l,fo.empty(),Mt.now()),gp(n,l)&&(a=a.insert(u,l))}),a})}};var EE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ks(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:xH(i.bundledQuery),readTime:ks(i.readTime)}}(n)),P.resolve()}};var IE=class{constructor(){this.overlays=new ze(W.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=po();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=po(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ze((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=po(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=po(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new iE(n,r));let o=this.kr.get(n);o===void 0&&(o=pe(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var wE=class{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Su=class{constructor(){this.qr=new st(Ke.Qr),this.$r=new st(Ke.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Ke(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ke(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new W(new He([])),r=new Ke(n,e),i=new Ke(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new W(new He([])),r=new Ke(n,e),i=new Ke(n,e+1),o=pe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ke(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return W.comparator(e.key,n.key)||oe(e.Hr,n.Hr)}static Ur(e,n){return oe(e.Hr,n.Hr)||W.comparator(e.key,n.key)}};var TE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new st(Ke.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new rE(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?L$:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(oe);return n.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new W(o),0),a=new st(oe);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new Ke(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Ke(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var DE=class{constructor(e){this.ni=e,this.docs=function(){return new ze(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=pi();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Cn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=pi(),s=n.path,a=new W(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||O$(x$(h),r)<=0||(i.has(h.key)||gp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bE(this)}getSize(e){return P.resolve(this.size)}},bE=class extends yE{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var CE=class{constructor(e){this.persistence=e,this.ii=new Sr(n=>dI(n),hI),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.si=0,this.oi=new Su,this.targetCount=0,this._i=Cu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Cu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var Yf=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new cI(0),this.ci=!1,this.ci=!0,this.li=new wE,this.referenceDelegate=e(this),this.hi=new CE(this),this.indexManager=new hE,this.remoteDocumentCache=function(i){return new DE(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new dE(n),this.Ti=new EE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new TE(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new SE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},SE=class extends B_{constructor(e){super(),this.currentSequenceNumber=e}},AE=class t{constructor(e){this.persistence=e,this.Ai=new Su,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw Q(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=W.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ee.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Jf=class t{constructor(e,n){this.persistence=e,this.gi=new Sr(r=>V$(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=kH(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xf(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var RE=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=pe(),i=pe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var NE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ME=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return iA()?8:F$(Qt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new NE;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Rs()<=se.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Rs()<=se.DEBUG&&j("QueryEngine","Query:",Ns(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Rs()<=se.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):P.resolve())}ps(e,n){if(yR(n))return P.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tE(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,tE(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return yR(n)||i.isEqual(ee.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(Rs()<=se.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(n)),this.vs(e,s,n,P$(i,mu)).next(a=>a))})}bs(e,n){let r=new st(DN(e));return n.forEach((i,o)=>{gp(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Rs()<=se.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Ns(n)),this.gs.getDocumentsMatchingQuery(e,n,_o.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var pI="LocalStore",FH=3e8,PE=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new ze(oe),this.Ms=new Sr(o=>dI(o),hI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _E(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function LH(t,e,n,r){return new PE(t,e,n,r)}function UN(t,e){return S(this,null,function*(){let n=he(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function BN(t){let e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function VH(t,e){let n=he(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Et.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,M,x){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=FH?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=pi(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(jH(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ee.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function jH(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=pi();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):j(pI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function UH(t,e){let n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new bu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function xE(t,e,n){return S(this,null,function*(){let r=he(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ta(s))throw s;j(pI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function NR(t,e,n){let r=he(t),i=ee.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=he(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)}(r,s,Gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ee.min(),n?o:pe())).next(a=>(BH(r,rH(e),a),{documents:a,qs:o})))}function BH(t,e,n){let r=t.xs.get(e)||ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Zf=class{constructor(){this.activeTargetIds=uH()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var OE=class{constructor(){this.Fo=new Zf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Zf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var kE=class{xo(e){}shutdown(){}};var MR="ConnectivityMonitor",Xf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){j(MR,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){j(MR,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Mf=null;function FE(){return Mf===null?Mf=function(){return 268435456+Math.round(2147483648*Math.random())}():Mf++,"0x"+Mf.toString(16)}var N_="RestConnection",$H={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},LE=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===$f?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=FE(),a=this.Go(e,n.toUriEncodedString());j(N_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=no(l);return this.jo(e,a,u,r,h).then(p=>(j(N_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw hi(N_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=$H[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var VE=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var _t="WebChannelConnection",jE=class extends LE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=FE();return new Promise((a,u)=>{let l=new T_;l.setWithCredentials(!0),l.listenOnce(D_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case uu.NO_ERROR:let p=l.getResponseJson();j(_t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case uu.TIMEOUT:j(_t,`RPC '${e}' ${s} timed out`),u(new $(F.DEADLINE_EXCEEDED,"Request time out"));break;case uu.HTTP_ERROR:let m=l.getStatus();if(j(_t,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let N=function(x){let z=x.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(z)>=0?z:F.UNKNOWN}(b.status);u(new $(N,b.message))}else u(new $(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new $(F.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{j(_t,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);j(_t,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=FE(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=S_(),a=C_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");j(_t,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,b=new VE({Ho:M=>{y?j(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(j(_t,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(_t,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},Yo:()=>p.close()}),N=(M,x,z)=>{M.listen(x,B=>{try{z(B)}catch(fe){setTimeout(()=>{throw fe},0)}})};return N(p,As.EventType.OPEN,()=>{y||(j(_t,`RPC '${e}' stream ${i} transport opened.`),b.s_())}),N(p,As.EventType.CLOSE,()=>{y||(y=!0,j(_t,`RPC '${e}' stream ${i} transport closed`),b.__(),this.I_(p))}),N(p,As.EventType.ERROR,M=>{y||(y=!0,hi(_t,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),b.__(new $(F.UNAVAILABLE,"The operation could not be completed")))}),N(p,As.EventType.MESSAGE,M=>{var x;if(!y){let z=M.data[0];Oe(!!z,16349);let B=z,fe=B?.error||((x=B[0])===null||x===void 0?void 0:x.error);if(fe){j(_t,`RPC '${e}' stream ${i} received error:`,fe);let Ye=fe.status,me=function(E){let I=We[E];if(I!==void 0)return PN(I)}(Ye),w=fe.message;me===void 0&&(me=F.INTERNAL,w="Unknown error status: "+Ye+" with message "+fe.message),y=!0,b.__(new $(me,w)),p.close()}else j(_t,`RPC '${e}' stream ${i} received:`,z),b.a_(z)}}),N(a,b_.STAT_EVENT,M=>{M.stat===Af.PROXY?j(_t,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Af.NOPROXY&&j(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function M_(){return typeof document<"u"?document:null}function $N(t){return new cE(t,!0)}var ep=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var PR="PersistentStream",UE=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ep(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return S(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return S(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return S(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new $(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>S(this,null,function*(){this.state=0,this.start()}))}G_(e){return j(PR,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(j(PR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},BE=class extends UE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=bH(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?ks(s.readTime):ee.min()}(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=CR(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=eE(u)?{documents:CH(o,u)}:{query:SH(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=wH(o,s.resumeToken);let l=uE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=IH(o,s.snapshotVersion.toTimestamp());let l=uE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=RH(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=CR(this.serializer),n.removeTarget=e,this.k_(n)}};var $E=class{},HE=class extends $E{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new $(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,lE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(F.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,lE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(F.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},zE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Dr(n),this._a=!1):j("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Zs="RemoteStore",qE=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>S(this,null,function*(){xu(this)&&(j(Zs,"Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=he(u);l.Ia.add(4),yield Pu(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield mp(l)})}(this))}))}),this.Aa=new zE(r,i)}};function mp(t){return S(this,null,function*(){if(xu(t))for(let e of t.da)yield e(!0)})}function Pu(t){return S(this,null,function*(){for(let e of t.da)yield e(!1)})}function HN(t,e){let n=he(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),vI(n)?yI(n):na(n).x_()&&mI(n,e))}function gI(t,e){let n=he(t),r=na(n);n.Ta.delete(e),r.x_()&&zN(n,e),n.Ta.size===0&&(r.x_()?r.B_():xu(n)&&n.Aa.set("Unknown"))}function mI(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}na(t).H_(e)}function zN(t,e){t.Ra.$e(e),na(t).Y_(e)}function yI(t){t.Ra=new aE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),na(t).start(),t.Aa.aa()}function vI(t){return xu(t)&&!na(t).M_()&&t.Ta.size>0}function xu(t){return he(t).Ia.size===0}function qN(t){t.Ra=void 0}function HH(t){return S(this,null,function*(){t.Aa.set("Online")})}function zH(t){return S(this,null,function*(){t.Ta.forEach((e,n)=>{mI(t,e)})})}function qH(t,e){return S(this,null,function*(){qN(t),vI(t)?(t.Aa.la(e),yI(t)):t.Aa.set("Unknown")})}function GH(t,e,n){return S(this,null,function*(){if(t.Aa.set("Online"),e instanceof Wf&&e.state===2&&e.cause)try{yield function(i,o){return S(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(t,e)}catch(r){j(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xR(t,r)}else if(e instanceof Os?t.Ra.Ye(e):e instanceof Gf?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ee.min()))try{let r=yield BN(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),zN(o,u);let p=new bu(h.target,u,l,h.sequenceNumber);mI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j(Zs,"Failed to raise snapshot:",r),yield xR(t,r)}})}function xR(t,e,n){return S(this,null,function*(){if(!ta(e))throw e;t.Ia.add(1),yield Pu(t),t.Aa.set("Offline"),n||(n=()=>BN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(null,null,function*(){j(Zs,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield mp(t)}))})}function OR(t,e){return S(this,null,function*(){let n=he(t);n.asyncQueue.verifyOperationInProgress(),j(Zs,"RemoteStore received new credentials");let r=xu(n);n.Ia.add(3),yield Pu(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield mp(n)})}function WH(t,e){return S(this,null,function*(){let n=he(t);e?(n.Ia.delete(2),yield mp(n)):e||(n.Ia.add(2),yield Pu(n),n.Aa.set("Unknown"))})}function na(t){return t.Va||(t.Va=function(n,r,i){let o=he(n);return o.ia(),new BE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:HH.bind(null,t),e_:zH.bind(null,t),n_:qH.bind(null,t),J_:GH.bind(null,t)}),t.da.push(e=>S(null,null,function*(){e?(t.Va.N_(),vI(t)?yI(t):t.Aa.set("Unknown")):(yield t.Va.stop(),qN(t))}))),t.Va}var GE=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function GN(t,e){if(Dr("AsyncQueue",`${e}: ${t}`),ta(t))return new $(F.UNAVAILABLE,`${e}: ${t}`);throw t}var tp=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=lu(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var np=class{constructor(){this.fa=new ze(W.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Q(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},Xs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,tp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var WE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},KE=class{constructor(){this.queries=kR(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=he(n),o=i.queries;i.queries=kR(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new $(F.ABORTED,"Firestore shutting down"))}};function kR(){return new Sr(t=>TN(t),pp)}function KH(t,e){return S(this,null,function*(){let n=he(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new WE,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=GN(s,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&_I(n)})}function QH(t,e){return S(this,null,function*(){let n=he(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function YH(t,e){let n=he(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&_I(n)}function JH(t,e,n){let r=he(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function _I(t){t.Da.forEach(e=>{e.next()})}var QE,FR;(FR=QE||(QE={})).Fa="default",FR.Cache="cache";var YE=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==QE.Cache}};var rp=class{constructor(e){this.key=e}},ip=class{constructor(e){this.key=e}},JE=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=pe(),this.mutatedKeys=pe(),this.Xa=DN(e),this.eu=new tp(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new np,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=gp(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;m&&y?m.data.isEqual(y.data)?b!==N&&(r.track({type:3,doc:y}),M=!0):this.iu(m,y)||(r.track({type:2,doc:y}),M=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),M=!0):m&&!y&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,b){let N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{At:M})}};return N(y)-N(b)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Xs(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new np,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=pe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new ip(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new rp(r))}),n}uu(e){this.Ha=e.qs,this.Za=pe();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Xs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},EI="SyncEngine",ZE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},XE=class{constructor(e){this.key=e,this.lu=!1}},eI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Sr(a=>TN(a),pp),this.Tu=new Map,this.Iu=new Set,this.du=new ze(W.comparator),this.Eu=new Map,this.Au=new Su,this.Ru={},this.Vu=new Map,this.mu=Cu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function ZH(t,e,n=!0){return S(this,null,function*(){let r=JN(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield WN(r,e,n,!0),i})}function XH(t,e){return S(this,null,function*(){let n=JN(t);yield WN(n,e,!0,!1)})}function WN(t,e,n,r){return S(this,null,function*(){let i=yield UH(t.localStore,Gn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield e4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&HN(t.remoteStore,i),a})}function e4(t,e,n,r,i){return S(this,null,function*(){t.gu=(p,m,y)=>function(N,M,x,z){return S(this,null,function*(){let B=M.view.nu(x);B.Ds&&(B=yield NR(N.localStore,M.query,!1).then(({documents:w})=>M.view.nu(w,B)));let fe=z&&z.targetChanges.get(M.targetId),Ye=z&&z.targetMismatches.get(M.targetId)!=null,me=M.view.applyChanges(B,N.isPrimaryClient,fe,Ye);return VR(N,M.targetId,me._u),me.snapshot})}(t,p,m,y);let o=yield NR(t.localStore,e,!0),s=new JE(e,o.qs),a=s.nu(o.documents),u=Du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);VR(t,n,l._u);let h=new ZE(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function t4(t,e,n){return S(this,null,function*(){let r=he(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!pp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield xE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gI(r.remoteStore,i.targetId),tI(r,i.targetId)}).catch(dp))):(tI(r,i.targetId),yield xE(r.localStore,i.targetId,!0))})}function n4(t,e){return S(this,null,function*(){let n=he(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gI(n.remoteStore,r.targetId))})}function KN(t,e){return S(this,null,function*(){let n=he(t);try{let r=yield VH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Oe(s.lu,14607):i.removedDocuments.size>0&&(Oe(s.lu,42227),s.lu=!1))}),yield YN(n,r,e)}catch(r){yield dp(r)}})}function LR(t,e,n){let r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=he(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&_I(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function r4(t,e,n){return S(this,null,function*(){let r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ze(W.comparator);s=s.insert(o,Cn.newNoDocument(o,ee.min()));let a=pe().add(o),u=new qf(ee.min(),new Map,new ze(oe),s,a);yield KN(r,u),r.du=r.du.remove(o),r.Eu.delete(e),II(r)}else yield xE(r.localStore,e,!1).then(()=>tI(r,e,n)).catch(dp)})}function tI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||QN(t,r)})}function QN(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(gI(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),II(t))}function VR(t,e,n){for(let r of n)r instanceof rp?(t.Au.addReference(r.key,e),i4(t,r)):r instanceof ip?(j(EI,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||QN(t,r.key)):Q(19791,{yu:r})}function i4(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(j(EI,"New document in limbo: "+n),t.Iu.add(r),II(t))}function II(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new W(He.fromString(e)),r=t.mu.next();t.Eu.set(r,new XE(n)),t.du=t.du.insert(n,r),HN(t.remoteStore,new bu(Gn(fI(n.path)),r,"TargetPurposeLimboResolution",cI.ue))}}function YN(t,e,n){return S(this,null,function*(){let r=he(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=RE.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return S(this,null,function*(){let h=he(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ta(p))throw p;j(pI,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),b=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(b);h.Fs=h.Fs.insert(m,N)}}})}(r.localStore,o))})}function o4(t,e){return S(this,null,function*(){let n=he(t);if(!n.currentUser.isEqual(e)){j(EI,"User change. New user:",e.toKey());let r=yield UN(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new $(F.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield YN(n,r.Bs)}})}function s4(t,e){let n=he(t),r=n.Eu.get(e);if(r&&r.lu)return pe().add(r.key);{let i=pe(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function JN(t){let e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r4.bind(null,e),e.hu.J_=YH.bind(null,e.eventManager),e.hu.pu=JH.bind(null,e.eventManager),e}var ZN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return S(this,null,function*(){this.serializer=$N(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return LH(this.persistence,new ME,n.initialUser,this.serializer)}Du(n){return new Yf(AE.Vi,this.serializer)}bu(n){return new OE}terminate(){return S(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),nI=class extends ZN{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Oe(this.persistence.referenceDelegate instanceof Jf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new gE(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Yf(r=>Jf.Vi(r,n),this.serializer)}};var a4=(()=>{class t{initialize(n,r){return S(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>LR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=o4.bind(null,this.syncEngine),yield WH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new KE}()}createDatastore(n){let r=$N(n.databaseInfo.databaseId),i=function(s){return new jE(s)}(n.databaseInfo);return function(s,a,u,l){return new HE(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new qE(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>LR(this.syncEngine,r,0),function(){return Xf.C()?new Xf:new kE}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new eI(o,s,a,u,l,h);return p&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var n,r;yield function(o){return S(this,null,function*(){let s=he(o);j(Zs,"RemoteStore shutting down."),s.Ia.add(5),yield Pu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var rI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var gi="FirestoreClient",iI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=Lf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>S(this,null,function*(){j(gi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j(gi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=GN(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function P_(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j(gi,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(null,null,function*(){r.isEqual(i)||(yield UN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{hi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{j("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{hi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function jR(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield c4(t);j(gi,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>OR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>OR(e.remoteStore,i)),t._onlineComponents=e})}function c4(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j(gi,"Using user provided OfflineComponentProvider");try{yield P_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;hi("Error using user provided cache. Falling back to memory cache: "+n),yield P_(t,new ZN)}}else j(gi,"Using default OfflineComponentProvider"),yield P_(t,new nI(void 0));return t._offlineComponents})}function u4(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j(gi,"Using user provided OnlineComponentProvider"),yield jR(t,t._uninitializedComponentsProvider._online)):(j(gi,"Using default OnlineComponentProvider"),yield jR(t,new a4))),t._onlineComponents})}function UR(t){return S(this,null,function*(){let e=yield u4(t),n=e.eventManager;return n.onListen=ZH.bind(null,e.syncEngine),n.onUnlisten=t4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n4.bind(null,e.syncEngine),n})}function XN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var BR=new Map;var eM="firestore.googleapis.com",$R=!0,op=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eM,this.ssl=$R}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:$R;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OH)throw new $(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Au=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new op({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new op(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new x_;switch(r.type){case"firstParty":return new L_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=BR.get(n);r&&(j("ComponentProvider","Removing Datastore"),BR.delete(n),r.terminate())}(this),Promise.resolve()}};function tM(t,e,n,r={}){var i;t=Pf(t,Au);let o=no(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Lv(`https://${u}`),Vv("Firestore",!0)),s.host!==eM&&s.host!==u&&hi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!ro(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ot.MOCK_USER;else{h=XS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new $(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ot(m)}t._authCredentials=new O_(new kf(h,p))}}var sp=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Wn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Nu(n,t._jsonSchema))return new t(e,r||null,new W(He.fromString(n.referencePath)))}};Wn._jsonSchemaVersion="firestore/documentReference/1.0",Wn._jsonSchema={type:Qe("string",Wn._jsonSchemaVersion),referencePath:Qe("string")};var Fs=class t extends sp{constructor(e,n,r){super(e,n,fI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new W(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function nM(t,e,...n){if(t=vr(t),A$("collection","path",e),t instanceof Au){let r=He.fromString(e,...n);return oR(r),new Fs(t,null,r)}{if(!(t instanceof Wn||t instanceof Fs))throw new $(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(He.fromString(e,...n));return oR(r),new Fs(t.firestore,null,r)}}var HR="AsyncQueue",ap=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ep(this,"async_queue_retry"),this.oc=()=>{let r=M_();r&&j(HR,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=M_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=M_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new di;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return S(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ta(e))throw e;j(HR,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Dr("INTERNAL UNHANDLED ERROR: ",zR(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=GE.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Q(47125,{hc:zR(this.tc)})}verifyOperationInProgress(){}Pc(){return S(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function zR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function qR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Ru=class extends Au{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ap,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ap(e),this._firestoreClient=void 0,yield e}})}};function rM(t,e){let n=typeof t=="object"?t:bs(),r=typeof t=="string"?t:e||$f,i=uf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=JS("firestore");o&&tM(i,...o)}return i}function l4(t){if(t._terminated)throw new $(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||d4(t),t._firestoreClient}function d4(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new $_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,XN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new iI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Ls=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Et.fromBase64String(e))}catch(n){throw new $(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Ls._jsonSchemaVersion="firestore/bytes/1.0",Ls._jsonSchema={type:Qe("string",Ls._jsonSchemaVersion),bytes:Qe("string")};var cp=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vs=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Nu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Vs._jsonSchemaVersion="firestore/geoPoint/1.0",Vs._jsonSchema={type:Qe("string",Vs._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};var js=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new $(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};js._jsonSchemaVersion="firestore/vectorValue/1.0",js._jsonSchema={type:Qe("string",js._jsonSchemaVersion),vectorValues:Qe("object")};var h4=new RegExp("[~\\*/\\[\\]]");function f4(t,e,n){if(e.search(h4)>=0)throw GR(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cp(...e.split("."))._internalPath}catch{throw GR(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function GR(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(F.INVALID_ARGUMENT,a+t+u)}var up=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new oI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(iM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},oI=class extends up{data(){return super.data()}};function iM(t,e){return typeof e=="string"?f4(t,e):e instanceof cp?e._internalPath:e._delegate._internalPath}function p4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sI=class{convertValue(e,n="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Mu(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[vu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Me(s.doubleValue));return new js(o)}convertGeoPoint(e){return new Vs(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=fp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){let n=br(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=He.fromString(e);Oe(VN(r),9688,{name:e});let i=new Hf(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||Dr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var mo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},yo=class t extends up{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Us(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(iM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};yo._jsonSchemaVersion="firestore/documentSnapshot/1.0",yo._jsonSchema={type:Qe("string",yo._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};var Us=class extends yo{data(e={}){return super.data(e)}},Bs=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Us(this._firestore,this._userDataWriter,r.key,r,new mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Us(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Us(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:g4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function g4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}Bs._jsonSchemaVersion="firestore/querySnapshot/1.0",Bs._jsonSchema={type:Qe("string",Bs._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};var lp=class extends sI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}};function wI(t,...e){var n,r,i;t=vr(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||qR(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(qR(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Wn)l=Pf(t.firestore,Ru),h=fI(t._key.path),u={next:p=>{e[s]&&e[s](m4(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Pf(t,sp);l=Pf(p.firestore,Ru),h=p._query;let m=new lp(l);u={next:y=>{e[s]&&e[s](new Bs(l,m,p,y))},error:e[s+1],complete:e[s+2]},p4(t._query)}return function(m,y,b,N){let M=new rI(N),x=new YE(y,M,b);return m.asyncQueue.enqueueAndForget(()=>S(null,null,function*(){return KH(yield UR(m),x)})),()=>{M.Ou(),m.asyncQueue.enqueueAndForget(()=>S(null,null,function*(){return QH(yield UR(m),x)}))}}(l4(l),h,a,u)}function m4(t,e,n){let r=n.docs.get(e._key),i=new lp(t);return new yo(t,i,e._key,r,new mo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ea=i})(Ds),Tn(new Nt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ru(new k_(r.getProvider("auth-internal")),new V_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),$e(tR,nR,e),$e(tR,nR,"esm2017")})();var yp=function(){return yp=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},yp.apply(this,arguments)};var _4={includeMetadataChanges:!1};function oM(t,e){return e===void 0&&(e=_4),new G(function(n){var r=wI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function sM(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:yp(yp({},r),(n={},n[e.idField]=t.id,n))}function aM(t){return oM(t,{includeMetadataChanges:!0}).pipe(H(function(e){return e.docs}))}function cM(t,e){return e===void 0&&(e={}),aM(t).pipe(H(function(n){return n.map(function(r){return sM(r,e)})}))}var Eo=class{constructor(e){return e}},uM="firestore",TI=class{constructor(){return Ss(uM)}};var DI=new U("angularfire2.firestore-instances");function E4(t,e){let n=hf(uM,t,e);return n&&new Eo(n)}function I4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Eo(r)}}var w4={provide:TI,deps:[[new Vn,DI]]},T4={provide:Eo,useFactory:E4,deps:[[new Vn,DI],co]};function lM(t,...e){return $e("angularfire",so.full,"fst"),Mn([T4,w4,{provide:DI,useFactory:I4(t),multi:!0,deps:[be,dt,ao,nu,[new Vn,Cf],[new Vn,pf],...e]}])}var dM=ci(cM,!0);var hM=ci(nM,!0,2);var fM=ci(rM,!0);var pM=(()=>{let e=class e{constructor(r){this.firestore=r}getTasks(){let r=hM(this.firestore,"tasks");return dM(r,{idField:"id"})}};e.\u0275fac=function(i){return new(i||e)(q(Eo))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function C4(t,e){if(t&1&&(Z(0,"div",5)(1,"span",6),_e(2),ne(),Z(3,"span",7),_e(4),ne()()),t&2){let n=e.$implicit;Le(2),dr(n.time||"\u041D\u0435\u0442 \u0432\u0440\u0435\u043C\u0435\u043D\u0438"),Le(2),dr(n.name||"\u0411\u0435\u0437 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044F")}}function S4(t,e){if(t&1&&(Z(0,"div"),mn(1,C4,5,2,"div",4),ti(2,"async"),ne()),t&2){let n=lr();Le(),qt("ngForOf",Zd(2,1,n.tasks$))}}function A4(t,e){t&1&&(Z(0,"p"),_e(1,"\u0417\u0430\u0434\u0430\u0447\u0438 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B"),ne())}var gM=(()=>{let e=class e{constructor(r){this.taskService=r,this.tasks$=this.taskService.getTasks()}};e.\u0275fac=function(i){return new(i||e)(le(pM))},e.\u0275cmp=xe({type:e,selectors:[["app-calendar"]],decls:6,vars:4,consts:[["noTasks",""],[1,"form"],[1,"schedule-section","glass-effect"],[4,"ngIf","ngIfElse"],["class","schedule-item",4,"ngFor","ngForOf"],[1,"schedule-item"],[1,"time-badge"],[1,"event-name"]],template:function(i,o){if(i&1&&(Z(0,"div",1)(1,"div",2),mn(2,S4,3,3,"div",3),ti(3,"async"),mn(4,A4,2,0,"ng-template",null,0,Sy),ne()()),i&2){let s,a=Dy(5);Le(2),qt("ngIf",(s=Zd(3,2,o.tasks$))==null?null:s.length)("ngIfElse",a)}},dependencies:[Ge,rs,Wi,zy],styles:[".form[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-direction:row;justify-content:space-between}.schedule-section[_ngcontent-%COMP%]{grid-area:schedule;display:flex;flex-direction:column;gap:15px}.schedule-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;color:#fff;margin:15px}.time-badge[_ngcontent-%COMP%]{background:#033f7dcc;padding:4px 12px;border-radius:20px;font-size:.9rem;font-weight:500;min-width:60px;text-align:center}.event-name[_ngcontent-%COMP%]{font-weight:400}"]});let t=e;return t})();function R4(t,e){if(t&1&&(Z(0,"div",15)(1,"div",16),yt(2,"span",17),ne(),Z(3,"div",18),_e(4,"Today"),ne(),Z(5,"div",19),_e(6),ne()()),t&2){let n=lr();Le(2),qt("innerHTML",n.getWeatherIcon(n.weather.iconClassname),ey),Le(4),vn(" ",n.weather.temp,"\xB0 ")}}function N4(t,e){if(t&1&&yt(0,"app-forecast",20),t&2){let n=lr();qt("cityName",n.weather.city)("measureOfTemp",n.measureOfTemp)("viewMode",n.viewMode)}}var bI=(()=>{let e=class e{constructor(){this.weatherService=R(Es),this.appService=R(si),this.route=R(Ut),this.router=R(oi),this.weather=null,this.unitSystem="metric",this.measureOfTemp="C",this.viewMode="daily"}ngOnInit(){this.unitSystem=this.appService.getUnitSystem(),this.measureOfTemp=this.unitSystem==="metric"?"C":"F",this.route.params.subscribe(r=>{r.city?this.loadWeatherForCity(r.city):this.loadWeatherForCurrentLocation()}),this.weatherSubscription=this.weatherService.getWeather().subscribe(r=>{this.weather=r})}ngOnDestroy(){this.weatherSubscription?.unsubscribe()}setViewMode(r){this.viewMode=r}getWeatherIcon(r){return{"wi-day-sunny":"\u2600\uFE0F","wi-day-cloudy":"\u26C5","wi-cloudy":"\u2601\uFE0F","wi-rain":"\u{1F327}\uFE0F","wi-snow":"\u2744\uFE0F","wi-thunderstorm":"\u26C8\uFE0F","wi-night-clear":"\u{1F319}","wi-night-cloudy":"\u2601\uFE0F"}[r]||"\u2600\uFE0F"}loadWeatherForCity(r){this.weatherService.createResponseWeatherByCity(r).subscribe({next:i=>{this.weather=i},error:i=>{console.error("Error loading weather for city:",i),this.router.navigate(["/not-found"],{queryParams:{city:r}})}})}loadWeatherForCurrentLocation(){this.weatherService.getWeatherByCurrentLocation().subscribe({next:r=>{this.router.navigate(["/city",r])},error:r=>{console.error("Error loading weather for current location:",r)}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-weather"]],decls:24,vars:6,consts:[[1,"weather-container"],[1,"header"],[1,"time-section"],[1,"time"],[1,"date"],[1,"search-section"],[1,"auth-section"],[1,"btn","btn-primary"],[1,"form"],[1,"calendar"],[1,"forecast-controls"],[1,"btn","btn-secondary",3,"click"],[1,"forecast-section"],["class","current-weather glass-effect",4,"ngIf"],[3,"cityName","measureOfTemp","viewMode",4,"ngIf"],[1,"current-weather","glass-effect"],[1,"weather-icon"],[3,"innerHTML"],[1,"today-label"],[1,"temperature"],[3,"cityName","measureOfTemp","viewMode"]],template:function(i,o){i&1&&(Z(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),yt(4,"app-clock"),ne(),Z(5,"div",4),yt(6,"app-date"),ne()(),Z(7,"div",5),yt(8,"app-search-bar"),ne()(),Z(9,"div",6)(10,"button",7),_e(11,"Sign In"),ne(),Z(12,"button",7),_e(13,"Sign Up"),ne()(),Z(14,"div",8),yt(15,"app-calendar",9),Z(16,"div",10)(17,"button",11),jn("click",function(){return o.setViewMode("daily")}),_e(18," Daily "),ne(),Z(19,"button",11),jn("click",function(){return o.setViewMode("hourly")}),_e(20," Hourly "),ne()()(),Z(21,"div",12),mn(22,R4,7,2,"div",13)(23,N4,1,3,"app-forecast",14),ne()()),i&2&&(Le(17),yn("active",o.viewMode==="daily"),Le(2),yn("active",o.viewMode==="hourly"),Le(3),qt("ngIf",o.weather),Le(),qt("ngIf",o.weather))},dependencies:[Ge,Wi,jS,BS,HS,qS,gM],styles:['.calendar[_ngcontent-%COMP%]{margin-top:30px}.form[_ngcontent-%COMP%]{margin-top:30px;display:flex;align-items:flex-end;flex-direction:row;justify-content:space-between}.weather-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;position:relative;background:#ffffff4d;-webkit-backdrop-filter:blur(17px);backdrop-filter:blur(17px);border-radius:16px;padding:55px 55px 0}.header[_ngcontent-%COMP%]{grid-area:header;display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:40px}.time-section[_ngcontent-%COMP%]{color:#000}.time[_ngcontent-%COMP%]{font-size:50px;font-weight:400;margin-bottom:5px}.date[_ngcontent-%COMP%]{font-size:50px;font-weight:400;opacity:.9}.auth-section[_ngcontent-%COMP%]{display:flex;gap:10px}.search-section[_ngcontent-%COMP%]{grid-area:search;display:flex;justify-content:center}.schedule-section[_ngcontent-%COMP%]{grid-area:schedule;padding:20px;display:flex;flex-direction:column;gap:15px}.schedule-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;color:#fff;margin:15px}.time-badge[_ngcontent-%COMP%]{background:#74b9ffcc;padding:4px 12px;border-radius:20px;font-size:17px;font-weight:500;min-width:60px;text-align:center}.event-name[_ngcontent-%COMP%]{font-weight:400;font-size:23px}.forecast-section[_ngcontent-%COMP%]{grid-area:forecast;display:flex;gap:20px;margin-top:20px}.forecast-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.forecast-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:80px}.forecast-controls[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background:#ffffff4d}.current-weather[_ngcontent-%COMP%]{grid-area:current;text-align:center;color:#fff;display:flex;align-content:center;flex-direction:row;align-items:center;gap:9px}.today-label[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:10px;opacity:.9}.weather-icon[_ngcontent-%COMP%]{font-size:4rem;margin:10px 0}.temperature[_ngcontent-%COMP%]{font-size:2rem;font-weight:300}@media (max-width: 768px){.weather-container[_ngcontent-%COMP%]{grid-template-areas:"header" "search" "schedule" "current" "forecast";grid-template-columns:1fr;grid-template-rows:auto auto auto auto 1fr}.current-weather[_ngcontent-%COMP%], .forecast-controls[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;text-align:center}.time[_ngcontent-%COMP%]{font-size:2rem}}']});let t=e;return t})();var mM=(()=>{let e=class e{constructor(){this.route=R(Ut),this.city="",this.route.queryParams.subscribe(r=>{this.city=r.city||""})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-not-found"]],decls:7,vars:1,consts:[[1,"not-found-container","glass-effect"]],template:function(i,o){i&1&&(Z(0,"div",0)(1,"h2"),_e(2,"City Not Found"),ne(),Z(3,"p"),_e(4),ne(),Z(5,"p"),_e(6,"Please try searching for another city."),ne()()),i&2&&(Le(4),vn("Sorry, but city '",o.city,"' was not found."))},dependencies:[Ge],styles:[".not-found-container[_ngcontent-%COMP%]{max-width:500px;margin:100px auto;padding:40px;text-align:center;color:#fff}h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:2rem}p[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1.1rem;opacity:.9}"]});let t=e;return t})();var yM=(()=>{let e=class e{constructor(r){this.route=r,r.data.subscribe(i=>{this.title=i.title,this.message=i.message})}};e.\u0275fac=function(i){return new(i||e)(le(Ut))},e.\u0275cmp=xe({type:e,selectors:[["app-error"]],decls:7,vars:0,consts:[[1,"error-container","glass-effect"]],template:function(i,o){i&1&&(Z(0,"div",0)(1,"h2"),_e(2,"Oops! Something went wrong"),ne(),Z(3,"p"),_e(4,"We're sorry, but something unexpected happened."),ne(),Z(5,"p"),_e(6,"Please try refreshing the page or go back to the home page."),ne()())},dependencies:[Ge],styles:[".error-container[_ngcontent-%COMP%]{max-width:500px;margin:100px auto;padding:40px;text-align:center;color:#fff}h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:2rem}p[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1.1rem;opacity:.9}"]});let t=e;return t})();var vM=[{path:"",component:bI},{path:"city/:city",component:bI},{path:"not-found",component:mM},{path:"error",component:yM},{path:"**",redirectTo:"/error"}];var M4={apiKey:"AIzaSyB8XEGQL7yNACl5wj9VsPr_-0v5q3kexqc",authDomain:"weather-app-41e69.firebaseapp.com",projectId:"weather-app-41e69",storageBucket:"weather-app-41e69.appspot.com",messagingSenderId:"317460239169",appId:"1:317460239169:web:b02e207007d246c1a307c0"};Zy(vS,{providers:[bv(vM),tv(),DA(()=>bA(M4)),lM(()=>fM())]}).catch(t=>console.error(t));
